(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mu(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function o_(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),n}var O0={exports:{}},gu={},j0={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),a_=Symbol.for("react.portal"),l_=Symbol.for("react.fragment"),u_=Symbol.for("react.strict_mode"),c_=Symbol.for("react.profiler"),h_=Symbol.for("react.provider"),d_=Symbol.for("react.context"),f_=Symbol.for("react.forward_ref"),p_=Symbol.for("react.suspense"),m_=Symbol.for("react.memo"),g_=Symbol.for("react.lazy"),Sp=Symbol.iterator;function v_(r){return r===null||typeof r!="object"?null:(r=Sp&&r[Sp]||r["@@iterator"],typeof r=="function"?r:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z0=Object.assign,G0={};function ks(r,e,n){this.props=r,this.context=e,this.refs=G0,this.updater=n||U0}ks.prototype.isReactComponent={};ks.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};ks.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function H0(){}H0.prototype=ks.prototype;function df(r,e,n){this.props=r,this.context=e,this.refs=G0,this.updater=n||U0}var ff=df.prototype=new H0;ff.constructor=df;z0(ff,ks.prototype);ff.isPureReactComponent=!0;var Tp=Array.isArray,$0=Object.prototype.hasOwnProperty,pf={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function W0(r,e,n){var i,s={},o=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)$0.call(e,i)&&!V0.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(r&&r.defaultProps)for(i in l=r.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Qo,type:r,key:o,ref:a,props:s,_owner:pf.current}}function y_(r,e){return{$$typeof:Qo,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function mf(r){return typeof r=="object"&&r!==null&&r.$$typeof===Qo}function x_(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(n){return e[n]})}var Ap=/\/+/g;function Ku(r,e){return typeof r=="object"&&r!==null&&r.key!=null?x_(""+r.key):e.toString(36)}function Ja(r,e,n,i,s){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Qo:case a_:a=!0}}if(a)return a=r,s=s(a),r=i===""?"."+Ku(a,0):i,Tp(s)?(n="",r!=null&&(n=r.replace(Ap,"$&/")+"/"),Ja(s,e,n,"",function(c){return c})):s!=null&&(mf(s)&&(s=y_(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ap,"$&/")+"/")+r)),e.push(s)),1;if(a=0,i=i===""?".":i+":",Tp(r))for(var l=0;l<r.length;l++){o=r[l];var u=i+Ku(o,l);a+=Ja(o,e,n,u,s)}else if(u=v_(r),typeof u=="function")for(r=u.call(r),l=0;!(o=r.next()).done;)o=o.value,u=i+Ku(o,l++),a+=Ja(o,e,n,u,s);else if(o==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function la(r,e,n){if(r==null)return r;var i=[],s=0;return Ja(r,i,"","",function(o){return e.call(n,o,s++)}),i}function __(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(n){(r._status===0||r._status===-1)&&(r._status=1,r._result=n)},function(n){(r._status===0||r._status===-1)&&(r._status=2,r._result=n)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var yt={current:null},el={transition:null},b_={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:el,ReactCurrentOwner:pf};ce.Children={map:la,forEach:function(r,e,n){la(r,function(){e.apply(this,arguments)},n)},count:function(r){var e=0;return la(r,function(){e++}),e},toArray:function(r){return la(r,function(e){return e})||[]},only:function(r){if(!mf(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};ce.Component=ks;ce.Fragment=l_;ce.Profiler=c_;ce.PureComponent=df;ce.StrictMode=u_;ce.Suspense=p_;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;ce.cloneElement=function(r,e,n){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var i=z0({},r.props),s=r.key,o=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=pf.current),e.key!==void 0&&(s=""+e.key),r.type&&r.type.defaultProps)var l=r.type.defaultProps;for(u in e)$0.call(e,u)&&!V0.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:Qo,type:r.type,key:s,ref:o,props:i,_owner:a}};ce.createContext=function(r){return r={$$typeof:d_,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:h_,_context:r},r.Consumer=r};ce.createElement=W0;ce.createFactory=function(r){var e=W0.bind(null,r);return e.type=r,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(r){return{$$typeof:f_,render:r}};ce.isValidElement=mf;ce.lazy=function(r){return{$$typeof:g_,_payload:{_status:-1,_result:r},_init:__}};ce.memo=function(r,e){return{$$typeof:m_,type:r,compare:e===void 0?null:e}};ce.startTransition=function(r){var e=el.transition;el.transition={};try{r()}finally{el.transition=e}};ce.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ce.useCallback=function(r,e){return yt.current.useCallback(r,e)};ce.useContext=function(r){return yt.current.useContext(r)};ce.useDebugValue=function(){};ce.useDeferredValue=function(r){return yt.current.useDeferredValue(r)};ce.useEffect=function(r,e){return yt.current.useEffect(r,e)};ce.useId=function(){return yt.current.useId()};ce.useImperativeHandle=function(r,e,n){return yt.current.useImperativeHandle(r,e,n)};ce.useInsertionEffect=function(r,e){return yt.current.useInsertionEffect(r,e)};ce.useLayoutEffect=function(r,e){return yt.current.useLayoutEffect(r,e)};ce.useMemo=function(r,e){return yt.current.useMemo(r,e)};ce.useReducer=function(r,e,n){return yt.current.useReducer(r,e,n)};ce.useRef=function(r){return yt.current.useRef(r)};ce.useState=function(r){return yt.current.useState(r)};ce.useSyncExternalStore=function(r,e,n){return yt.current.useSyncExternalStore(r,e,n)};ce.useTransition=function(){return yt.current.useTransition()};ce.version="18.2.0";j0.exports=ce;var U=j0.exports;const Jn=mu(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=U,E_=Symbol.for("react.element"),C_=Symbol.for("react.fragment"),S_=Object.prototype.hasOwnProperty,T_=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A_={key:!0,ref:!0,__self:!0,__source:!0};function X0(r,e,n){var i,s={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)S_.call(e,i)&&!A_.hasOwnProperty(i)&&(s[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:E_,type:r,key:o,ref:a,props:s,_owner:T_.current}}gu.Fragment=C_;gu.jsx=X0;gu.jsxs=X0;O0.exports=gu;var h=O0.exports,ph={},Y0={exports:{}},Lt={},K0={exports:{}},q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(R,H){var N=R.length;R.push(H);e:for(;0<N;){var L=N-1>>>1,V=R[L];if(0<s(V,H))R[L]=H,R[N]=V,N=L;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var H=R[0],N=R.pop();if(N!==H){R[0]=N;e:for(var L=0,V=R.length,se=V>>>1;L<se;){var ne=2*(L+1)-1,ye=R[ne],oe=ne+1,ge=R[oe];if(0>s(ye,N))oe<V&&0>s(ge,ye)?(R[L]=ge,R[oe]=N,L=oe):(R[L]=ye,R[ne]=N,L=ne);else if(oe<V&&0>s(ge,N))R[L]=ge,R[oe]=N,L=oe;else break e}}return H}function s(R,H){var N=R.sortIndex-H.sortIndex;return N!==0?N:R.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();r.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,p=3,m=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var H=n(c);H!==null;){if(H.callback===null)i(c);else if(H.startTime<=R)i(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function w(R){if(x=!1,v(R),!g)if(n(u)!==null)g=!0,j(E);else{var H=n(c);H!==null&&K(w,H.startTime-R)}}function E(R,H){g=!1,x&&(x=!1,y(C),C=-1),m=!0;var N=p;try{for(v(H),f=n(u);f!==null&&(!(f.expirationTime>H)||R&&!S());){var L=f.callback;if(typeof L=="function"){f.callback=null,p=f.priorityLevel;var V=L(f.expirationTime<=H);H=r.unstable_now(),typeof V=="function"?f.callback=V:f===n(u)&&i(u),v(H)}else i(u);f=n(u)}if(f!==null)var se=!0;else{var ne=n(c);ne!==null&&K(w,ne.startTime-H),se=!1}return se}finally{f=null,p=N,m=!1}}var k=!1,T=null,C=-1,M=5,P=-1;function S(){return!(r.unstable_now()-P<M)}function O(){if(T!==null){var R=r.unstable_now();P=R;var H=!0;try{H=T(!0,R)}finally{H?A():(k=!1,T=null)}}else k=!1}var A;if(typeof _=="function")A=function(){_(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=O,A=function(){G.postMessage(null)}}else A=function(){b(O,0)};function j(R){T=R,k||(k=!0,A())}function K(R,H){C=b(function(){R(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(R){R.callback=null},r.unstable_continueExecution=function(){g||m||(g=!0,j(E))},r.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<R?Math.floor(1e3/R):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return n(u)},r.unstable_next=function(R){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var N=p;p=H;try{return R()}finally{p=N}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(R,H){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var N=p;p=R;try{return H()}finally{p=N}},r.unstable_scheduleCallback=function(R,H,N){var L=r.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?L+N:L):N=L,R){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=N+V,R={id:d++,callback:H,priorityLevel:R,startTime:N,expirationTime:V,sortIndex:-1},N>L?(R.sortIndex=N,e(c,R),n(u)===null&&R===n(c)&&(x?(y(C),C=-1):x=!0,K(w,N-L))):(R.sortIndex=V,e(u,R),g||m||(g=!0,j(E))),R},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(R){var H=p;return function(){var N=p;p=H;try{return R.apply(this,arguments)}finally{p=N}}}})(q0);K0.exports=q0;var k_=K0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0=U,Rt=k_;function D(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z0=new Set,Ao={};function xi(r,e){ps(r,e),ps(r+"Capture",e)}function ps(r,e){for(Ao[r]=e,r=0;r<e.length;r++)Z0.add(e[r])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=Object.prototype.hasOwnProperty,N_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kp={},Np={};function I_(r){return mh.call(Np,r)?!0:mh.call(kp,r)?!1:N_.test(r)?Np[r]=!0:(kp[r]=!0,!1)}function P_(r,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function R_(r,e,n,i){if(e===null||typeof e>"u"||P_(r,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(r,e,n,i,s,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){ut[r]=new xt(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];ut[e]=new xt(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){ut[r]=new xt(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){ut[r]=new xt(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){ut[r]=new xt(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){ut[r]=new xt(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){ut[r]=new xt(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){ut[r]=new xt(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){ut[r]=new xt(r,5,!1,r.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function vf(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(gf,vf);ut[e]=new xt(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(gf,vf);ut[e]=new xt(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(gf,vf);ut[e]=new xt(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){ut[r]=new xt(r,1,!1,r.toLowerCase(),null,!1,!1)});ut.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){ut[r]=new xt(r,1,!1,r.toLowerCase(),null,!0,!0)});function yf(r,e,n,i){var s=ut.hasOwnProperty(e)?ut[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R_(e,n,s,i)&&(n=null),i||s===null?I_(e)&&(n===null?r.removeAttribute(e):r.setAttribute(e,""+n)):s.mustUseProperty?r[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?r.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?r.setAttributeNS(i,e,n):r.setAttribute(e,n))))}var Jr=Q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),ji=Symbol.for("react.portal"),Ui=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),ev=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),yh=Symbol.for("react.suspense_list"),bf=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),tv=Symbol.for("react.offscreen"),Ip=Symbol.iterator;function Ds(r){return r===null||typeof r!="object"?null:(r=Ip&&r[Ip]||r["@@iterator"],typeof r=="function"?r:null)}var Fe=Object.assign,qu;function eo(r){if(qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qu=e&&e[1]||""}return`
`+qu+r}var Qu=!1;function Zu(r,e){if(!r||Qu)return"";Qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(r,[],e)}else{try{e.call()}catch(c){i=c}r.call(e.prototype)}else{try{throw Error()}catch(c){i=c}r()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=i.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var u=`
`+s[a].replace(" at new "," at ");return r.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",r.displayName)),u}while(1<=a&&0<=l);break}}}finally{Qu=!1,Error.prepareStackTrace=n}return(r=r?r.displayName||r.name:"")?eo(r):""}function M_(r){switch(r.tag){case 5:return eo(r.type);case 16:return eo("Lazy");case 13:return eo("Suspense");case 19:return eo("SuspenseList");case 0:case 2:case 15:return r=Zu(r.type,!1),r;case 11:return r=Zu(r.type.render,!1),r;case 1:return r=Zu(r.type,!0),r;default:return""}}function xh(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Ui:return"Fragment";case ji:return"Portal";case gh:return"Profiler";case xf:return"StrictMode";case vh:return"Suspense";case yh:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ev:return(r.displayName||"Context")+".Consumer";case J0:return(r._context.displayName||"Context")+".Provider";case _f:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case bf:return e=r.displayName||null,e!==null?e:xh(r.type)||"Memo";case un:e=r._payload,r=r._init;try{return xh(r(e))}catch{}}return null}function B_(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xh(e);case 8:return e===xf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function In(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function rv(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L_(r){var e=rv(r)?"checked":"value",n=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),i=""+r[e];if(!r.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,o.call(this,a)}}),Object.defineProperty(r,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function ca(r){r._valueTracker||(r._valueTracker=L_(r))}function nv(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return r&&(i=rv(r)?r.checked?"true":"false":r.value),r=i,r!==n?(e.setValue(r),!0):!1}function bl(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _h(r,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??r._wrapperState.initialChecked})}function Pp(r,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=In(e.value!=null?e.value:n),r._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iv(r,e){e=e.checked,e!=null&&yf(r,"checked",e,!1)}function bh(r,e){iv(r,e);var n=In(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+n):r.value!==""+n&&(r.value=""+n);else if(i==="submit"||i==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?wh(r,e.type,n):e.hasOwnProperty("defaultValue")&&wh(r,e.type,In(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function Rp(r,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,n||e===r.value||(r.value=e),r.defaultValue=e}n=r.name,n!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,n!==""&&(r.name=n)}function wh(r,e,n){(e!=="number"||bl(r.ownerDocument)!==r)&&(n==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+n&&(r.defaultValue=""+n))}var to=Array.isArray;function Ji(r,e,n,i){if(r=r.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<r.length;n++)s=e.hasOwnProperty("$"+r[n].value),r[n].selected!==s&&(r[n].selected=s),s&&i&&(r[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,s=0;s<r.length;s++){if(r[s].value===n){r[s].selected=!0,i&&(r[s].defaultSelected=!0);return}e!==null||r[s].disabled||(e=r[s])}e!==null&&(e.selected=!0)}}function Eh(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Mp(r,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(to(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}r._wrapperState={initialValue:In(n)}}function sv(r,e){var n=In(e.value),i=In(e.defaultValue);n!=null&&(n=""+n,n!==r.value&&(r.value=n),e.defaultValue==null&&r.defaultValue!==n&&(r.defaultValue=n)),i!=null&&(r.defaultValue=""+i)}function Bp(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function ov(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?ov(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ha,av=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return r(e,n,i,s)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(ha=ha||document.createElement("div"),ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ha.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function ko(r,e){if(e){var n=r.firstChild;if(n&&n===r.lastChild&&n.nodeType===3){n.nodeValue=e;return}}r.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},D_=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(r){D_.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),fo[e]=fo[r]})});function lv(r,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fo.hasOwnProperty(r)&&fo[r]?(""+e).trim():e+"px"}function uv(r,e){r=r.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=lv(n,e[n],i);n==="float"&&(n="cssFloat"),i?r.setProperty(n,s):r[n]=s}}var F_=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(r,e){if(e){if(F_[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Th(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=null;function wf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var kh=null,es=null,ts=null;function Lp(r){if(r=ea(r)){if(typeof kh!="function")throw Error(D(280));var e=r.stateNode;e&&(e=bu(e),kh(r.stateNode,r.type,e))}}function cv(r){es?ts?ts.push(r):ts=[r]:es=r}function hv(){if(es){var r=es,e=ts;if(ts=es=null,Lp(r),e)for(r=0;r<e.length;r++)Lp(e[r])}}function dv(r,e){return r(e)}function fv(){}var Ju=!1;function pv(r,e,n){if(Ju)return r(e,n);Ju=!0;try{return dv(r,e,n)}finally{Ju=!1,(es!==null||ts!==null)&&(fv(),hv())}}function No(r,e){var n=r.stateNode;if(n===null)return null;var i=bu(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(r=r.type,i=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!i;break e;default:r=!1}if(r)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Nh=!1;if(Xr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Nh=!1}function O_(r,e,n,i,s,o,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var po=!1,wl=null,El=!1,Ih=null,j_={onError:function(r){po=!0,wl=r}};function U_(r,e,n,i,s,o,a,l,u){po=!1,wl=null,O_.apply(j_,arguments)}function z_(r,e,n,i,s,o,a,l,u){if(U_.apply(this,arguments),po){if(po){var c=wl;po=!1,wl=null}else throw Error(D(198));El||(El=!0,Ih=c)}}function _i(r){var e=r,n=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(n=e.return),r=e.return;while(r)}return e.tag===3?n:null}function mv(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function Dp(r){if(_i(r)!==r)throw Error(D(188))}function G_(r){var e=r.alternate;if(!e){if(e=_i(r),e===null)throw Error(D(188));return e!==r?null:r}for(var n=r,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Dp(s),r;if(o===i)return Dp(s),e;o=o.sibling}throw Error(D(188))}if(n.return!==i.return)n=s,i=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?r:e}function gv(r){return r=G_(r),r!==null?vv(r):null}function vv(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=vv(r);if(e!==null)return e;r=r.sibling}return null}var yv=Rt.unstable_scheduleCallback,Fp=Rt.unstable_cancelCallback,H_=Rt.unstable_shouldYield,$_=Rt.unstable_requestPaint,Ve=Rt.unstable_now,V_=Rt.unstable_getCurrentPriorityLevel,Ef=Rt.unstable_ImmediatePriority,xv=Rt.unstable_UserBlockingPriority,Cl=Rt.unstable_NormalPriority,W_=Rt.unstable_LowPriority,_v=Rt.unstable_IdlePriority,vu=null,kr=null;function X_(r){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(vu,r,void 0,(r.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:q_,Y_=Math.log,K_=Math.LN2;function q_(r){return r>>>=0,r===0?32:31-(Y_(r)/K_|0)|0}var da=64,fa=4194304;function ro(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Sl(r,e){var n=r.pendingLanes;if(n===0)return 0;var i=0,s=r.suspendedLanes,o=r.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?i=ro(l):(o&=a,o!==0&&(i=ro(o)))}else a=n&~s,a!==0?i=ro(a):o!==0&&(i=ro(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=i;0<e;)n=31-or(e),s=1<<n,i|=r[n],e&=~s;return i}function Q_(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z_(r,e){for(var n=r.suspendedLanes,i=r.pingedLanes,s=r.expirationTimes,o=r.pendingLanes;0<o;){var a=31-or(o),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=Q_(l,e)):u<=e&&(r.expiredLanes|=l),o&=~l}}function Ph(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function bv(){var r=da;return da<<=1,!(da&4194240)&&(da=64),r}function ec(r){for(var e=[],n=0;31>n;n++)e.push(r);return e}function Zo(r,e,n){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-or(e),r[e]=n}function J_(r,e){var n=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var i=r.eventTimes;for(r=r.expirationTimes;0<n;){var s=31-or(n),o=1<<s;e[s]=0,i[s]=-1,r[s]=-1,n&=~o}}function Cf(r,e){var n=r.entangledLanes|=e;for(r=r.entanglements;n;){var i=31-or(n),s=1<<i;s&e|r[i]&e&&(r[i]|=e),n&=~s}}var ve=0;function wv(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ev,Sf,Cv,Sv,Tv,Rh=!1,pa=[],bn=null,wn=null,En=null,Io=new Map,Po=new Map,fn=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Op(r,e){switch(r){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Po.delete(e.pointerId)}}function Os(r,e,n,i,s,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ea(e),e!==null&&Sf(e)),r):(r.eventSystemFlags|=i,e=r.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),r)}function tb(r,e,n,i,s){switch(e){case"focusin":return bn=Os(bn,r,e,n,i,s),!0;case"dragenter":return wn=Os(wn,r,e,n,i,s),!0;case"mouseover":return En=Os(En,r,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return Io.set(o,Os(Io.get(o)||null,r,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,Po.set(o,Os(Po.get(o)||null,r,e,n,i,s)),!0}return!1}function Av(r){var e=ei(r.target);if(e!==null){var n=_i(e);if(n!==null){if(e=n.tag,e===13){if(e=mv(n),e!==null){r.blockedOn=e,Tv(r.priority,function(){Cv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){r.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}r.blockedOn=null}function tl(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var n=Mh(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(n===null){n=r.nativeEvent;var i=new n.constructor(n.type,n);Ah=i,n.target.dispatchEvent(i),Ah=null}else return e=ea(n),e!==null&&Sf(e),r.blockedOn=n,!1;e.shift()}return!0}function jp(r,e,n){tl(r)&&n.delete(e)}function rb(){Rh=!1,bn!==null&&tl(bn)&&(bn=null),wn!==null&&tl(wn)&&(wn=null),En!==null&&tl(En)&&(En=null),Io.forEach(jp),Po.forEach(jp)}function js(r,e){r.blockedOn===e&&(r.blockedOn=null,Rh||(Rh=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,rb)))}function Ro(r){function e(s){return js(s,r)}if(0<pa.length){js(pa[0],r);for(var n=1;n<pa.length;n++){var i=pa[n];i.blockedOn===r&&(i.blockedOn=null)}}for(bn!==null&&js(bn,r),wn!==null&&js(wn,r),En!==null&&js(En,r),Io.forEach(e),Po.forEach(e),n=0;n<fn.length;n++)i=fn[n],i.blockedOn===r&&(i.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Av(n),n.blockedOn===null&&fn.shift()}var rs=Jr.ReactCurrentBatchConfig,Tl=!0;function nb(r,e,n,i){var s=ve,o=rs.transition;rs.transition=null;try{ve=1,Tf(r,e,n,i)}finally{ve=s,rs.transition=o}}function ib(r,e,n,i){var s=ve,o=rs.transition;rs.transition=null;try{ve=4,Tf(r,e,n,i)}finally{ve=s,rs.transition=o}}function Tf(r,e,n,i){if(Tl){var s=Mh(r,e,n,i);if(s===null)cc(r,e,i,Al,n),Op(r,i);else if(tb(s,r,e,n,i))i.stopPropagation();else if(Op(r,i),e&4&&-1<eb.indexOf(r)){for(;s!==null;){var o=ea(s);if(o!==null&&Ev(o),o=Mh(r,e,n,i),o===null&&cc(r,e,i,Al,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else cc(r,e,i,null,n)}}var Al=null;function Mh(r,e,n,i){if(Al=null,r=wf(i),r=ei(r),r!==null)if(e=_i(r),e===null)r=null;else if(n=e.tag,n===13){if(r=mv(e),r!==null)return r;r=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Al=r,null}function kv(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V_()){case Ef:return 1;case xv:return 4;case Cl:case W_:return 16;case _v:return 536870912;default:return 16}default:return 16}}var gn=null,Af=null,rl=null;function Nv(){if(rl)return rl;var r,e=Af,n=e.length,i,s="value"in gn?gn.value:gn.textContent,o=s.length;for(r=0;r<n&&e[r]===s[r];r++);var a=n-r;for(i=1;i<=a&&e[n-i]===s[o-i];i++);return rl=s.slice(r,1<i?1-i:void 0)}function nl(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function ma(){return!0}function Up(){return!1}function Dt(r){function e(n,i,s,o,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in r)r.hasOwnProperty(l)&&(n=r[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ma:Up,this.isPropagationStopped=Up,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kf=Dt(Ns),Jo=Fe({},Ns,{view:0,detail:0}),sb=Dt(Jo),tc,rc,Us,yu=Fe({},Jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nf,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Us&&(Us&&r.type==="mousemove"?(tc=r.screenX-Us.screenX,rc=r.screenY-Us.screenY):rc=tc=0,Us=r),tc)},movementY:function(r){return"movementY"in r?r.movementY:rc}}),zp=Dt(yu),ob=Fe({},yu,{dataTransfer:0}),ab=Dt(ob),lb=Fe({},Jo,{relatedTarget:0}),nc=Dt(lb),ub=Fe({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),cb=Dt(ub),hb=Fe({},Ns,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),db=Dt(hb),fb=Fe({},Ns,{data:0}),Gp=Dt(fb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vb(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=gb[r])?!!e[r]:!1}function Nf(){return vb}var yb=Fe({},Jo,{key:function(r){if(r.key){var e=pb[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=nl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nf,charCode:function(r){return r.type==="keypress"?nl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),xb=Dt(yb),_b=Fe({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Dt(_b),bb=Fe({},Jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nf}),wb=Dt(bb),Eb=Fe({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cb=Dt(Eb),Sb=Fe({},yu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Tb=Dt(Sb),Ab=[9,13,27,32],If=Xr&&"CompositionEvent"in window,mo=null;Xr&&"documentMode"in document&&(mo=document.documentMode);var kb=Xr&&"TextEvent"in window&&!mo,Iv=Xr&&(!If||mo&&8<mo&&11>=mo),$p=" ",Vp=!1;function Pv(r,e){switch(r){case"keyup":return Ab.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zi=!1;function Nb(r,e){switch(r){case"compositionend":return Rv(e);case"keypress":return e.which!==32?null:(Vp=!0,$p);case"textInput":return r=e.data,r===$p&&Vp?null:r;default:return null}}function Ib(r,e){if(zi)return r==="compositionend"||!If&&Pv(r,e)?(r=Nv(),rl=Af=gn=null,zi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Iv&&e.locale!=="ko"?null:e.data;default:return null}}var Pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!Pb[r.type]:e==="textarea"}function Mv(r,e,n,i){cv(i),e=kl(e,"onChange"),0<e.length&&(n=new kf("onChange","change",null,n,i),r.push({event:n,listeners:e}))}var go=null,Mo=null;function Rb(r){$v(r,0)}function xu(r){var e=$i(r);if(nv(e))return r}function Mb(r,e){if(r==="change")return e}var Bv=!1;if(Xr){var ic;if(Xr){var sc="oninput"in document;if(!sc){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),sc=typeof Xp.oninput=="function"}ic=sc}else ic=!1;Bv=ic&&(!document.documentMode||9<document.documentMode)}function Yp(){go&&(go.detachEvent("onpropertychange",Lv),Mo=go=null)}function Lv(r){if(r.propertyName==="value"&&xu(Mo)){var e=[];Mv(e,Mo,r,wf(r)),pv(Rb,e)}}function Bb(r,e,n){r==="focusin"?(Yp(),go=e,Mo=n,go.attachEvent("onpropertychange",Lv)):r==="focusout"&&Yp()}function Lb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return xu(Mo)}function Db(r,e){if(r==="click")return xu(e)}function Fb(r,e){if(r==="input"||r==="change")return xu(e)}function Ob(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var cr=typeof Object.is=="function"?Object.is:Ob;function Bo(r,e){if(cr(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var n=Object.keys(r),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!mh.call(e,s)||!cr(r[s],e[s]))return!1}return!0}function Kp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function qp(r,e){var n=Kp(r);r=0;for(var i;n;){if(n.nodeType===3){if(i=r+n.textContent.length,r<=e&&i>=e)return{node:n,offset:e-r};r=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kp(n)}}function Dv(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?Dv(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function Fv(){for(var r=window,e=bl();e instanceof r.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)r=e.contentWindow;else break;e=bl(r.document)}return e}function Pf(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function jb(r){var e=Fv(),n=r.focusedElem,i=r.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dv(n.ownerDocument.documentElement,n)){if(i!==null&&Pf(n)){if(e=i.start,r=i.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!r.extend&&o>i&&(s=i,i=o,o=s),s=qp(n,o);var a=qp(n,i);s&&a&&(r.rangeCount!==1||r.anchorNode!==s.node||r.anchorOffset!==s.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),r.removeAllRanges(),o>i?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ub=Xr&&"documentMode"in document&&11>=document.documentMode,Gi=null,Bh=null,vo=null,Lh=!1;function Qp(r,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lh||Gi==null||Gi!==bl(i)||(i=Gi,"selectionStart"in i&&Pf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),vo&&Bo(vo,i)||(vo=i,i=kl(Bh,"onSelect"),0<i.length&&(e=new kf("onSelect","select",null,e,n),r.push({event:e,listeners:i}),e.target=Gi)))}function ga(r,e){var n={};return n[r.toLowerCase()]=e.toLowerCase(),n["Webkit"+r]="webkit"+e,n["Moz"+r]="moz"+e,n}var Hi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},oc={},Ov={};Xr&&(Ov=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function _u(r){if(oc[r])return oc[r];if(!Hi[r])return r;var e=Hi[r],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ov)return oc[r]=e[n];return r}var jv=_u("animationend"),Uv=_u("animationiteration"),zv=_u("animationstart"),Gv=_u("transitionend"),Hv=new Map,Zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(r,e){Hv.set(r,e),xi(e,[r])}for(var ac=0;ac<Zp.length;ac++){var lc=Zp[ac],zb=lc.toLowerCase(),Gb=lc[0].toUpperCase()+lc.slice(1);Bn(zb,"on"+Gb)}Bn(jv,"onAnimationEnd");Bn(Uv,"onAnimationIteration");Bn(zv,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(Gv,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("cancel close invalid load scroll toggle".split(" ").concat(no));function Jp(r,e,n){var i=r.type||"unknown-event";r.currentTarget=n,z_(i,e,void 0,r),r.currentTarget=null}function $v(r,e){e=(e&4)!==0;for(var n=0;n<r.length;n++){var i=r[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&s.isPropagationStopped())break e;Jp(s,l,c),o=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&s.isPropagationStopped())break e;Jp(s,l,c),o=u}}}if(El)throw r=Ih,El=!1,Ih=null,r}function Ce(r,e){var n=e[Uh];n===void 0&&(n=e[Uh]=new Set);var i=r+"__bubble";n.has(i)||(Vv(e,r,2,!1),n.add(i))}function uc(r,e,n){var i=0;e&&(i|=4),Vv(n,r,i,e)}var va="_reactListening"+Math.random().toString(36).slice(2);function Lo(r){if(!r[va]){r[va]=!0,Z0.forEach(function(n){n!=="selectionchange"&&(Hb.has(n)||uc(n,!1,r),uc(n,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[va]||(e[va]=!0,uc("selectionchange",!1,e))}}function Vv(r,e,n,i){switch(kv(e)){case 1:var s=nb;break;case 4:s=ib;break;default:s=Tf}n=s.bind(null,e,n,r),s=void 0,!Nh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?r.addEventListener(e,n,{capture:!0,passive:s}):r.addEventListener(e,n,!0):s!==void 0?r.addEventListener(e,n,{passive:s}):r.addEventListener(e,n,!1)}function cc(r,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ei(l),a===null)return;if(u=a.tag,u===5||u===6){i=o=a;continue e}l=l.parentNode}}i=i.return}pv(function(){var c=o,d=wf(n),f=[];e:{var p=Hv.get(r);if(p!==void 0){var m=kf,g=r;switch(r){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":m=xb;break;case"focusin":g="focus",m=nc;break;case"focusout":g="blur",m=nc;break;case"beforeblur":case"afterblur":m=nc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=wb;break;case jv:case Uv:case zv:m=cb;break;case Gv:m=Cb;break;case"scroll":m=sb;break;case"wheel":m=Tb;break;case"copy":case"cut":case"paste":m=db;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hp}var x=(e&4)!==0,b=!x&&r==="scroll",y=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,v;_!==null;){v=_;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=No(_,y),w!=null&&x.push(Do(_,w,v)))),b)break;_=_.return}0<x.length&&(p=new m(p,g,null,n,d),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=r==="mouseover"||r==="pointerover",m=r==="mouseout"||r==="pointerout",p&&n!==Ah&&(g=n.relatedTarget||n.fromElement)&&(ei(g)||g[Yr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?ei(g):null,g!==null&&(b=_i(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(x=zp,w="onMouseLeave",y="onMouseEnter",_="mouse",(r==="pointerout"||r==="pointerover")&&(x=Hp,w="onPointerLeave",y="onPointerEnter",_="pointer"),b=m==null?p:$i(m),v=g==null?p:$i(g),p=new x(w,_+"leave",m,n,d),p.target=b,p.relatedTarget=v,w=null,ei(d)===c&&(x=new x(y,_+"enter",g,n,d),x.target=v,x.relatedTarget=b,w=x),b=w,m&&g)t:{for(x=m,y=g,_=0,v=x;v;v=Si(v))_++;for(v=0,w=y;w;w=Si(w))v++;for(;0<_-v;)x=Si(x),_--;for(;0<v-_;)y=Si(y),v--;for(;_--;){if(x===y||y!==null&&x===y.alternate)break t;x=Si(x),y=Si(y)}x=null}else x=null;m!==null&&em(f,p,m,x,!1),g!==null&&b!==null&&em(f,b,g,x,!0)}}e:{if(p=c?$i(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var E=Mb;else if(Wp(p))if(Bv)E=Fb;else{E=Lb;var k=Bb}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Db);if(E&&(E=E(r,c))){Mv(f,E,n,d);break e}k&&k(r,p,c),r==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&wh(p,"number",p.value)}switch(k=c?$i(c):window,r){case"focusin":(Wp(k)||k.contentEditable==="true")&&(Gi=k,Bh=c,vo=null);break;case"focusout":vo=Bh=Gi=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Qp(f,n,d);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":Qp(f,n,d)}var T;if(If)e:{switch(r){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else zi?Pv(r,n)&&(C="onCompositionEnd"):r==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Iv&&n.locale!=="ko"&&(zi||C!=="onCompositionStart"?C==="onCompositionEnd"&&zi&&(T=Nv()):(gn=d,Af="value"in gn?gn.value:gn.textContent,zi=!0)),k=kl(c,C),0<k.length&&(C=new Gp(C,r,null,n,d),f.push({event:C,listeners:k}),T?C.data=T:(T=Rv(n),T!==null&&(C.data=T)))),(T=kb?Nb(r,n):Ib(r,n))&&(c=kl(c,"onBeforeInput"),0<c.length&&(d=new Gp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}$v(f,e)})}function Do(r,e,n){return{instance:r,listener:e,currentTarget:n}}function kl(r,e){for(var n=e+"Capture",i=[];r!==null;){var s=r,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=No(r,n),o!=null&&i.unshift(Do(r,o,s)),o=No(r,e),o!=null&&i.push(Do(r,o,s))),r=r.return}return i}function Si(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function em(r,e,n,i,s){for(var o=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&c!==null&&(l=c,s?(u=No(n,o),u!=null&&a.unshift(Do(n,u,l))):s||(u=No(n,o),u!=null&&a.push(Do(n,u,l)))),n=n.return}a.length!==0&&r.push({event:e,listeners:a})}var $b=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function tm(r){return(typeof r=="string"?r:""+r).replace($b,`
`).replace(Vb,"")}function ya(r,e,n){if(e=tm(e),tm(r)!==e&&n)throw Error(D(425))}function Nl(){}var Dh=null,Fh=null;function Oh(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,Wb=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(r){return rm.resolve(null).then(r).catch(Yb)}:jh;function Yb(r){setTimeout(function(){throw r})}function hc(r,e){var n=e,i=0;do{var s=n.nextSibling;if(r.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){r.removeChild(s),Ro(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Ro(e)}function Cn(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function nm(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return r;e--}else n==="/$"&&e++}r=r.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Is,Fo="__reactProps$"+Is,Yr="__reactContainer$"+Is,Uh="__reactEvents$"+Is,Kb="__reactListeners$"+Is,qb="__reactHandles$"+Is;function ei(r){var e=r[Tr];if(e)return e;for(var n=r.parentNode;n;){if(e=n[Yr]||n[Tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(r=nm(r);r!==null;){if(n=r[Tr])return n;r=nm(r)}return e}r=n,n=r.parentNode}return null}function ea(r){return r=r[Tr]||r[Yr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function $i(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(D(33))}function bu(r){return r[Fo]||null}var zh=[],Vi=-1;function Ln(r){return{current:r}}function Te(r){0>Vi||(r.current=zh[Vi],zh[Vi]=null,Vi--)}function be(r,e){Vi++,zh[Vi]=r.current,r.current=e}var Pn={},ft=Ln(Pn),Et=Ln(!1),ui=Pn;function ms(r,e){var n=r.type.contextTypes;if(!n)return Pn;var i=r.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(r){return r=r.childContextTypes,r!=null}function Il(){Te(Et),Te(ft)}function im(r,e,n){if(ft.current!==Pn)throw Error(D(168));be(ft,e),be(Et,n)}function Wv(r,e,n){var i=r.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(D(108,B_(r)||"Unknown",s));return Fe({},n,i)}function Pl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Pn,ui=ft.current,be(ft,r),be(Et,Et.current),!0}function sm(r,e,n){var i=r.stateNode;if(!i)throw Error(D(169));n?(r=Wv(r,e,ui),i.__reactInternalMemoizedMergedChildContext=r,Te(Et),Te(ft),be(ft,r)):Te(Et),be(Et,n)}var Or=null,wu=!1,dc=!1;function Xv(r){Or===null?Or=[r]:Or.push(r)}function Qb(r){wu=!0,Xv(r)}function Dn(){if(!dc&&Or!==null){dc=!0;var r=0,e=ve;try{var n=Or;for(ve=1;r<n.length;r++){var i=n[r];do i=i(!0);while(i!==null)}Or=null,wu=!1}catch(s){throw Or!==null&&(Or=Or.slice(r+1)),yv(Ef,Dn),s}finally{ve=e,dc=!1}}return null}var Wi=[],Xi=0,Rl=null,Ml=0,Ut=[],zt=0,ci=null,jr=1,Ur="";function Gn(r,e){Wi[Xi++]=Ml,Wi[Xi++]=Rl,Rl=r,Ml=e}function Yv(r,e,n){Ut[zt++]=jr,Ut[zt++]=Ur,Ut[zt++]=ci,ci=r;var i=jr;r=Ur;var s=32-or(i)-1;i&=~(1<<s),n+=1;var o=32-or(e)+s;if(30<o){var a=s-s%5;o=(i&(1<<a)-1).toString(32),i>>=a,s-=a,jr=1<<32-or(e)+s|n<<s|i,Ur=o+r}else jr=1<<o|n<<s|i,Ur=r}function Rf(r){r.return!==null&&(Gn(r,1),Yv(r,1,0))}function Mf(r){for(;r===Rl;)Rl=Wi[--Xi],Wi[Xi]=null,Ml=Wi[--Xi],Wi[Xi]=null;for(;r===ci;)ci=Ut[--zt],Ut[zt]=null,Ur=Ut[--zt],Ut[zt]=null,jr=Ut[--zt],Ut[zt]=null}var Pt=null,Nt=null,Ie=!1,nr=null;function Kv(r,e){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=r,e=r.deletions,e===null?(r.deletions=[n],r.flags|=16):e.push(n)}function om(r,e){switch(r.tag){case 5:var n=r.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Pt=r,Nt=Cn(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Pt=r,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ci!==null?{id:jr,overflow:Ur}:null,r.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=e,n.return=r,r.child=n,Pt=r,Nt=null,!0):!1;default:return!1}}function Gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hh(r){if(Ie){var e=Nt;if(e){var n=e;if(!om(r,e)){if(Gh(r))throw Error(D(418));e=Cn(n.nextSibling);var i=Pt;e&&om(r,e)?Kv(i,n):(r.flags=r.flags&-4097|2,Ie=!1,Pt=r)}}else{if(Gh(r))throw Error(D(418));r.flags=r.flags&-4097|2,Ie=!1,Pt=r}}}function am(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Pt=r}function xa(r){if(r!==Pt)return!1;if(!Ie)return am(r),Ie=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Oh(r.type,r.memoizedProps)),e&&(e=Nt)){if(Gh(r))throw qv(),Error(D(418));for(;e;)Kv(r,e),e=Cn(e.nextSibling)}if(am(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var n=r.data;if(n==="/$"){if(e===0){Nt=Cn(r.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}r=r.nextSibling}Nt=null}}else Nt=Pt?Cn(r.stateNode.nextSibling):null;return!0}function qv(){for(var r=Nt;r;)r=Cn(r.nextSibling)}function gs(){Nt=Pt=null,Ie=!1}function Bf(r){nr===null?nr=[r]:nr.push(r)}var Zb=Jr.ReactCurrentBatchConfig;function tr(r,e){if(r&&r.defaultProps){e=Fe({},e),r=r.defaultProps;for(var n in r)e[n]===void 0&&(e[n]=r[n]);return e}return e}var Bl=Ln(null),Ll=null,Yi=null,Lf=null;function Df(){Lf=Yi=Ll=null}function Ff(r){var e=Bl.current;Te(Bl),r._currentValue=e}function $h(r,e,n){for(;r!==null;){var i=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),r===n)break;r=r.return}}function ns(r,e){Ll=r,Lf=Yi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(bt=!0),r.firstContext=null)}function Wt(r){var e=r._currentValue;if(Lf!==r)if(r={context:r,memoizedValue:e,next:null},Yi===null){if(Ll===null)throw Error(D(308));Yi=r,Ll.dependencies={lanes:0,firstContext:r}}else Yi=Yi.next=r;return e}var ti=null;function Of(r){ti===null?ti=[r]:ti.push(r)}function Qv(r,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Of(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(r,i)}function Kr(r,e){r.lanes|=e;var n=r.alternate;for(n!==null&&(n.lanes|=e),n=r,r=r.return;r!==null;)r.childLanes|=e,n=r.alternate,n!==null&&(n.childLanes|=e),n=r,r=r.return;return n.tag===3?n.stateNode:null}var cn=!1;function jf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zv(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(r,e,n){var i=r.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Kr(r,n)}return s=i.interleaved,s===null?(e.next=e,Of(i)):(e.next=s.next,s.next=e),i.interleaved=e,Kr(r,n)}function il(r,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=r.pendingLanes,n|=i,e.lanes=n,Cf(r,n)}}function lm(r,e){var n=r.updateQueue,i=r.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},r.updateQueue=n;return}r=n.lastBaseUpdate,r===null?n.firstBaseUpdate=e:r.next=e,n.lastBaseUpdate=e}function Dl(r,e,n,i){var s=r.updateQueue;cn=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?o=c:a.next=c,a=u;var d=r.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var f=s.baseState;a=0,d=c=u=null,l=o;do{var p=l.lane,m=l.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=r,x=l;switch(p=e,m=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=Fe({},f,p);break e;case 2:cn=!0}}l.callback!==null&&l.lane!==0&&(r.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,a|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);di|=a,r.lanes=a,r.memoizedState=f}}function um(r,e,n){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var i=r[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(D(191,s));s.call(i)}}}var Jv=new Q0.Component().refs;function Vh(r,e,n,i){e=r.memoizedState,n=n(i,e),n=n==null?e:Fe({},e,n),r.memoizedState=n,r.lanes===0&&(r.updateQueue.baseState=n)}var Eu={isMounted:function(r){return(r=r._reactInternals)?_i(r)===r:!1},enqueueSetState:function(r,e,n){r=r._reactInternals;var i=vt(),s=An(r),o=Vr(i,s);o.payload=e,n!=null&&(o.callback=n),e=Sn(r,o,s),e!==null&&(ar(e,r,s,i),il(e,r,s))},enqueueReplaceState:function(r,e,n){r=r._reactInternals;var i=vt(),s=An(r),o=Vr(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Sn(r,o,s),e!==null&&(ar(e,r,s,i),il(e,r,s))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var n=vt(),i=An(r),s=Vr(n,i);s.tag=2,e!=null&&(s.callback=e),e=Sn(r,s,i),e!==null&&(ar(e,r,i,n),il(e,r,i))}};function cm(r,e,n,i,s,o,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(i,o,a):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,i)||!Bo(s,o):!0}function ey(r,e,n){var i=!1,s=Pn,o=e.contextType;return typeof o=="object"&&o!==null?o=Wt(o):(s=Ct(e)?ui:ft.current,i=e.contextTypes,o=(i=i!=null)?ms(r,s):Pn),e=new e(n,o),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eu,r.stateNode=e,e._reactInternals=r,i&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=o),e}function hm(r,e,n,i){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==r&&Eu.enqueueReplaceState(e,e.state,null)}function Wh(r,e,n,i){var s=r.stateNode;s.props=n,s.state=r.memoizedState,s.refs=Jv,jf(r);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Wt(o):(o=Ct(e)?ui:ft.current,s.context=ms(r,o)),s.state=r.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vh(r,e,o,n),s.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Eu.enqueueReplaceState(s,s.state,null),Dl(r,n,s,i),s.state=r.memoizedState),typeof s.componentDidMount=="function"&&(r.flags|=4194308)}function zs(r,e,n){if(r=n.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,r));var s=i,o=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=s.refs;l===Jv&&(l=s.refs={}),a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof r!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,r))}return r}function _a(r,e){throw r=Object.prototype.toString.call(e),Error(D(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function dm(r){var e=r._init;return e(r._payload)}function ty(r){function e(y,_){if(r){var v=y.deletions;v===null?(y.deletions=[_],y.flags|=16):v.push(_)}}function n(y,_){if(!r)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function i(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function s(y,_){return y=kn(y,_),y.index=0,y.sibling=null,y}function o(y,_,v){return y.index=v,r?(v=y.alternate,v!==null?(v=v.index,v<_?(y.flags|=2,_):v):(y.flags|=2,_)):(y.flags|=1048576,_)}function a(y){return r&&y.alternate===null&&(y.flags|=2),y}function l(y,_,v,w){return _===null||_.tag!==6?(_=xc(v,y.mode,w),_.return=y,_):(_=s(_,v),_.return=y,_)}function u(y,_,v,w){var E=v.type;return E===Ui?d(y,_,v.props.children,w,v.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===un&&dm(E)===_.type)?(w=s(_,v.props),w.ref=zs(y,_,v),w.return=y,w):(w=cl(v.type,v.key,v.props,null,y.mode,w),w.ref=zs(y,_,v),w.return=y,w)}function c(y,_,v,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==v.containerInfo||_.stateNode.implementation!==v.implementation?(_=_c(v,y.mode,w),_.return=y,_):(_=s(_,v.children||[]),_.return=y,_)}function d(y,_,v,w,E){return _===null||_.tag!==7?(_=ii(v,y.mode,w,E),_.return=y,_):(_=s(_,v),_.return=y,_)}function f(y,_,v){if(typeof _=="string"&&_!==""||typeof _=="number")return _=xc(""+_,y.mode,v),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ua:return v=cl(_.type,_.key,_.props,null,y.mode,v),v.ref=zs(y,null,_),v.return=y,v;case ji:return _=_c(_,y.mode,v),_.return=y,_;case un:var w=_._init;return f(y,w(_._payload),v)}if(to(_)||Ds(_))return _=ii(_,y.mode,v,null),_.return=y,_;_a(y,_)}return null}function p(y,_,v,w){var E=_!==null?_.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(y,_,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ua:return v.key===E?u(y,_,v,w):null;case ji:return v.key===E?c(y,_,v,w):null;case un:return E=v._init,p(y,_,E(v._payload),w)}if(to(v)||Ds(v))return E!==null?null:d(y,_,v,w,null);_a(y,v)}return null}function m(y,_,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,l(_,y,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ua:return y=y.get(w.key===null?v:w.key)||null,u(_,y,w,E);case ji:return y=y.get(w.key===null?v:w.key)||null,c(_,y,w,E);case un:var k=w._init;return m(y,_,v,k(w._payload),E)}if(to(w)||Ds(w))return y=y.get(v)||null,d(_,y,w,E,null);_a(_,w)}return null}function g(y,_,v,w){for(var E=null,k=null,T=_,C=_=0,M=null;T!==null&&C<v.length;C++){T.index>C?(M=T,T=null):M=T.sibling;var P=p(y,T,v[C],w);if(P===null){T===null&&(T=M);break}r&&T&&P.alternate===null&&e(y,T),_=o(P,_,C),k===null?E=P:k.sibling=P,k=P,T=M}if(C===v.length)return n(y,T),Ie&&Gn(y,C),E;if(T===null){for(;C<v.length;C++)T=f(y,v[C],w),T!==null&&(_=o(T,_,C),k===null?E=T:k.sibling=T,k=T);return Ie&&Gn(y,C),E}for(T=i(y,T);C<v.length;C++)M=m(T,y,C,v[C],w),M!==null&&(r&&M.alternate!==null&&T.delete(M.key===null?C:M.key),_=o(M,_,C),k===null?E=M:k.sibling=M,k=M);return r&&T.forEach(function(S){return e(y,S)}),Ie&&Gn(y,C),E}function x(y,_,v,w){var E=Ds(v);if(typeof E!="function")throw Error(D(150));if(v=E.call(v),v==null)throw Error(D(151));for(var k=E=null,T=_,C=_=0,M=null,P=v.next();T!==null&&!P.done;C++,P=v.next()){T.index>C?(M=T,T=null):M=T.sibling;var S=p(y,T,P.value,w);if(S===null){T===null&&(T=M);break}r&&T&&S.alternate===null&&e(y,T),_=o(S,_,C),k===null?E=S:k.sibling=S,k=S,T=M}if(P.done)return n(y,T),Ie&&Gn(y,C),E;if(T===null){for(;!P.done;C++,P=v.next())P=f(y,P.value,w),P!==null&&(_=o(P,_,C),k===null?E=P:k.sibling=P,k=P);return Ie&&Gn(y,C),E}for(T=i(y,T);!P.done;C++,P=v.next())P=m(T,y,C,P.value,w),P!==null&&(r&&P.alternate!==null&&T.delete(P.key===null?C:P.key),_=o(P,_,C),k===null?E=P:k.sibling=P,k=P);return r&&T.forEach(function(O){return e(y,O)}),Ie&&Gn(y,C),E}function b(y,_,v,w){if(typeof v=="object"&&v!==null&&v.type===Ui&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ua:e:{for(var E=v.key,k=_;k!==null;){if(k.key===E){if(E=v.type,E===Ui){if(k.tag===7){n(y,k.sibling),_=s(k,v.props.children),_.return=y,y=_;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===un&&dm(E)===k.type){n(y,k.sibling),_=s(k,v.props),_.ref=zs(y,k,v),_.return=y,y=_;break e}n(y,k);break}else e(y,k);k=k.sibling}v.type===Ui?(_=ii(v.props.children,y.mode,w,v.key),_.return=y,y=_):(w=cl(v.type,v.key,v.props,null,y.mode,w),w.ref=zs(y,_,v),w.return=y,y=w)}return a(y);case ji:e:{for(k=v.key;_!==null;){if(_.key===k)if(_.tag===4&&_.stateNode.containerInfo===v.containerInfo&&_.stateNode.implementation===v.implementation){n(y,_.sibling),_=s(_,v.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=_c(v,y.mode,w),_.return=y,y=_}return a(y);case un:return k=v._init,b(y,_,k(v._payload),w)}if(to(v))return g(y,_,v,w);if(Ds(v))return x(y,_,v,w);_a(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,_!==null&&_.tag===6?(n(y,_.sibling),_=s(_,v),_.return=y,y=_):(n(y,_),_=xc(v,y.mode,w),_.return=y,y=_),a(y)):n(y,_)}return b}var vs=ty(!0),ry=ty(!1),ta={},Nr=Ln(ta),Oo=Ln(ta),jo=Ln(ta);function ri(r){if(r===ta)throw Error(D(174));return r}function Uf(r,e){switch(be(jo,e),be(Oo,r),be(Nr,ta),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ch(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Ch(e,r)}Te(Nr),be(Nr,e)}function ys(){Te(Nr),Te(Oo),Te(jo)}function ny(r){ri(jo.current);var e=ri(Nr.current),n=Ch(e,r.type);e!==n&&(be(Oo,r),be(Nr,n))}function zf(r){Oo.current===r&&(Te(Nr),Te(Oo))}var Be=Ln(0);function Fl(r){for(var e=r;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fc=[];function Gf(){for(var r=0;r<fc.length;r++)fc[r]._workInProgressVersionPrimary=null;fc.length=0}var sl=Jr.ReactCurrentDispatcher,pc=Jr.ReactCurrentBatchConfig,hi=0,De=null,Ze=null,tt=null,Ol=!1,yo=!1,Uo=0,Jb=0;function ct(){throw Error(D(321))}function Hf(r,e){if(e===null)return!1;for(var n=0;n<e.length&&n<r.length;n++)if(!cr(r[n],e[n]))return!1;return!0}function $f(r,e,n,i,s,o){if(hi=o,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,sl.current=r===null||r.memoizedState===null?nw:iw,r=n(i,s),yo){o=0;do{if(yo=!1,Uo=0,25<=o)throw Error(D(301));o+=1,tt=Ze=null,e.updateQueue=null,sl.current=sw,r=n(i,s)}while(yo)}if(sl.current=jl,e=Ze!==null&&Ze.next!==null,hi=0,tt=Ze=De=null,Ol=!1,e)throw Error(D(300));return r}function Vf(){var r=Uo!==0;return Uo=0,r}function wr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?De.memoizedState=tt=r:tt=tt.next=r,tt}function Xt(){if(Ze===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var e=tt===null?De.memoizedState:tt.next;if(e!==null)tt=e,Ze=r;else{if(r===null)throw Error(D(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?De.memoizedState=tt=r:tt=tt.next=r}return tt}function zo(r,e){return typeof e=="function"?e(r):e}function mc(r){var e=Xt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=r;var i=Ze,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var l=a=null,u=null,c=o;do{var d=c.lane;if((hi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:r(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,a=i):u=u.next=f,De.lanes|=d,di|=d}c=c.next}while(c!==null&&c!==o);u===null?a=i:u.next=l,cr(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=u,n.lastRenderedState=i}if(r=n.interleaved,r!==null){s=r;do o=s.lane,De.lanes|=o,di|=o,s=s.next;while(s!==r)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gc(r){var e=Xt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=r;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=r(o,a.action),a=a.next;while(a!==s);cr(o,e.memoizedState)||(bt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function iy(){}function sy(r,e){var n=De,i=Xt(),s=e(),o=!cr(i.memoizedState,s);if(o&&(i.memoizedState=s,bt=!0),i=i.queue,Wf(ly.bind(null,n,i,r),[r]),i.getSnapshot!==e||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Go(9,ay.bind(null,n,i,s,e),void 0,null),nt===null)throw Error(D(349));hi&30||oy(n,e,s)}return s}function oy(r,e,n){r.flags|=16384,r={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[r]):(n=e.stores,n===null?e.stores=[r]:n.push(r))}function ay(r,e,n,i){e.value=n,e.getSnapshot=i,uy(e)&&cy(r)}function ly(r,e,n){return n(function(){uy(e)&&cy(r)})}function uy(r){var e=r.getSnapshot;r=r.value;try{var n=e();return!cr(r,n)}catch{return!0}}function cy(r){var e=Kr(r,1);e!==null&&ar(e,r,1,-1)}function fm(r){var e=wr();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:r},e.queue=r,r=r.dispatch=rw.bind(null,De,r),[e.memoizedState,r]}function Go(r,e,n,i){return r={tag:r,create:e,destroy:n,deps:i,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=r.next=r):(n=e.lastEffect,n===null?e.lastEffect=r.next=r:(i=n.next,n.next=r,r.next=i,e.lastEffect=r)),r}function hy(){return Xt().memoizedState}function ol(r,e,n,i){var s=wr();De.flags|=r,s.memoizedState=Go(1|e,n,void 0,i===void 0?null:i)}function Cu(r,e,n,i){var s=Xt();i=i===void 0?null:i;var o=void 0;if(Ze!==null){var a=Ze.memoizedState;if(o=a.destroy,i!==null&&Hf(i,a.deps)){s.memoizedState=Go(e,n,o,i);return}}De.flags|=r,s.memoizedState=Go(1|e,n,o,i)}function pm(r,e){return ol(8390656,8,r,e)}function Wf(r,e){return Cu(2048,8,r,e)}function dy(r,e){return Cu(4,2,r,e)}function fy(r,e){return Cu(4,4,r,e)}function py(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function my(r,e,n){return n=n!=null?n.concat([r]):null,Cu(4,4,py.bind(null,e,r),n)}function Xf(){}function gy(r,e){var n=Xt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Hf(e,i[1])?i[0]:(n.memoizedState=[r,e],r)}function vy(r,e){var n=Xt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Hf(e,i[1])?i[0]:(r=r(),n.memoizedState=[r,e],r)}function yy(r,e,n){return hi&21?(cr(n,e)||(n=bv(),De.lanes|=n,di|=n,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,bt=!0),r.memoizedState=n)}function ew(r,e){var n=ve;ve=n!==0&&4>n?n:4,r(!0);var i=pc.transition;pc.transition={};try{r(!1),e()}finally{ve=n,pc.transition=i}}function xy(){return Xt().memoizedState}function tw(r,e,n){var i=An(r);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},_y(r))by(e,n);else if(n=Qv(r,e,n,i),n!==null){var s=vt();ar(n,r,i,s),wy(n,e,i)}}function rw(r,e,n){var i=An(r),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(_y(r))by(e,s);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,cr(l,a)){var u=e.interleaved;u===null?(s.next=s,Of(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Qv(r,e,s,i),n!==null&&(s=vt(),ar(n,r,i,s),wy(n,e,i))}}function _y(r){var e=r.alternate;return r===De||e!==null&&e===De}function by(r,e){yo=Ol=!0;var n=r.pending;n===null?e.next=e:(e.next=n.next,n.next=e),r.pending=e}function wy(r,e,n){if(n&4194240){var i=e.lanes;i&=r.pendingLanes,n|=i,e.lanes=n,Cf(r,n)}}var jl={readContext:Wt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},nw={readContext:Wt,useCallback:function(r,e){return wr().memoizedState=[r,e===void 0?null:e],r},useContext:Wt,useEffect:pm,useImperativeHandle:function(r,e,n){return n=n!=null?n.concat([r]):null,ol(4194308,4,py.bind(null,e,r),n)},useLayoutEffect:function(r,e){return ol(4194308,4,r,e)},useInsertionEffect:function(r,e){return ol(4,2,r,e)},useMemo:function(r,e){var n=wr();return e=e===void 0?null:e,r=r(),n.memoizedState=[r,e],r},useReducer:function(r,e,n){var i=wr();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},i.queue=r,r=r.dispatch=tw.bind(null,De,r),[i.memoizedState,r]},useRef:function(r){var e=wr();return r={current:r},e.memoizedState=r},useState:fm,useDebugValue:Xf,useDeferredValue:function(r){return wr().memoizedState=r},useTransition:function(){var r=fm(!1),e=r[0];return r=ew.bind(null,r[1]),wr().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,n){var i=De,s=wr();if(Ie){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),nt===null)throw Error(D(349));hi&30||oy(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,pm(ly.bind(null,i,o,r),[r]),i.flags|=2048,Go(9,ay.bind(null,i,o,n,e),void 0,null),n},useId:function(){var r=wr(),e=nt.identifierPrefix;if(Ie){var n=Ur,i=jr;n=(i&~(1<<32-or(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Uo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jb++,e=":"+e+"r"+n.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},iw={readContext:Wt,useCallback:gy,useContext:Wt,useEffect:Wf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:vy,useReducer:mc,useRef:hy,useState:function(){return mc(zo)},useDebugValue:Xf,useDeferredValue:function(r){var e=Xt();return yy(e,Ze.memoizedState,r)},useTransition:function(){var r=mc(zo)[0],e=Xt().memoizedState;return[r,e]},useMutableSource:iy,useSyncExternalStore:sy,useId:xy,unstable_isNewReconciler:!1},sw={readContext:Wt,useCallback:gy,useContext:Wt,useEffect:Wf,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:vy,useReducer:gc,useRef:hy,useState:function(){return gc(zo)},useDebugValue:Xf,useDeferredValue:function(r){var e=Xt();return Ze===null?e.memoizedState=r:yy(e,Ze.memoizedState,r)},useTransition:function(){var r=gc(zo)[0],e=Xt().memoizedState;return[r,e]},useMutableSource:iy,useSyncExternalStore:sy,useId:xy,unstable_isNewReconciler:!1};function xs(r,e){try{var n="",i=e;do n+=M_(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:e,stack:s,digest:null}}function vc(r,e,n){return{value:r,source:null,stack:n??null,digest:e??null}}function Xh(r,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ow=typeof WeakMap=="function"?WeakMap:Map;function Ey(r,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){zl||(zl=!0,nd=i),Xh(r,e)},n}function Cy(r,e,n){n=Vr(-1,n),n.tag=3;var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Xh(r,e)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xh(r,e),typeof i!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function mm(r,e,n){var i=r.pingCache;if(i===null){i=r.pingCache=new ow;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),r=_w.bind(null,r,e,n),e.then(r,r))}function gm(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function vm(r,e,n,i,s){return r.mode&1?(r.flags|=65536,r.lanes=s,r):(r===e?r.flags|=65536:(r.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),r)}var aw=Jr.ReactCurrentOwner,bt=!1;function mt(r,e,n,i){e.child=r===null?ry(e,null,n,i):vs(e,r.child,n,i)}function ym(r,e,n,i,s){n=n.render;var o=e.ref;return ns(e,s),i=$f(r,e,n,i,o,s),n=Vf(),r!==null&&!bt?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,qr(r,e,s)):(Ie&&n&&Rf(e),e.flags|=1,mt(r,e,i,s),e.child)}function xm(r,e,n,i,s){if(r===null){var o=n.type;return typeof o=="function"&&!tp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Sy(r,e,o,i,s)):(r=cl(n.type,null,i,e,e.mode,s),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!(r.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(a,i)&&r.ref===e.ref)return qr(r,e,s)}return e.flags|=1,r=kn(o,i),r.ref=e.ref,r.return=e,e.child=r}function Sy(r,e,n,i,s){if(r!==null){var o=r.memoizedProps;if(Bo(o,i)&&r.ref===e.ref)if(bt=!1,e.pendingProps=i=o,(r.lanes&s)!==0)r.flags&131072&&(bt=!0);else return e.lanes=r.lanes,qr(r,e,s)}return Yh(r,e,n,i,s)}function Ty(r,e,n){var i=e.pendingProps,s=i.children,o=r!==null?r.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(qi,kt),kt|=n;else{if(!(n&1073741824))return r=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,be(qi,kt),kt|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,be(qi,kt),kt|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,be(qi,kt),kt|=i;return mt(r,e,s,n),e.child}function Ay(r,e){var n=e.ref;(r===null&&n!==null||r!==null&&r.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yh(r,e,n,i,s){var o=Ct(n)?ui:ft.current;return o=ms(e,o),ns(e,s),n=$f(r,e,n,i,o,s),i=Vf(),r!==null&&!bt?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~s,qr(r,e,s)):(Ie&&i&&Rf(e),e.flags|=1,mt(r,e,n,s),e.child)}function _m(r,e,n,i,s){if(Ct(n)){var o=!0;Pl(e)}else o=!1;if(ns(e,s),e.stateNode===null)al(r,e),ey(e,n,i),Wh(e,n,i,s),i=!0;else if(r===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wt(c):(c=Ct(n)?ui:ft.current,c=ms(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||u!==c)&&hm(e,a,i,c),cn=!1;var p=e.memoizedState;a.state=p,Dl(e,i,a,s),u=e.memoizedState,l!==i||p!==u||Et.current||cn?(typeof d=="function"&&(Vh(e,n,d,i),u=e.memoizedState),(l=cn||cm(e,n,l,i,p,u,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),a.props=i,a.state=u,a.context=c,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Zv(r,e),l=e.memoizedProps,c=e.type===e.elementType?l:tr(e.type,l),a.props=c,f=e.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wt(u):(u=Ct(n)?ui:ft.current,u=ms(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==u)&&hm(e,a,i,u),cn=!1,p=e.memoizedState,a.state=p,Dl(e,i,a,s);var g=e.memoizedState;l!==f||p!==g||Et.current||cn?(typeof m=="function"&&(Vh(e,n,m,i),g=e.memoizedState),(c=cn||cm(e,n,c,i,p,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),a.props=i,a.state=g,a.context=u,i=c):(typeof a.componentDidUpdate!="function"||l===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),i=!1)}return Kh(r,e,n,i,o,s)}function Kh(r,e,n,i,s,o){Ay(r,e);var a=(e.flags&128)!==0;if(!i&&!a)return s&&sm(e,n,!1),qr(r,e,o);i=e.stateNode,aw.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,r!==null&&a?(e.child=vs(e,r.child,null,o),e.child=vs(e,null,l,o)):mt(r,e,l,o),e.memoizedState=i.state,s&&sm(e,n,!0),e.child}function ky(r){var e=r.stateNode;e.pendingContext?im(r,e.pendingContext,e.pendingContext!==e.context):e.context&&im(r,e.context,!1),Uf(r,e.containerInfo)}function bm(r,e,n,i,s){return gs(),Bf(s),e.flags|=256,mt(r,e,n,i),e.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Qh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ny(r,e,n){var i=e.pendingProps,s=Be.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=r!==null&&r.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(s|=1),be(Be,s&1),r===null)return Hh(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,r=i.fallback,o?(i=e.mode,o=e.child,a={mode:"hidden",children:a},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Au(a,i,0,null),r=ii(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,e.child.memoizedState=Qh(n),e.memoizedState=qh,r):Yf(e,a));if(s=r.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return lw(r,e,a,i,l,s,n);if(o){o=i.fallback,a=e.mode,s=r.child,l=s.sibling;var u={mode:"hidden",children:i.children};return!(a&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=kn(s,u),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=kn(l,o):(o=ii(o,a,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,a=r.child.memoizedState,a=a===null?Qh(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=r.childLanes&~n,e.memoizedState=qh,i}return o=r.child,r=o.sibling,i=kn(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,r!==null&&(n=e.deletions,n===null?(e.deletions=[r],e.flags|=16):n.push(r)),e.child=i,e.memoizedState=null,i}function Yf(r,e){return e=Au({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function ba(r,e,n,i){return i!==null&&Bf(i),vs(e,r.child,null,n),r=Yf(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function lw(r,e,n,i,s,o,a){if(n)return e.flags&256?(e.flags&=-257,i=vc(Error(D(422))),ba(r,e,a,i)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Au({mode:"visible",children:i.children},s,0,null),o=ii(o,s,a,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&vs(e,r.child,null,a),e.child.memoizedState=Qh(a),e.memoizedState=qh,o);if(!(e.mode&1))return ba(r,e,a,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,o=Error(D(419)),i=vc(o,i,void 0),ba(r,e,a,i)}if(l=(a&r.childLanes)!==0,bt||l){if(i=nt,i!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kr(r,s),ar(i,r,s,-1))}return ep(),i=vc(Error(D(421))),ba(r,e,a,i)}return s.data==="$?"?(e.flags|=128,e.child=r.child,e=bw.bind(null,r),s._reactRetry=e,null):(r=o.treeContext,Nt=Cn(s.nextSibling),Pt=e,Ie=!0,nr=null,r!==null&&(Ut[zt++]=jr,Ut[zt++]=Ur,Ut[zt++]=ci,jr=r.id,Ur=r.overflow,ci=e),e=Yf(e,i.children),e.flags|=4096,e)}function wm(r,e,n){r.lanes|=e;var i=r.alternate;i!==null&&(i.lanes|=e),$h(r.return,e,n)}function yc(r,e,n,i,s){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function Iy(r,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(mt(r,e,i.children,n),i=Be.current,i&2)i=i&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wm(r,n,e);else if(r.tag===19)wm(r,n,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}i&=1}if(be(Be,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)r=n.alternate,r!==null&&Fl(r)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),yc(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(r=s.alternate,r!==null&&Fl(r)===null){e.child=s;break}r=s.sibling,s.sibling=n,n=s,s=r}yc(e,!0,n,null,o);break;case"together":yc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function al(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function qr(r,e,n){if(r!==null&&(e.dependencies=r.dependencies),di|=e.lanes,!(n&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(D(153));if(e.child!==null){for(r=e.child,n=kn(r,r.pendingProps),e.child=n,n.return=e;r.sibling!==null;)r=r.sibling,n=n.sibling=kn(r,r.pendingProps),n.return=e;n.sibling=null}return e.child}function uw(r,e,n){switch(e.tag){case 3:ky(e),gs();break;case 5:ny(e);break;case 1:Ct(e.type)&&Pl(e);break;case 4:Uf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;be(Bl,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(be(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?Ny(r,e,n):(be(Be,Be.current&1),r=qr(r,e,n),r!==null?r.sibling:null);be(Be,Be.current&1);break;case 19:if(i=(n&e.childLanes)!==0,r.flags&128){if(i)return Iy(r,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Be,Be.current),i)break;return null;case 22:case 23:return e.lanes=0,Ty(r,e,n)}return qr(r,e,n)}var Py,Zh,Ry,My;Py=function(r,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)r.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};Ry=function(r,e,n,i){var s=r.memoizedProps;if(s!==i){r=e.stateNode,ri(Nr.current);var o=null;switch(n){case"input":s=_h(r,s),i=_h(r,i),o=[];break;case"select":s=Fe({},s,{value:void 0}),i=Fe({},i,{value:void 0}),o=[];break;case"textarea":s=Eh(r,s),i=Eh(r,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(r.onclick=Nl)}Sh(n,i);var a;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ao.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var u=i[c];if(l=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ao.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ce("scroll",r),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};My=function(r,e,n,i){n!==i&&(e.flags|=4)};function Gs(r,e){if(!Ie)switch(r.tailMode){case"hidden":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?r.tail=null:n.sibling=null;break;case"collapsed":n=r.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:i.sibling=null}}function ht(r){var e=r.alternate!==null&&r.alternate.child===r.child,n=0,i=0;if(e)for(var s=r.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=r,s=s.sibling;else for(s=r.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=r,s=s.sibling;return r.subtreeFlags|=i,r.childLanes=n,e}function cw(r,e,n){var i=e.pendingProps;switch(Mf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(e),null;case 1:return Ct(e.type)&&Il(),ht(e),null;case 3:return i=e.stateNode,ys(),Te(Et),Te(ft),Gf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(r===null||r.child===null)&&(xa(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nr!==null&&(od(nr),nr=null))),Zh(r,e),ht(e),null;case 5:zf(e);var s=ri(jo.current);if(n=e.type,r!==null&&e.stateNode!=null)Ry(r,e,n,i,s),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(D(166));return ht(e),null}if(r=ri(Nr.current),xa(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[Tr]=e,i[Fo]=o,r=(e.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(s=0;s<no.length;s++)Ce(no[s],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Pp(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":Mp(i,o),Ce("invalid",i)}Sh(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?i.textContent!==l&&(o.suppressHydrationWarning!==!0&&ya(i.textContent,l,r),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ya(i.textContent,l,r),s=["children",""+l]):Ao.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ce("scroll",i)}switch(n){case"input":ca(i),Rp(i,o,!0);break;case"textarea":ca(i),Bp(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Nl)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ov(n)),r==="http://www.w3.org/1999/xhtml"?n==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof i.is=="string"?r=a.createElement(n,{is:i.is}):(r=a.createElement(n),n==="select"&&(a=r,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):r=a.createElementNS(r,n),r[Tr]=e,r[Fo]=i,Py(r,e,!1,!1),e.stateNode=r;e:{switch(a=Th(n,i),n){case"dialog":Ce("cancel",r),Ce("close",r),s=i;break;case"iframe":case"object":case"embed":Ce("load",r),s=i;break;case"video":case"audio":for(s=0;s<no.length;s++)Ce(no[s],r);s=i;break;case"source":Ce("error",r),s=i;break;case"img":case"image":case"link":Ce("error",r),Ce("load",r),s=i;break;case"details":Ce("toggle",r),s=i;break;case"input":Pp(r,i),s=_h(r,i),Ce("invalid",r);break;case"option":s=i;break;case"select":r._wrapperState={wasMultiple:!!i.multiple},s=Fe({},i,{value:void 0}),Ce("invalid",r);break;case"textarea":Mp(r,i),s=Eh(r,i),Ce("invalid",r);break;default:s=i}Sh(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?uv(r,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&av(r,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ko(r,u):typeof u=="number"&&ko(r,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ao.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ce("scroll",r):u!=null&&yf(r,o,u,a))}switch(n){case"input":ca(r),Rp(r,i,!1);break;case"textarea":ca(r),Bp(r);break;case"option":i.value!=null&&r.setAttribute("value",""+In(i.value));break;case"select":r.multiple=!!i.multiple,o=i.value,o!=null?Ji(r,!!i.multiple,o,!1):i.defaultValue!=null&&Ji(r,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(r.onclick=Nl)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ht(e),null;case 6:if(r&&e.stateNode!=null)My(r,e,r.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(D(166));if(n=ri(jo.current),ri(Nr.current),xa(e)){if(i=e.stateNode,n=e.memoizedProps,i[Tr]=e,(o=i.nodeValue!==n)&&(r=Pt,r!==null))switch(r.tag){case 3:ya(i.nodeValue,n,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ya(i.nodeValue,n,(r.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Tr]=e,e.stateNode=i}return ht(e),null;case 13:if(Te(Be),i=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ie&&Nt!==null&&e.mode&1&&!(e.flags&128))qv(),gs(),e.flags|=98560,o=!1;else if(o=xa(e),i!==null&&i.dehydrated!==null){if(r===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Tr]=e}else gs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ht(e),o=!1}else nr!==null&&(od(nr),nr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(r!==null&&r.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(r===null||Be.current&1?Je===0&&(Je=3):ep())),e.updateQueue!==null&&(e.flags|=4),ht(e),null);case 4:return ys(),Zh(r,e),r===null&&Lo(e.stateNode.containerInfo),ht(e),null;case 10:return Ff(e.type._context),ht(e),null;case 17:return Ct(e.type)&&Il(),ht(e),null;case 19:if(Te(Be),o=e.memoizedState,o===null)return ht(e),null;if(i=(e.flags&128)!==0,a=o.rendering,a===null)if(i)Gs(o,!1);else{if(Je!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=Fl(r),a!==null){for(e.flags|=128,Gs(o,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,r=i,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,r=a.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n=n.sibling;return be(Be,Be.current&1|2),e.child}r=r.sibling}o.tail!==null&&Ve()>_s&&(e.flags|=128,i=!0,Gs(o,!1),e.lanes=4194304)}else{if(!i)if(r=Fl(a),r!==null){if(e.flags|=128,i=!0,n=r.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ie)return ht(e),null}else 2*Ve()-o.renderingStartTime>_s&&n!==1073741824&&(e.flags|=128,i=!0,Gs(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Be.current,be(Be,i?n&1|2:n&1),e):(ht(e),null);case 22:case 23:return Jf(),i=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?kt&1073741824&&(ht(e),e.subtreeFlags&6&&(e.flags|=8192)):ht(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function hw(r,e){switch(Mf(e),e.tag){case 1:return Ct(e.type)&&Il(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return ys(),Te(Et),Te(ft),Gf(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return zf(e),null;case 13:if(Te(Be),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(D(340));gs()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return Te(Be),null;case 4:return ys(),null;case 10:return Ff(e.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var wa=!1,dt=!1,dw=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ki(r,e){var n=r.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){je(r,e,i)}else n.current=null}function Jh(r,e,n){try{n()}catch(i){je(r,e,i)}}var Em=!1;function fw(r,e){if(Dh=Tl,r=Fv(),Pf(r)){if("selectionStart"in r)var n={start:r.selectionStart,end:r.selectionEnd};else e:{n=(n=r.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=r,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||i!==0&&f.nodeType!==3||(u=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===r)break t;if(p===n&&++c===s&&(l=a),p===o&&++d===i&&(u=a),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fh={focusedElem:r,selectionRange:n},Tl=!1,Y=e;Y!==null;)if(e=Y,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,Y=r;else for(;Y!==null;){e=Y;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,b=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:tr(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){je(e,e.return,w)}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}return g=Em,Em=!1,g}function xo(r,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&r)===r){var o=s.destroy;s.destroy=void 0,o!==void 0&&Jh(e,n,o)}s=s.next}while(s!==i)}}function Su(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&r)===r){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ed(r){var e=r.ref;if(e!==null){var n=r.stateNode;switch(r.tag){case 5:r=n;break;default:r=n}typeof e=="function"?e(r):e.current=r}}function By(r){var e=r.alternate;e!==null&&(r.alternate=null,By(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Tr],delete e[Fo],delete e[Uh],delete e[Kb],delete e[qb])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ly(r){return r.tag===5||r.tag===3||r.tag===4}function Cm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function td(r,e,n){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(r,e):n.insertBefore(r,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(r,n)):(e=n,e.appendChild(r)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nl));else if(i!==4&&(r=r.child,r!==null))for(td(r,e,n),r=r.sibling;r!==null;)td(r,e,n),r=r.sibling}function rd(r,e,n){var i=r.tag;if(i===5||i===6)r=r.stateNode,e?n.insertBefore(r,e):n.appendChild(r);else if(i!==4&&(r=r.child,r!==null))for(rd(r,e,n),r=r.sibling;r!==null;)rd(r,e,n),r=r.sibling}var ot=null,rr=!1;function en(r,e,n){for(n=n.child;n!==null;)Dy(r,e,n),n=n.sibling}function Dy(r,e,n){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(vu,n)}catch{}switch(n.tag){case 5:dt||Ki(n,e);case 6:var i=ot,s=rr;ot=null,en(r,e,n),ot=i,rr=s,ot!==null&&(rr?(r=ot,n=n.stateNode,r.nodeType===8?r.parentNode.removeChild(n):r.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(rr?(r=ot,n=n.stateNode,r.nodeType===8?hc(r.parentNode,n):r.nodeType===1&&hc(r,n),Ro(r)):hc(ot,n.stateNode));break;case 4:i=ot,s=rr,ot=n.stateNode.containerInfo,rr=!0,en(r,e,n),ot=i,rr=s;break;case 0:case 11:case 14:case 15:if(!dt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Jh(n,e,a),s=s.next}while(s!==i)}en(r,e,n);break;case 1:if(!dt&&(Ki(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){je(n,e,l)}en(r,e,n);break;case 21:en(r,e,n);break;case 22:n.mode&1?(dt=(i=dt)||n.memoizedState!==null,en(r,e,n),dt=i):en(r,e,n);break;default:en(r,e,n)}}function Sm(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var n=r.stateNode;n===null&&(n=r.stateNode=new dw),e.forEach(function(i){var s=ww.bind(null,r,i);n.has(i)||(n.add(i),i.then(s,s))})}}function qt(r,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=r,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ot=l.stateNode,rr=!1;break e;case 3:ot=l.stateNode.containerInfo,rr=!0;break e;case 4:ot=l.stateNode.containerInfo,rr=!0;break e}l=l.return}if(ot===null)throw Error(D(160));Dy(o,a,s),ot=null,rr=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){je(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fy(e,r),e=e.sibling}function Fy(r,e){var n=r.alternate,i=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(qt(e,r),pr(r),i&4){try{xo(3,r,r.return),Su(3,r)}catch(x){je(r,r.return,x)}try{xo(5,r,r.return)}catch(x){je(r,r.return,x)}}break;case 1:qt(e,r),pr(r),i&512&&n!==null&&Ki(n,n.return);break;case 5:if(qt(e,r),pr(r),i&512&&n!==null&&Ki(n,n.return),r.flags&32){var s=r.stateNode;try{ko(s,"")}catch(x){je(r,r.return,x)}}if(i&4&&(s=r.stateNode,s!=null)){var o=r.memoizedProps,a=n!==null?n.memoizedProps:o,l=r.type,u=r.updateQueue;if(r.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&iv(s,o),Th(l,a);var c=Th(l,o);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];d==="style"?uv(s,f):d==="dangerouslySetInnerHTML"?av(s,f):d==="children"?ko(s,f):yf(s,d,f,c)}switch(l){case"input":bh(s,o);break;case"textarea":sv(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ji(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Ji(s,!!o.multiple,o.defaultValue,!0):Ji(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fo]=o}catch(x){je(r,r.return,x)}}break;case 6:if(qt(e,r),pr(r),i&4){if(r.stateNode===null)throw Error(D(162));s=r.stateNode,o=r.memoizedProps;try{s.nodeValue=o}catch(x){je(r,r.return,x)}}break;case 3:if(qt(e,r),pr(r),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ro(e.containerInfo)}catch(x){je(r,r.return,x)}break;case 4:qt(e,r),pr(r);break;case 13:qt(e,r),pr(r),s=r.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Qf=Ve())),i&4&&Sm(r);break;case 22:if(d=n!==null&&n.memoizedState!==null,r.mode&1?(dt=(c=dt)||d,qt(e,r),dt=c):qt(e,r),pr(r),i&8192){if(c=r.memoizedState!==null,(r.stateNode.isHidden=c)&&!d&&r.mode&1)for(Y=r,d=r.child;d!==null;){for(f=Y=d;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:xo(4,p,p.return);break;case 1:Ki(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){je(i,n,x)}}break;case 5:Ki(p,p.return);break;case 22:if(p.memoizedState!==null){Am(f);continue}}m!==null?(m.return=p,Y=m):Am(f)}d=d.sibling}e:for(d=null,f=r;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,u=f.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=lv("display",a))}catch(x){je(r,r.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){je(r,r.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qt(e,r),pr(r),i&4&&Sm(r);break;case 21:break;default:qt(e,r),pr(r)}}function pr(r){var e=r.flags;if(e&2){try{e:{for(var n=r.return;n!==null;){if(Ly(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(ko(s,""),i.flags&=-33);var o=Cm(r);rd(r,o,s);break;case 3:case 4:var a=i.stateNode.containerInfo,l=Cm(r);td(r,l,a);break;default:throw Error(D(161))}}catch(u){je(r,r.return,u)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function pw(r,e,n){Y=r,Oy(r)}function Oy(r,e,n){for(var i=(r.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&i){var a=s.memoizedState!==null||wa;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||dt;l=wa;var c=dt;if(wa=a,(dt=u)&&!c)for(Y=s;Y!==null;)a=Y,u=a.child,a.tag===22&&a.memoizedState!==null?km(s):u!==null?(u.return=a,Y=u):km(s);for(;o!==null;)Y=o,Oy(o),o=o.sibling;Y=s,wa=l,dt=c}Tm(r)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):Tm(r)}}function Tm(r){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Su(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!dt)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&um(e,o,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}um(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ro(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}dt||e.flags&512&&ed(e)}catch(p){je(e,e.return,p)}}if(e===r){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Am(r){for(;Y!==null;){var e=Y;if(e===r){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function km(r){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Su(4,e)}catch(u){je(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(u){je(e,s,u)}}var o=e.return;try{ed(e)}catch(u){je(e,o,u)}break;case 5:var a=e.return;try{ed(e)}catch(u){je(e,a,u)}}}catch(u){je(e,e.return,u)}if(e===r){Y=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Y=l;break}Y=e.return}}var mw=Math.ceil,Ul=Jr.ReactCurrentDispatcher,Kf=Jr.ReactCurrentOwner,Vt=Jr.ReactCurrentBatchConfig,fe=0,nt=null,Ye=null,lt=0,kt=0,qi=Ln(0),Je=0,Ho=null,di=0,Tu=0,qf=0,_o=null,_t=null,Qf=0,_s=1/0,Fr=null,zl=!1,nd=null,Tn=null,Ea=!1,vn=null,Gl=0,bo=0,id=null,ll=-1,ul=0;function vt(){return fe&6?Ve():ll!==-1?ll:ll=Ve()}function An(r){return r.mode&1?fe&2&&lt!==0?lt&-lt:Zb.transition!==null?(ul===0&&(ul=bv()),ul):(r=ve,r!==0||(r=window.event,r=r===void 0?16:kv(r.type)),r):1}function ar(r,e,n,i){if(50<bo)throw bo=0,id=null,Error(D(185));Zo(r,n,i),(!(fe&2)||r!==nt)&&(r===nt&&(!(fe&2)&&(Tu|=n),Je===4&&pn(r,lt)),St(r,i),n===1&&fe===0&&!(e.mode&1)&&(_s=Ve()+500,wu&&Dn()))}function St(r,e){var n=r.callbackNode;Z_(r,e);var i=Sl(r,r===nt?lt:0);if(i===0)n!==null&&Fp(n),r.callbackNode=null,r.callbackPriority=0;else if(e=i&-i,r.callbackPriority!==e){if(n!=null&&Fp(n),e===1)r.tag===0?Qb(Nm.bind(null,r)):Xv(Nm.bind(null,r)),Xb(function(){!(fe&6)&&Dn()}),n=null;else{switch(wv(i)){case 1:n=Ef;break;case 4:n=xv;break;case 16:n=Cl;break;case 536870912:n=_v;break;default:n=Cl}n=Wy(n,jy.bind(null,r))}r.callbackPriority=e,r.callbackNode=n}}function jy(r,e){if(ll=-1,ul=0,fe&6)throw Error(D(327));var n=r.callbackNode;if(is()&&r.callbackNode!==n)return null;var i=Sl(r,r===nt?lt:0);if(i===0)return null;if(i&30||i&r.expiredLanes||e)e=Hl(r,i);else{e=i;var s=fe;fe|=2;var o=zy();(nt!==r||lt!==e)&&(Fr=null,_s=Ve()+500,ni(r,e));do try{yw();break}catch(l){Uy(r,l)}while(!0);Df(),Ul.current=o,fe=s,Ye!==null?e=0:(nt=null,lt=0,e=Je)}if(e!==0){if(e===2&&(s=Ph(r),s!==0&&(i=s,e=sd(r,s))),e===1)throw n=Ho,ni(r,0),pn(r,i),St(r,Ve()),n;if(e===6)pn(r,i);else{if(s=r.current.alternate,!(i&30)&&!gw(s)&&(e=Hl(r,i),e===2&&(o=Ph(r),o!==0&&(i=o,e=sd(r,o))),e===1))throw n=Ho,ni(r,0),pn(r,i),St(r,Ve()),n;switch(r.finishedWork=s,r.finishedLanes=i,e){case 0:case 1:throw Error(D(345));case 2:Hn(r,_t,Fr);break;case 3:if(pn(r,i),(i&130023424)===i&&(e=Qf+500-Ve(),10<e)){if(Sl(r,0)!==0)break;if(s=r.suspendedLanes,(s&i)!==i){vt(),r.pingedLanes|=r.suspendedLanes&s;break}r.timeoutHandle=jh(Hn.bind(null,r,_t,Fr),e);break}Hn(r,_t,Fr);break;case 4:if(pn(r,i),(i&4194240)===i)break;for(e=r.eventTimes,s=-1;0<i;){var a=31-or(i);o=1<<a,a=e[a],a>s&&(s=a),i&=~o}if(i=s,i=Ve()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*mw(i/1960))-i,10<i){r.timeoutHandle=jh(Hn.bind(null,r,_t,Fr),i);break}Hn(r,_t,Fr);break;case 5:Hn(r,_t,Fr);break;default:throw Error(D(329))}}}return St(r,Ve()),r.callbackNode===n?jy.bind(null,r):null}function sd(r,e){var n=_o;return r.current.memoizedState.isDehydrated&&(ni(r,e).flags|=256),r=Hl(r,e),r!==2&&(e=_t,_t=n,e!==null&&od(e)),r}function od(r){_t===null?_t=r:_t.push.apply(_t,r)}function gw(r){for(var e=r;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!cr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(r,e){for(e&=~qf,e&=~Tu,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var n=31-or(e),i=1<<n;r[n]=-1,e&=~i}}function Nm(r){if(fe&6)throw Error(D(327));is();var e=Sl(r,0);if(!(e&1))return St(r,Ve()),null;var n=Hl(r,e);if(r.tag!==0&&n===2){var i=Ph(r);i!==0&&(e=i,n=sd(r,i))}if(n===1)throw n=Ho,ni(r,0),pn(r,e),St(r,Ve()),n;if(n===6)throw Error(D(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Hn(r,_t,Fr),St(r,Ve()),null}function Zf(r,e){var n=fe;fe|=1;try{return r(e)}finally{fe=n,fe===0&&(_s=Ve()+500,wu&&Dn())}}function fi(r){vn!==null&&vn.tag===0&&!(fe&6)&&is();var e=fe;fe|=1;var n=Vt.transition,i=ve;try{if(Vt.transition=null,ve=1,r)return r()}finally{ve=i,Vt.transition=n,fe=e,!(fe&6)&&Dn()}}function Jf(){kt=qi.current,Te(qi)}function ni(r,e){r.finishedWork=null,r.finishedLanes=0;var n=r.timeoutHandle;if(n!==-1&&(r.timeoutHandle=-1,Wb(n)),Ye!==null)for(n=Ye.return;n!==null;){var i=n;switch(Mf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Il();break;case 3:ys(),Te(Et),Te(ft),Gf();break;case 5:zf(i);break;case 4:ys();break;case 13:Te(Be);break;case 19:Te(Be);break;case 10:Ff(i.type._context);break;case 22:case 23:Jf()}n=n.return}if(nt=r,Ye=r=kn(r.current,null),lt=kt=e,Je=0,Ho=null,qf=Tu=di=0,_t=_o=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,i.next=a}n.pending=i}ti=null}return r}function Uy(r,e){do{var n=Ye;try{if(Df(),sl.current=jl,Ol){for(var i=De.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ol=!1}if(hi=0,tt=Ze=De=null,yo=!1,Uo=0,Kf.current=null,n===null||n.return===null){Je=1,Ho=e,Ye=null;break}e:{var o=r,a=n.return,l=n,u=e;if(e=lt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=gm(a);if(m!==null){m.flags&=-257,vm(m,a,l,o,e),m.mode&1&&mm(o,c,e),e=m,u=c;var g=e.updateQueue;if(g===null){var x=new Set;x.add(u),e.updateQueue=x}else g.add(u);break e}else{if(!(e&1)){mm(o,c,e),ep();break e}u=Error(D(426))}}else if(Ie&&l.mode&1){var b=gm(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vm(b,a,l,o,e),Bf(xs(u,l));break e}}o=u=xs(u,l),Je!==4&&(Je=2),_o===null?_o=[o]:_o.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=Ey(o,u,e);lm(o,y);break e;case 1:l=u;var _=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tn===null||!Tn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=Cy(o,l,e);lm(o,w);break e}}o=o.return}while(o!==null)}Hy(n)}catch(E){e=E,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function zy(){var r=Ul.current;return Ul.current=jl,r===null?jl:r}function ep(){(Je===0||Je===3||Je===2)&&(Je=4),nt===null||!(di&268435455)&&!(Tu&268435455)||pn(nt,lt)}function Hl(r,e){var n=fe;fe|=2;var i=zy();(nt!==r||lt!==e)&&(Fr=null,ni(r,e));do try{vw();break}catch(s){Uy(r,s)}while(!0);if(Df(),fe=n,Ul.current=i,Ye!==null)throw Error(D(261));return nt=null,lt=0,Je}function vw(){for(;Ye!==null;)Gy(Ye)}function yw(){for(;Ye!==null&&!H_();)Gy(Ye)}function Gy(r){var e=Vy(r.alternate,r,kt);r.memoizedProps=r.pendingProps,e===null?Hy(r):Ye=e,Kf.current=null}function Hy(r){var e=r;do{var n=e.alternate;if(r=e.return,e.flags&32768){if(n=hw(n,e),n!==null){n.flags&=32767,Ye=n;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Je=6,Ye=null;return}}else if(n=cw(n,e,kt),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=r}while(e!==null);Je===0&&(Je=5)}function Hn(r,e,n){var i=ve,s=Vt.transition;try{Vt.transition=null,ve=1,xw(r,e,n,i)}finally{Vt.transition=s,ve=i}return null}function xw(r,e,n,i){do is();while(vn!==null);if(fe&6)throw Error(D(327));n=r.finishedWork;var s=r.finishedLanes;if(n===null)return null;if(r.finishedWork=null,r.finishedLanes=0,n===r.current)throw Error(D(177));r.callbackNode=null,r.callbackPriority=0;var o=n.lanes|n.childLanes;if(J_(r,o),r===nt&&(Ye=nt=null,lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ea||(Ea=!0,Wy(Cl,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vt.transition,Vt.transition=null;var a=ve;ve=1;var l=fe;fe|=4,Kf.current=null,fw(r,n),Fy(n,r),jb(Fh),Tl=!!Dh,Fh=Dh=null,r.current=n,pw(n),$_(),fe=l,ve=a,Vt.transition=o}else r.current=n;if(Ea&&(Ea=!1,vn=r,Gl=s),o=r.pendingLanes,o===0&&(Tn=null),X_(n.stateNode),St(r,Ve()),e!==null)for(i=r.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,r=nd,nd=null,r;return Gl&1&&r.tag!==0&&is(),o=r.pendingLanes,o&1?r===id?bo++:(bo=0,id=r):bo=0,Dn(),null}function is(){if(vn!==null){var r=wv(Gl),e=Vt.transition,n=ve;try{if(Vt.transition=null,ve=16>r?16:r,vn===null)var i=!1;else{if(r=vn,vn=null,Gl=0,fe&6)throw Error(D(331));var s=fe;for(fe|=4,Y=r.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:xo(8,d,o)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var p=d.sibling,m=d.return;if(By(d),d===c){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var g=o.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xo(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var _=r.current;for(Y=_;Y!==null;){a=Y;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,Y=v;else e:for(a=_;Y!==null;){if(l=Y,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Su(9,l)}}catch(E){je(l,l.return,E)}if(l===a){Y=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Y=w;break e}Y=l.return}}if(fe=s,Dn(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(vu,r)}catch{}i=!0}return i}finally{ve=n,Vt.transition=e}}return!1}function Im(r,e,n){e=xs(n,e),e=Ey(r,e,1),r=Sn(r,e,1),e=vt(),r!==null&&(Zo(r,1,e),St(r,e))}function je(r,e,n){if(r.tag===3)Im(r,r,n);else for(;e!==null;){if(e.tag===3){Im(e,r,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Tn===null||!Tn.has(i))){r=xs(n,r),r=Cy(e,r,1),e=Sn(e,r,1),r=vt(),e!==null&&(Zo(e,1,r),St(e,r));break}}e=e.return}}function _w(r,e,n){var i=r.pingCache;i!==null&&i.delete(e),e=vt(),r.pingedLanes|=r.suspendedLanes&n,nt===r&&(lt&n)===n&&(Je===4||Je===3&&(lt&130023424)===lt&&500>Ve()-Qf?ni(r,0):qf|=n),St(r,e)}function $y(r,e){e===0&&(r.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=vt();r=Kr(r,e),r!==null&&(Zo(r,e,n),St(r,n))}function bw(r){var e=r.memoizedState,n=0;e!==null&&(n=e.retryLane),$y(r,n)}function ww(r,e){var n=0;switch(r.tag){case 13:var i=r.stateNode,s=r.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=r.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(e),$y(r,n)}var Vy;Vy=function(r,e,n){if(r!==null)if(r.memoizedProps!==e.pendingProps||Et.current)bt=!0;else{if(!(r.lanes&n)&&!(e.flags&128))return bt=!1,uw(r,e,n);bt=!!(r.flags&131072)}else bt=!1,Ie&&e.flags&1048576&&Yv(e,Ml,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;al(r,e),r=e.pendingProps;var s=ms(e,ft.current);ns(e,n),s=$f(null,e,i,r,s,n);var o=Vf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(i)?(o=!0,Pl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jf(e),s.updater=Eu,e.stateNode=s,s._reactInternals=e,Wh(e,i,r,n),e=Kh(null,e,i,!0,o,n)):(e.tag=0,Ie&&o&&Rf(e),mt(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(al(r,e),r=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Cw(i),r=tr(i,r),s){case 0:e=Yh(null,e,i,r,n);break e;case 1:e=_m(null,e,i,r,n);break e;case 11:e=ym(null,e,i,r,n);break e;case 14:e=xm(null,e,i,tr(i.type,r),n);break e}throw Error(D(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:tr(i,s),Yh(r,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:tr(i,s),_m(r,e,i,s,n);case 3:e:{if(ky(e),r===null)throw Error(D(387));i=e.pendingProps,o=e.memoizedState,s=o.element,Zv(r,e),Dl(e,i,null,n);var a=e.memoizedState;if(i=a.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=xs(Error(D(423)),e),e=bm(r,e,i,n,s);break e}else if(i!==s){s=xs(Error(D(424)),e),e=bm(r,e,i,n,s);break e}else for(Nt=Cn(e.stateNode.containerInfo.firstChild),Pt=e,Ie=!0,nr=null,n=ry(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gs(),i===s){e=qr(r,e,n);break e}mt(r,e,i,n)}e=e.child}return e;case 5:return ny(e),r===null&&Hh(e),i=e.type,s=e.pendingProps,o=r!==null?r.memoizedProps:null,a=s.children,Oh(i,s)?a=null:o!==null&&Oh(i,o)&&(e.flags|=32),Ay(r,e),mt(r,e,a,n),e.child;case 6:return r===null&&Hh(e),null;case 13:return Ny(r,e,n);case 4:return Uf(e,e.stateNode.containerInfo),i=e.pendingProps,r===null?e.child=vs(e,null,i,n):mt(r,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:tr(i,s),ym(r,e,i,s,n);case 7:return mt(r,e,e.pendingProps,n),e.child;case 8:return mt(r,e,e.pendingProps.children,n),e.child;case 12:return mt(r,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,a=s.value,be(Bl,i._currentValue),i._currentValue=a,o!==null)if(cr(o.value,a)){if(o.children===s.children&&!Et.current){e=qr(r,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(o.tag===1){u=Vr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),$h(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(D(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),$h(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mt(r,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,ns(e,n),s=Wt(s),i=i(s),e.flags|=1,mt(r,e,i,n),e.child;case 14:return i=e.type,s=tr(i,e.pendingProps),s=tr(i.type,s),xm(r,e,i,s,n);case 15:return Sy(r,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:tr(i,s),al(r,e),e.tag=1,Ct(i)?(r=!0,Pl(e)):r=!1,ns(e,n),ey(e,i,s),Wh(e,i,s,n),Kh(null,e,i,!0,r,n);case 19:return Iy(r,e,n);case 22:return Ty(r,e,n)}throw Error(D(156,e.tag))};function Wy(r,e){return yv(r,e)}function Ew(r,e,n,i){this.tag=r,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(r,e,n,i){return new Ew(r,e,n,i)}function tp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cw(r){if(typeof r=="function")return tp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===_f)return 11;if(r===bf)return 14}return 2}function kn(r,e){var n=r.alternate;return n===null?(n=Gt(r.tag,e,r.key,r.mode),n.elementType=r.elementType,n.type=r.type,n.stateNode=r.stateNode,n.alternate=r,r.alternate=n):(n.pendingProps=e,n.type=r.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=r.flags&14680064,n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,e=r.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=r.sibling,n.index=r.index,n.ref=r.ref,n}function cl(r,e,n,i,s,o){var a=2;if(i=r,typeof r=="function")tp(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case Ui:return ii(n.children,s,o,e);case xf:a=8,s|=8;break;case gh:return r=Gt(12,n,e,s|2),r.elementType=gh,r.lanes=o,r;case vh:return r=Gt(13,n,e,s),r.elementType=vh,r.lanes=o,r;case yh:return r=Gt(19,n,e,s),r.elementType=yh,r.lanes=o,r;case tv:return Au(n,s,o,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case J0:a=10;break e;case ev:a=9;break e;case _f:a=11;break e;case bf:a=14;break e;case un:a=16,i=null;break e}throw Error(D(130,r==null?r:typeof r,""))}return e=Gt(a,n,e,s),e.elementType=r,e.type=i,e.lanes=o,e}function ii(r,e,n,i){return r=Gt(7,r,i,e),r.lanes=n,r}function Au(r,e,n,i){return r=Gt(22,r,i,e),r.elementType=tv,r.lanes=n,r.stateNode={isHidden:!1},r}function xc(r,e,n){return r=Gt(6,r,null,e),r.lanes=n,r}function _c(r,e,n){return e=Gt(4,r.children!==null?r.children:[],r.key,e),e.lanes=n,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function Sw(r,e,n,i,s){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rp(r,e,n,i,s,o,a,l,u){return r=new Sw(r,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gt(3,null,null,e),r.current=o,o.stateNode=r,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(o),r}function Tw(r,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ji,key:i==null?null:""+i,children:r,containerInfo:e,implementation:n}}function Xy(r){if(!r)return Pn;r=r._reactInternals;e:{if(_i(r)!==r||r.tag!==1)throw Error(D(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(r.tag===1){var n=r.type;if(Ct(n))return Wv(r,n,e)}return e}function Yy(r,e,n,i,s,o,a,l,u){return r=rp(n,i,!0,r,s,o,a,l,u),r.context=Xy(null),n=r.current,i=vt(),s=An(n),o=Vr(i,s),o.callback=e??null,Sn(n,o,s),r.current.lanes=s,Zo(r,s,i),St(r,i),r}function ku(r,e,n,i){var s=e.current,o=vt(),a=An(s);return n=Xy(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(o,a),e.payload={element:r},i=i===void 0?null:i,i!==null&&(e.callback=i),r=Sn(s,e,a),r!==null&&(ar(r,s,a,o),il(r,s,a)),a}function $l(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Pm(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var n=r.retryLane;r.retryLane=n!==0&&n<e?n:e}}function np(r,e){Pm(r,e),(r=r.alternate)&&Pm(r,e)}function Aw(){return null}var Ky=typeof reportError=="function"?reportError:function(r){console.error(r)};function ip(r){this._internalRoot=r}Nu.prototype.render=ip.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(D(409));ku(r,e,null,null)};Nu.prototype.unmount=ip.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;fi(function(){ku(null,r,null,null)}),e[Yr]=null}};function Nu(r){this._internalRoot=r}Nu.prototype.unstable_scheduleHydration=function(r){if(r){var e=Sv();r={blockedOn:null,target:r,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,r),n===0&&Av(r)}};function sp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Iu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function kw(r,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var c=$l(a);o.call(c)}}var a=Yy(e,i,r,0,null,!1,!1,"",Rm);return r._reactRootContainer=a,r[Yr]=a.current,Lo(r.nodeType===8?r.parentNode:r),fi(),a}for(;s=r.lastChild;)r.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var c=$l(u);l.call(c)}}var u=rp(r,0,!1,null,null,!1,!1,"",Rm);return r._reactRootContainer=u,r[Yr]=u.current,Lo(r.nodeType===8?r.parentNode:r),fi(function(){ku(e,u,n,i)}),u}function Pu(r,e,n,i,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var u=$l(a);l.call(u)}}ku(e,a,r,s)}else a=kw(n,e,r,s,i);return $l(a)}Ev=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var n=ro(e.pendingLanes);n!==0&&(Cf(e,n|1),St(e,Ve()),!(fe&6)&&(_s=Ve()+500,Dn()))}break;case 13:fi(function(){var i=Kr(r,1);if(i!==null){var s=vt();ar(i,r,1,s)}}),np(r,1)}};Sf=function(r){if(r.tag===13){var e=Kr(r,134217728);if(e!==null){var n=vt();ar(e,r,134217728,n)}np(r,134217728)}};Cv=function(r){if(r.tag===13){var e=An(r),n=Kr(r,e);if(n!==null){var i=vt();ar(n,r,e,i)}np(r,e)}};Sv=function(){return ve};Tv=function(r,e){var n=ve;try{return ve=r,e()}finally{ve=n}};kh=function(r,e,n){switch(e){case"input":if(bh(r,n),e=n.name,n.type==="radio"&&e!=null){for(n=r;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==r&&i.form===r.form){var s=bu(i);if(!s)throw Error(D(90));nv(i),bh(i,s)}}}break;case"textarea":sv(r,n);break;case"select":e=n.value,e!=null&&Ji(r,!!n.multiple,e,!1)}};dv=Zf;fv=fi;var Nw={usingClientEntryPoint:!1,Events:[ea,$i,bu,cv,hv,Zf]},Hs={findFiberByHostInstance:ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Iw={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=gv(r),r===null?null:r.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||Aw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{vu=Ca.inject(Iw),kr=Ca}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nw;Lt.createPortal=function(r,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(e))throw Error(D(200));return Tw(r,e,null,n)};Lt.createRoot=function(r,e){if(!sp(r))throw Error(D(299));var n=!1,i="",s=Ky;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=rp(r,1,!1,null,null,n,!1,i,s),r[Yr]=e.current,Lo(r.nodeType===8?r.parentNode:r),new ip(e)};Lt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(D(188)):(r=Object.keys(r).join(","),Error(D(268,r)));return r=gv(e),r=r===null?null:r.stateNode,r};Lt.flushSync=function(r){return fi(r)};Lt.hydrate=function(r,e,n){if(!Iu(e))throw Error(D(200));return Pu(null,r,e,!0,n)};Lt.hydrateRoot=function(r,e,n){if(!sp(r))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",a=Ky;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Yy(e,null,r,1,n??null,s,!1,o,a),r[Yr]=e.current,Lo(r),i)for(r=0;r<i.length;r++)n=i[r],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Nu(e)};Lt.render=function(r,e,n){if(!Iu(e))throw Error(D(200));return Pu(null,r,e,!1,n)};Lt.unmountComponentAtNode=function(r){if(!Iu(r))throw Error(D(40));return r._reactRootContainer?(fi(function(){Pu(null,null,r,!1,function(){r._reactRootContainer=null,r[Yr]=null})}),!0):!1};Lt.unstable_batchedUpdates=Zf;Lt.unstable_renderSubtreeIntoContainer=function(r,e,n,i){if(!Iu(n))throw Error(D(200));if(r==null||r._reactInternals===void 0)throw Error(D(38));return Pu(r,e,n,!1,i)};Lt.version="18.2.0-next-9e3b772b8-20220608";function qy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qy)}catch(r){console.error(r)}}qy(),Y0.exports=Lt;var Pw=Y0.exports,Mm=Pw;ph.createRoot=Mm.createRoot,ph.hydrateRoot=Mm.hydrateRoot;var bi=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(bi||{}),Qy=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(Qy||{}),ad=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(ad||{}),te=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(te||{}),Ar=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(Ar||{}),F=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(F||{}),ss=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(ss||{}),J=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(J||{}),W=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(W||{}),zr=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(zr||{}),Nn=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(Nn||{}),Rr=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(Rr||{}),wt=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(wt||{}),Cr=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(Cr||{}),op=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(op||{}),Ht=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(Ht||{}),Qe=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(Qe||{}),We=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(We||{}),Ir=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(Ir||{});const Rw={createCanvas:(r,e)=>{const n=document.createElement("canvas");return n.width=r,n.height=e,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},X={ADAPTER:Rw,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var bc=/iPhone/i,Bm=/iPod/i,Lm=/iPad/i,Dm=/\biOS-universal(?:.+)Mac\b/i,wc=/\bAndroid(?:.+)Mobile\b/i,Fm=/Android/i,Ti=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Sa=/Silk/i,Br=/Windows Phone/i,Om=/\bWindows(?:.+)ARM\b/i,jm=/BlackBerry/i,Um=/BB10/i,zm=/Opera Mini/i,Gm=/\b(CriOS|Chrome)(?:.+)Mobile/i,Hm=/Mobile(?:.+)Firefox\b/i,$m=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function Mw(r){return function(e){return e.test(r)}}function Vm(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var n=e.userAgent,i=n.split("[FBAN");typeof i[1]<"u"&&(n=i[0]),i=n.split("Twitter"),typeof i[1]<"u"&&(n=i[0]);var s=Mw(n),o={apple:{phone:s(bc)&&!s(Br),ipod:s(Bm),tablet:!s(bc)&&(s(Lm)||$m(e))&&!s(Br),universal:s(Dm),device:(s(bc)||s(Bm)||s(Lm)||s(Dm)||$m(e))&&!s(Br)},amazon:{phone:s(Ti),tablet:!s(Ti)&&s(Sa),device:s(Ti)||s(Sa)},android:{phone:!s(Br)&&s(Ti)||!s(Br)&&s(wc),tablet:!s(Br)&&!s(Ti)&&!s(wc)&&(s(Sa)||s(Fm)),device:!s(Br)&&(s(Ti)||s(Sa)||s(wc)||s(Fm))||s(/\bokhttp\b/i)},windows:{phone:s(Br),tablet:s(Om),device:s(Br)||s(Om)},other:{blackberry:s(jm),blackberry10:s(Um),opera:s(zm),firefox:s(Hm),chrome:s(Gm),device:s(jm)||s(Um)||s(zm)||s(Hm)||s(Gm)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}const Bw=Vm.default??Vm,Gr=Bw(globalThis.navigator);X.RETINA_PREFIX=/@([0-9\.]+)x/;X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Zy={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function s(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function o(u,c,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||u,p),g=n?n+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],m]:u._events[g].push(m):(u._events[g]=m,u._eventsCount++),u}function a(u,c){--u._eventsCount===0?u._events=new i:delete u._events[c]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)e.call(d,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},l.prototype.listeners=function(c){var d=n?n+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},l.prototype.listenerCount=function(c){var d=n?n+c:c,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,d,f,p,m,g){var x=n?n+c:c;if(!this._events[x])return!1;var b=this._events[x],y=arguments.length,_,v;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,p),!0;case 5:return b.fn.call(b.context,d,f,p,m),!0;case 6:return b.fn.call(b.context,d,f,p,m,g),!0}for(v=1,_=new Array(y-1);v<y;v++)_[v-1]=arguments[v];b.fn.apply(b.context,_)}else{var w=b.length,E;for(v=0;v<w;v++)switch(b[v].once&&this.removeListener(c,b[v].fn,void 0,!0),y){case 1:b[v].fn.call(b[v].context);break;case 2:b[v].fn.call(b[v].context,d);break;case 3:b[v].fn.call(b[v].context,d,f);break;case 4:b[v].fn.call(b[v].context,d,f,p);break;default:if(!_)for(E=1,_=new Array(y-1);E<y;E++)_[E-1]=arguments[E];b[v].fn.apply(b[v].context,_)}}return!0},l.prototype.on=function(c,d,f){return o(this,c,d,f,!1)},l.prototype.once=function(c,d,f){return o(this,c,d,f,!0)},l.prototype.removeListener=function(c,d,f,p){var m=n?n+c:c;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var x=0,b=[],y=g.length;x<y;x++)(g[x].fn!==d||p&&!g[x].once||f&&g[x].context!==f)&&b.push(g[x]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},l.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,r.exports=l})(Zy);var Lw=Zy.exports;const ra=mu(Lw);var ap={exports:{}};ap.exports=Ru;ap.exports.default=Ru;function Ru(r,e,n){n=n||2;var i=e&&e.length,s=i?e[0]*n:r.length,o=Jy(r,0,s,n,!0),a=[];if(!o||o.next===o.prev)return a;var l,u,c,d,f,p,m;if(i&&(o=Uw(r,e,o,n)),r.length>80*n){l=c=r[0],u=d=r[1];for(var g=n;g<s;g+=n)f=r[g],p=r[g+1],f<l&&(l=f),p<u&&(u=p),f>c&&(c=f),p>d&&(d=p);m=Math.max(c-l,d-u),m=m!==0?32767/m:0}return $o(o,a,n,l,u,m,0),a}function Jy(r,e,n,i,s){var o,a;if(s===cd(r,e,n,i)>0)for(o=e;o<n;o+=i)a=Wm(o,r[o],r[o+1],a);else for(o=n-i;o>=e;o-=i)a=Wm(o,r[o],r[o+1],a);return a&&Mu(a,a.next)&&(Wo(a),a=a.next),a}function pi(r,e){if(!r)return r;e||(e=r);var n=r,i;do if(i=!1,!n.steiner&&(Mu(n,n.next)||Le(n.prev,n,n.next)===0)){if(Wo(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function $o(r,e,n,i,s,o,a){if(r){!a&&o&&Vw(r,i,s,o);for(var l=r,u,c;r.prev!==r.next;){if(u=r.prev,c=r.next,o?Fw(r,i,s,o):Dw(r)){e.push(u.i/n|0),e.push(r.i/n|0),e.push(c.i/n|0),Wo(r),r=c.next,l=c.next;continue}if(r=c,r===l){a?a===1?(r=Ow(pi(r),e,n),$o(r,e,n,i,s,o,2)):a===2&&jw(r,e,n,i,s,o):$o(pi(r),e,n,i,s,o,1);break}}}}function Dw(r){var e=r.prev,n=r,i=r.next;if(Le(e,n,i)>=0)return!1;for(var s=e.x,o=n.x,a=i.x,l=e.y,u=n.y,c=i.y,d=s<o?s<a?s:a:o<a?o:a,f=l<u?l<c?l:c:u<c?u:c,p=s>o?s>a?s:a:o>a?o:a,m=l>u?l>c?l:c:u>c?u:c,g=i.next;g!==e;){if(g.x>=d&&g.x<=p&&g.y>=f&&g.y<=m&&Qi(s,l,o,u,a,c,g.x,g.y)&&Le(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Fw(r,e,n,i){var s=r.prev,o=r,a=r.next;if(Le(s,o,a)>=0)return!1;for(var l=s.x,u=o.x,c=a.x,d=s.y,f=o.y,p=a.y,m=l<u?l<c?l:c:u<c?u:c,g=d<f?d<p?d:p:f<p?f:p,x=l>u?l>c?l:c:u>c?u:c,b=d>f?d>p?d:p:f>p?f:p,y=ld(m,g,e,n,i),_=ld(x,b,e,n,i),v=r.prevZ,w=r.nextZ;v&&v.z>=y&&w&&w.z<=_;){if(v.x>=m&&v.x<=x&&v.y>=g&&v.y<=b&&v!==s&&v!==a&&Qi(l,d,u,f,c,p,v.x,v.y)&&Le(v.prev,v,v.next)>=0||(v=v.prevZ,w.x>=m&&w.x<=x&&w.y>=g&&w.y<=b&&w!==s&&w!==a&&Qi(l,d,u,f,c,p,w.x,w.y)&&Le(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;v&&v.z>=y;){if(v.x>=m&&v.x<=x&&v.y>=g&&v.y<=b&&v!==s&&v!==a&&Qi(l,d,u,f,c,p,v.x,v.y)&&Le(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;w&&w.z<=_;){if(w.x>=m&&w.x<=x&&w.y>=g&&w.y<=b&&w!==s&&w!==a&&Qi(l,d,u,f,c,p,w.x,w.y)&&Le(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function Ow(r,e,n){var i=r;do{var s=i.prev,o=i.next.next;!Mu(s,o)&&e1(s,i,i.next,o)&&Vo(s,o)&&Vo(o,s)&&(e.push(s.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),Wo(i),Wo(i.next),i=r=o),i=i.next}while(i!==r);return pi(i)}function jw(r,e,n,i,s,o){var a=r;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&Yw(a,l)){var u=t1(a,l);a=pi(a,a.next),u=pi(u,u.next),$o(a,e,n,i,s,o,0),$o(u,e,n,i,s,o,0);return}l=l.next}a=a.next}while(a!==r)}function Uw(r,e,n,i){var s=[],o,a,l,u,c;for(o=0,a=e.length;o<a;o++)l=e[o]*i,u=o<a-1?e[o+1]*i:r.length,c=Jy(r,l,u,i,!1),c===c.next&&(c.steiner=!0),s.push(Xw(c));for(s.sort(zw),o=0;o<s.length;o++)n=Gw(s[o],n);return n}function zw(r,e){return r.x-e.x}function Gw(r,e){var n=Hw(r,e);if(!n)return e;var i=t1(n,r);return pi(i,i.next),pi(n,n.next)}function Hw(r,e){var n=e,i=r.x,s=r.y,o=-1/0,a;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var l=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(l<=i&&l>o&&(o=l,a=n.x<n.next.x?n:n.next,l===i))return a}n=n.next}while(n!==e);if(!a)return null;var u=a,c=a.x,d=a.y,f=1/0,p;n=a;do i>=n.x&&n.x>=c&&i!==n.x&&Qi(s<d?i:o,s,c,d,s<d?o:i,s,n.x,n.y)&&(p=Math.abs(s-n.y)/(i-n.x),Vo(n,r)&&(p<f||p===f&&(n.x>a.x||n.x===a.x&&$w(a,n)))&&(a=n,f=p)),n=n.next;while(n!==u);return a}function $w(r,e){return Le(r.prev,r,e.prev)<0&&Le(e.next,r,r.next)<0}function Vw(r,e,n,i){var s=r;do s.z===0&&(s.z=ld(s.x,s.y,e,n,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==r);s.prevZ.nextZ=null,s.prevZ=null,Ww(s)}function Ww(r){var e,n,i,s,o,a,l,u,c=1;do{for(n=r,r=null,o=null,a=0;n;){for(a++,i=n,l=0,e=0;e<c&&(l++,i=i.nextZ,!!i);e++);for(u=c;l>0||u>0&&i;)l!==0&&(u===0||!i||n.z<=i.z)?(s=n,n=n.nextZ,l--):(s=i,i=i.nextZ,u--),o?o.nextZ=s:r=s,s.prevZ=o,o=s;n=i}o.nextZ=null,c*=2}while(a>1);return r}function ld(r,e,n,i,s){return r=(r-n)*s|0,e=(e-i)*s|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function Xw(r){var e=r,n=r;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==r);return n}function Qi(r,e,n,i,s,o,a,l){return(s-a)*(e-l)>=(r-a)*(o-l)&&(r-a)*(i-l)>=(n-a)*(e-l)&&(n-a)*(o-l)>=(s-a)*(i-l)}function Yw(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!Kw(r,e)&&(Vo(r,e)&&Vo(e,r)&&qw(r,e)&&(Le(r.prev,r,e.prev)||Le(r,e.prev,e))||Mu(r,e)&&Le(r.prev,r,r.next)>0&&Le(e.prev,e,e.next)>0)}function Le(r,e,n){return(e.y-r.y)*(n.x-e.x)-(e.x-r.x)*(n.y-e.y)}function Mu(r,e){return r.x===e.x&&r.y===e.y}function e1(r,e,n,i){var s=Aa(Le(r,e,n)),o=Aa(Le(r,e,i)),a=Aa(Le(n,i,r)),l=Aa(Le(n,i,e));return!!(s!==o&&a!==l||s===0&&Ta(r,n,e)||o===0&&Ta(r,i,e)||a===0&&Ta(n,r,i)||l===0&&Ta(n,e,i))}function Ta(r,e,n){return e.x<=Math.max(r.x,n.x)&&e.x>=Math.min(r.x,n.x)&&e.y<=Math.max(r.y,n.y)&&e.y>=Math.min(r.y,n.y)}function Aa(r){return r>0?1:r<0?-1:0}function Kw(r,e){var n=r;do{if(n.i!==r.i&&n.next.i!==r.i&&n.i!==e.i&&n.next.i!==e.i&&e1(n,n.next,r,e))return!0;n=n.next}while(n!==r);return!1}function Vo(r,e){return Le(r.prev,r,r.next)<0?Le(r,e,r.next)>=0&&Le(r,r.prev,e)>=0:Le(r,e,r.prev)<0||Le(r,r.next,e)<0}function qw(r,e){var n=r,i=!1,s=(r.x+e.x)/2,o=(r.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&s<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==r);return i}function t1(r,e){var n=new ud(r.i,r.x,r.y),i=new ud(e.i,e.x,e.y),s=r.next,o=e.prev;return r.next=e,e.prev=r,n.next=s,s.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Wm(r,e,n,i){var s=new ud(r,e,n);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Wo(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function ud(r,e,n){this.i=r,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ru.deviation=function(r,e,n,i){var s=e&&e.length,o=s?e[0]*n:r.length,a=Math.abs(cd(r,0,o,n));if(s)for(var l=0,u=e.length;l<u;l++){var c=e[l]*n,d=l<u-1?e[l+1]*n:r.length;a-=Math.abs(cd(r,c,d,n))}var f=0;for(l=0;l<i.length;l+=3){var p=i[l]*n,m=i[l+1]*n,g=i[l+2]*n;f+=Math.abs((r[p]-r[g])*(r[m+1]-r[p+1])-(r[p]-r[m])*(r[g+1]-r[p+1]))}return a===0&&f===0?0:Math.abs((f-a)/a)};function cd(r,e,n,i){for(var s=0,o=e,a=n-i;o<n;o+=i)s+=(r[a]-r[o])*(r[o+1]+r[a+1]),a=o;return s}Ru.flatten=function(r){for(var e=r[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,s=0;s<r.length;s++){for(var o=0;o<r[s].length;o++)for(var a=0;a<e;a++)n.vertices.push(r[s][o][a]);s>0&&(i+=r[s-1].length,n.holes.push(i))}return n};var Qw=ap.exports;const Zw=mu(Qw);var Vl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Vl.exports;(function(r,e){(function(n){var i=e&&!e.nodeType&&e,s=r&&!r.nodeType&&r,o=typeof Za=="object"&&Za;(o.global===o||o.window===o||o.self===o)&&(n=o);var a,l=2147483647,u=36,c=1,d=26,f=38,p=700,m=72,g=128,x="-",b=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,E=Math.floor,k=String.fromCharCode,T;function C(N){throw new RangeError(v[N])}function M(N,L){for(var V=N.length,se=[];V--;)se[V]=L(N[V]);return se}function P(N,L){var V=N.split("@"),se="";V.length>1&&(se=V[0]+"@",N=V[1]),N=N.replace(_,".");var ne=N.split("."),ye=M(ne,L).join(".");return se+ye}function S(N){for(var L=[],V=0,se=N.length,ne,ye;V<se;)ne=N.charCodeAt(V++),ne>=55296&&ne<=56319&&V<se?(ye=N.charCodeAt(V++),(ye&64512)==56320?L.push(((ne&1023)<<10)+(ye&1023)+65536):(L.push(ne),V--)):L.push(ne);return L}function O(N){return M(N,function(L){var V="";return L>65535&&(L-=65536,V+=k(L>>>10&1023|55296),L=56320|L&1023),V+=k(L),V}).join("")}function A(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:u}function B(N,L){return N+22+75*(N<26)-((L!=0)<<5)}function G(N,L,V){var se=0;for(N=V?E(N/p):N>>1,N+=E(N/L);N>w*d>>1;se+=u)N=E(N/w);return E(se+(w+1)*N/(N+f))}function j(N){var L=[],V=N.length,se,ne=0,ye=g,oe=m,ge,Pe,Ue,pe,me,xe,re,we,Re;for(ge=N.lastIndexOf(x),ge<0&&(ge=0),Pe=0;Pe<ge;++Pe)N.charCodeAt(Pe)>=128&&C("not-basic"),L.push(N.charCodeAt(Pe));for(Ue=ge>0?ge+1:0;Ue<V;){for(pe=ne,me=1,xe=u;Ue>=V&&C("invalid-input"),re=A(N.charCodeAt(Ue++)),(re>=u||re>E((l-ne)/me))&&C("overflow"),ne+=re*me,we=xe<=oe?c:xe>=oe+d?d:xe-oe,!(re<we);xe+=u)Re=u-we,me>E(l/Re)&&C("overflow"),me*=Re;se=L.length+1,oe=G(ne-pe,se,pe==0),E(ne/se)>l-ye&&C("overflow"),ye+=E(ne/se),ne%=se,L.splice(ne++,0,ye)}return O(L)}function K(N){var L,V,se,ne,ye,oe,ge,Pe,Ue,pe,me,xe=[],re,we,Re,ke;for(N=S(N),re=N.length,L=g,V=0,ye=m,oe=0;oe<re;++oe)me=N[oe],me<128&&xe.push(k(me));for(se=ne=xe.length,ne&&xe.push(x);se<re;){for(ge=l,oe=0;oe<re;++oe)me=N[oe],me>=L&&me<ge&&(ge=me);for(we=se+1,ge-L>E((l-V)/we)&&C("overflow"),V+=(ge-L)*we,L=ge,oe=0;oe<re;++oe)if(me=N[oe],me<L&&++V>l&&C("overflow"),me==L){for(Pe=V,Ue=u;pe=Ue<=ye?c:Ue>=ye+d?d:Ue-ye,!(Pe<pe);Ue+=u)ke=Pe-pe,Re=u-pe,xe.push(k(B(pe+ke%Re,0))),Pe=E(ke/Re);xe.push(k(B(Pe,0))),ye=G(V,we,se==ne),V=0,++se}++V,++L}return xe.join("")}function R(N){return P(N,function(L){return b.test(L)?j(L.slice(4).toLowerCase()):L})}function H(N){return P(N,function(L){return y.test(L)?"xn--"+K(L):L})}if(a={version:"1.4.1",ucs2:{decode:S,encode:O},decode:j,encode:K,toASCII:H,toUnicode:R},i&&s)if(r.exports==i)s.exports=a;else for(T in a)a.hasOwnProperty(T)&&(i[T]=a[T]);else n.punycode=a})(Za)})(Vl,Vl.exports);var Jw=Vl.exports,eE=Error,tE=EvalError,rE=RangeError,nE=ReferenceError,r1=SyntaxError,na=TypeError,iE=URIError,sE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==s||a.enumerable!==!0)return!1}return!0},Xm=typeof Symbol<"u"&&Symbol,oE=sE,aE=function(){return typeof Xm!="function"||typeof Symbol!="function"||typeof Xm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:oE()},Ec={__proto__:null,foo:{}},lE=Object,uE=function(){return{__proto__:Ec}.foo===Ec.foo&&!(Ec instanceof lE)},cE="Function.prototype.bind called on incompatible ",hE=Object.prototype.toString,dE=Math.max,fE="[object Function]",Ym=function(e,n){for(var i=[],s=0;s<e.length;s+=1)i[s]=e[s];for(var o=0;o<n.length;o+=1)i[o+e.length]=n[o];return i},pE=function(e,n){for(var i=[],s=n||0,o=0;s<e.length;s+=1,o+=1)i[o]=e[s];return i},mE=function(r,e){for(var n="",i=0;i<r.length;i+=1)n+=r[i],i+1<r.length&&(n+=e);return n},gE=function(e){var n=this;if(typeof n!="function"||hE.apply(n)!==fE)throw new TypeError(cE+n);for(var i=pE(arguments,1),s,o=function(){if(this instanceof s){var d=n.apply(this,Ym(i,arguments));return Object(d)===d?d:this}return n.apply(e,Ym(i,arguments))},a=dE(0,n.length-i.length),l=[],u=0;u<a;u++)l[u]="$"+u;if(s=Function("binder","return function ("+mE(l,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var c=function(){};c.prototype=n.prototype,s.prototype=new c,c.prototype=null}return s},vE=gE,lp=Function.prototype.bind||vE,yE=Function.prototype.call,xE=Object.prototype.hasOwnProperty,_E=lp,bE=_E.call(yE,xE),ue,wE=eE,EE=tE,CE=rE,SE=nE,bs=r1,os=na,TE=iE,n1=Function,Cc=function(r){try{return n1('"use strict"; return ('+r+").constructor;")()}catch{}},si=Object.getOwnPropertyDescriptor;if(si)try{si({},"")}catch{si=null}var Sc=function(){throw new os},AE=si?function(){try{return arguments.callee,Sc}catch{try{return si(arguments,"callee").get}catch{return Sc}}}():Sc,Ai=aE(),kE=uE(),et=Object.getPrototypeOf||(kE?function(r){return r.__proto__}:null),Ri={},NE=typeof Uint8Array>"u"||!et?ue:et(Uint8Array),oi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ue:ArrayBuffer,"%ArrayIteratorPrototype%":Ai&&et?et([][Symbol.iterator]()):ue,"%AsyncFromSyncIteratorPrototype%":ue,"%AsyncFunction%":Ri,"%AsyncGenerator%":Ri,"%AsyncGeneratorFunction%":Ri,"%AsyncIteratorPrototype%":Ri,"%Atomics%":typeof Atomics>"u"?ue:Atomics,"%BigInt%":typeof BigInt>"u"?ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":wE,"%eval%":eval,"%EvalError%":EE,"%Float32Array%":typeof Float32Array>"u"?ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ue:FinalizationRegistry,"%Function%":n1,"%GeneratorFunction%":Ri,"%Int8Array%":typeof Int8Array>"u"?ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ai&&et?et(et([][Symbol.iterator]())):ue,"%JSON%":typeof JSON=="object"?JSON:ue,"%Map%":typeof Map>"u"?ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ai||!et?ue:et(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ue:Promise,"%Proxy%":typeof Proxy>"u"?ue:Proxy,"%RangeError%":CE,"%ReferenceError%":SE,"%Reflect%":typeof Reflect>"u"?ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ai||!et?ue:et(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ai&&et?et(""[Symbol.iterator]()):ue,"%Symbol%":Ai?Symbol:ue,"%SyntaxError%":bs,"%ThrowTypeError%":AE,"%TypedArray%":NE,"%TypeError%":os,"%Uint8Array%":typeof Uint8Array>"u"?ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ue:Uint32Array,"%URIError%":TE,"%WeakMap%":typeof WeakMap>"u"?ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ue:WeakSet};if(et)try{null.error}catch(r){var IE=et(et(r));oi["%Error.prototype%"]=IE}var PE=function r(e){var n;if(e==="%AsyncFunction%")n=Cc("async function () {}");else if(e==="%GeneratorFunction%")n=Cc("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Cc("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=r("%AsyncGenerator%");s&&et&&(n=et(s.prototype))}return oi[e]=n,n},Km={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ia=lp,Wl=bE,RE=ia.call(Function.call,Array.prototype.concat),ME=ia.call(Function.apply,Array.prototype.splice),qm=ia.call(Function.call,String.prototype.replace),Xl=ia.call(Function.call,String.prototype.slice),BE=ia.call(Function.call,RegExp.prototype.exec),LE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,DE=/\\(\\)?/g,FE=function(e){var n=Xl(e,0,1),i=Xl(e,-1);if(n==="%"&&i!=="%")throw new bs("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&n!=="%")throw new bs("invalid intrinsic syntax, expected opening `%`");var s=[];return qm(e,LE,function(o,a,l,u){s[s.length]=l?qm(u,DE,"$1"):a||o}),s},OE=function(e,n){var i=e,s;if(Wl(Km,i)&&(s=Km[i],i="%"+s[0]+"%"),Wl(oi,i)){var o=oi[i];if(o===Ri&&(o=PE(i)),typeof o>"u"&&!n)throw new os("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:i,value:o}}throw new bs("intrinsic "+e+" does not exist!")},Ps=function(e,n){if(typeof e!="string"||e.length===0)throw new os("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new os('"allowMissing" argument must be a boolean');if(BE(/^%?[^%]*%?$/,e)===null)throw new bs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=FE(e),s=i.length>0?i[0]:"",o=OE("%"+s+"%",n),a=o.name,l=o.value,u=!1,c=o.alias;c&&(s=c[0],ME(i,RE([0,1],c)));for(var d=1,f=!0;d<i.length;d+=1){var p=i[d],m=Xl(p,0,1),g=Xl(p,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new bs("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(u=!0),s+="."+p,a="%"+s+"%",Wl(oi,a))l=oi[a];else if(l!=null){if(!(p in l)){if(!n)throw new os("base intrinsic for "+e+" exists, but the property is not available.");return}if(si&&d+1>=i.length){var x=si(l,p);f=!!x,f&&"get"in x&&!("originalValue"in x.get)?l=x.get:l=l[p]}else f=Wl(l,p),l=l[p];f&&!u&&(oi[a]=l)}}return l},i1={exports:{}},Tc,Qm;function up(){if(Qm)return Tc;Qm=1;var r=Ps,e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Tc=e,Tc}var jE=Ps,hl=jE("%Object.getOwnPropertyDescriptor%",!0);if(hl)try{hl([],"length")}catch{hl=null}var s1=hl,Zm=up(),UE=r1,ki=na,Jm=s1,zE=function(e,n,i){if(!e||typeof e!="object"&&typeof e!="function")throw new ki("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new ki("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ki("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ki("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ki("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ki("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,u=!!Jm&&Jm(e,n);if(Zm)Zm(e,n,{configurable:a===null&&u?u.configurable:!a,enumerable:s===null&&u?u.enumerable:!s,value:i,writable:o===null&&u?u.writable:!o});else if(l||!s&&!o&&!a)e[n]=i;else throw new UE("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hd=up(),o1=function(){return!!hd};o1.hasArrayLengthDefineBug=function(){if(!hd)return null;try{return hd([],"length",{value:1}).length!==1}catch{return!0}};var GE=o1,HE=Ps,eg=zE,$E=GE(),tg=s1,rg=na,VE=HE("%Math.floor%"),WE=function(e,n){if(typeof e!="function")throw new rg("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||VE(n)!==n)throw new rg("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],s=!0,o=!0;if("length"in e&&tg){var a=tg(e,"length");a&&!a.configurable&&(s=!1),a&&!a.writable&&(o=!1)}return(s||o||!i)&&($E?eg(e,"length",n,!0,!0):eg(e,"length",n)),e};(function(r){var e=lp,n=Ps,i=WE,s=na,o=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||e.call(a,o),u=up(),c=n("%Math.max%");r.exports=function(p){if(typeof p!="function")throw new s("a function is required");var m=l(e,a,arguments);return i(m,1+c(0,p.length-(arguments.length-1)),!0)};var d=function(){return l(e,o,arguments)};u?u(r.exports,"apply",{value:d}):r.exports.apply=d})(i1);var XE=i1.exports,a1=Ps,l1=XE,YE=l1(a1("String.prototype.indexOf")),KE=function(e,n){var i=a1(e,!!n);return typeof i=="function"&&YE(e,".prototype.")>-1?l1(i):i};const qE={},QE=Object.freeze(Object.defineProperty({__proto__:null,default:qE},Symbol.toStringTag,{value:"Module"})),ZE=o_(QE);var cp=typeof Map=="function"&&Map.prototype,Ac=Object.getOwnPropertyDescriptor&&cp?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Yl=cp&&Ac&&typeof Ac.get=="function"?Ac.get:null,ng=cp&&Map.prototype.forEach,hp=typeof Set=="function"&&Set.prototype,kc=Object.getOwnPropertyDescriptor&&hp?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Kl=hp&&kc&&typeof kc.get=="function"?kc.get:null,ig=hp&&Set.prototype.forEach,JE=typeof WeakMap=="function"&&WeakMap.prototype,wo=JE?WeakMap.prototype.has:null,eC=typeof WeakSet=="function"&&WeakSet.prototype,Eo=eC?WeakSet.prototype.has:null,tC=typeof WeakRef=="function"&&WeakRef.prototype,sg=tC?WeakRef.prototype.deref:null,rC=Boolean.prototype.valueOf,nC=Object.prototype.toString,iC=Function.prototype.toString,sC=String.prototype.match,dp=String.prototype.slice,yn=String.prototype.replace,oC=String.prototype.toUpperCase,og=String.prototype.toLowerCase,u1=RegExp.prototype.test,ag=Array.prototype.concat,Sr=Array.prototype.join,aC=Array.prototype.slice,lg=Math.floor,dd=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Nc=Object.getOwnPropertySymbols,fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ws=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ws||!0)?Symbol.toStringTag:null,c1=Object.prototype.propertyIsEnumerable,ug=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(r){return r.__proto__}:null);function cg(r,e){if(r===1/0||r===-1/0||r!==r||r&&r>-1e3&&r<1e3||u1.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof r=="number"){var i=r<0?-lg(-r):lg(r);if(i!==r){var s=String(i),o=dp.call(e,s.length+1);return yn.call(s,n,"$&_")+"."+yn.call(yn.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yn.call(e,n,"$&_")}var pd=ZE,hg=pd.custom,dg=d1(hg)?hg:null,lC=function r(e,n,i,s){var o=n||{};if(hn(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(hn(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=hn(o,"customInspect")?o.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(hn(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(hn(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return p1(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return l?cg(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return l?cg(e,c):c}var d=typeof o.depth>"u"?5:o.depth;if(typeof i>"u"&&(i=0),i>=d&&d>0&&typeof e=="object")return md(e)?"[Array]":"[Object]";var f=TC(o,i);if(typeof s>"u")s=[];else if(f1(s,e)>=0)return"[Circular]";function p(A,B,G){if(B&&(s=aC.call(s),s.push(B)),G){var j={depth:o.depth};return hn(o,"quoteStyle")&&(j.quoteStyle=o.quoteStyle),r(A,j,i+1,s)}return r(A,o,i+1,s)}if(typeof e=="function"&&!fg(e)){var m=vC(e),g=ka(e,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+Sr.call(g,", ")+" }":"")}if(d1(e)){var x=ws?yn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):fd.call(e);return typeof e=="object"&&!ws?$s(x):x}if(EC(e)){for(var b="<"+og.call(String(e.nodeName)),y=e.attributes||[],_=0;_<y.length;_++)b+=" "+y[_].name+"="+h1(uC(y[_].value),"double",o);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+og.call(String(e.nodeName))+">",b}if(md(e)){if(e.length===0)return"[]";var v=ka(e,p);return f&&!SC(v)?"["+gd(v,f)+"]":"[ "+Sr.call(v,", ")+" ]"}if(hC(e)){var w=ka(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!c1.call(e,"cause")?"{ ["+String(e)+"] "+Sr.call(ag.call("[cause]: "+p(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Sr.call(w,", ")+" }"}if(typeof e=="object"&&a){if(dg&&typeof e[dg]=="function"&&pd)return pd(e,{depth:d-i});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(yC(e)){var E=[];return ng&&ng.call(e,function(A,B){E.push(p(B,e,!0)+" => "+p(A,e))}),pg("Map",Yl.call(e),E,f)}if(bC(e)){var k=[];return ig&&ig.call(e,function(A){k.push(p(A,e))}),pg("Set",Kl.call(e),k,f)}if(xC(e))return Ic("WeakMap");if(wC(e))return Ic("WeakSet");if(_C(e))return Ic("WeakRef");if(fC(e))return $s(p(Number(e)));if(mC(e))return $s(p(dd.call(e)));if(pC(e))return $s(rC.call(e));if(dC(e))return $s(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Za)return"{ [object globalThis] }";if(!cC(e)&&!fg(e)){var T=ka(e,p),C=ug?ug(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",P=!C&&pt&&Object(e)===e&&pt in e?dp.call(Fn(e),8,-1):M?"Object":"",S=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=S+(P||M?"["+Sr.call(ag.call([],P||[],M||[]),": ")+"] ":"");return T.length===0?O+"{}":f?O+"{"+gd(T,f)+"}":O+"{ "+Sr.call(T,", ")+" }"}return String(e)};function h1(r,e,n){var i=(n.quoteStyle||e)==="double"?'"':"'";return i+r+i}function uC(r){return yn.call(String(r),/"/g,"&quot;")}function md(r){return Fn(r)==="[object Array]"&&(!pt||!(typeof r=="object"&&pt in r))}function cC(r){return Fn(r)==="[object Date]"&&(!pt||!(typeof r=="object"&&pt in r))}function fg(r){return Fn(r)==="[object RegExp]"&&(!pt||!(typeof r=="object"&&pt in r))}function hC(r){return Fn(r)==="[object Error]"&&(!pt||!(typeof r=="object"&&pt in r))}function dC(r){return Fn(r)==="[object String]"&&(!pt||!(typeof r=="object"&&pt in r))}function fC(r){return Fn(r)==="[object Number]"&&(!pt||!(typeof r=="object"&&pt in r))}function pC(r){return Fn(r)==="[object Boolean]"&&(!pt||!(typeof r=="object"&&pt in r))}function d1(r){if(ws)return r&&typeof r=="object"&&r instanceof Symbol;if(typeof r=="symbol")return!0;if(!r||typeof r!="object"||!fd)return!1;try{return fd.call(r),!0}catch{}return!1}function mC(r){if(!r||typeof r!="object"||!dd)return!1;try{return dd.call(r),!0}catch{}return!1}var gC=Object.prototype.hasOwnProperty||function(r){return r in this};function hn(r,e){return gC.call(r,e)}function Fn(r){return nC.call(r)}function vC(r){if(r.name)return r.name;var e=sC.call(iC.call(r),/^function\s*([\w$]+)/);return e?e[1]:null}function f1(r,e){if(r.indexOf)return r.indexOf(e);for(var n=0,i=r.length;n<i;n++)if(r[n]===e)return n;return-1}function yC(r){if(!Yl||!r||typeof r!="object")return!1;try{Yl.call(r);try{Kl.call(r)}catch{return!0}return r instanceof Map}catch{}return!1}function xC(r){if(!wo||!r||typeof r!="object")return!1;try{wo.call(r,wo);try{Eo.call(r,Eo)}catch{return!0}return r instanceof WeakMap}catch{}return!1}function _C(r){if(!sg||!r||typeof r!="object")return!1;try{return sg.call(r),!0}catch{}return!1}function bC(r){if(!Kl||!r||typeof r!="object")return!1;try{Kl.call(r);try{Yl.call(r)}catch{return!0}return r instanceof Set}catch{}return!1}function wC(r){if(!Eo||!r||typeof r!="object")return!1;try{Eo.call(r,Eo);try{wo.call(r,wo)}catch{return!0}return r instanceof WeakSet}catch{}return!1}function EC(r){return!r||typeof r!="object"?!1:typeof HTMLElement<"u"&&r instanceof HTMLElement?!0:typeof r.nodeName=="string"&&typeof r.getAttribute=="function"}function p1(r,e){if(r.length>e.maxStringLength){var n=r.length-e.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return p1(dp.call(r,0,e.maxStringLength),e)+i}var s=yn.call(yn.call(r,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,CC);return h1(s,"single",e)}function CC(r){var e=r.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+oC.call(e.toString(16))}function $s(r){return"Object("+r+")"}function Ic(r){return r+" { ? }"}function pg(r,e,n,i){var s=i?gd(n,i):Sr.call(n,", ");return r+" ("+e+") {"+s+"}"}function SC(r){for(var e=0;e<r.length;e++)if(f1(r[e],`
`)>=0)return!1;return!0}function TC(r,e){var n;if(r.indent==="	")n="	";else if(typeof r.indent=="number"&&r.indent>0)n=Sr.call(Array(r.indent+1)," ");else return null;return{base:n,prev:Sr.call(Array(e+1),n)}}function gd(r,e){if(r.length===0)return"";var n=`
`+e.prev+e.base;return n+Sr.call(r,","+n)+`
`+e.prev}function ka(r,e){var n=md(r),i=[];if(n){i.length=r.length;for(var s=0;s<r.length;s++)i[s]=hn(r,s)?e(r[s],r):""}var o=typeof Nc=="function"?Nc(r):[],a;if(ws){a={};for(var l=0;l<o.length;l++)a["$"+o[l]]=o[l]}for(var u in r)hn(r,u)&&(n&&String(Number(u))===u&&u<r.length||ws&&a["$"+u]instanceof Symbol||(u1.call(/[^\w$]/,u)?i.push(e(u,r)+": "+e(r[u],r)):i.push(u+": "+e(r[u],r))));if(typeof Nc=="function")for(var c=0;c<o.length;c++)c1.call(r,o[c])&&i.push("["+e(o[c])+"]: "+e(r[o[c]],r));return i}var m1=Ps,Rs=KE,AC=lC,kC=na,Na=m1("%WeakMap%",!0),Ia=m1("%Map%",!0),NC=Rs("WeakMap.prototype.get",!0),IC=Rs("WeakMap.prototype.set",!0),PC=Rs("WeakMap.prototype.has",!0),RC=Rs("Map.prototype.get",!0),MC=Rs("Map.prototype.set",!0),BC=Rs("Map.prototype.has",!0),fp=function(r,e){for(var n=r,i;(i=n.next)!==null;n=i)if(i.key===e)return n.next=i.next,i.next=r.next,r.next=i,i},LC=function(r,e){var n=fp(r,e);return n&&n.value},DC=function(r,e,n){var i=fp(r,e);i?i.value=n:r.next={key:e,next:r.next,value:n}},FC=function(r,e){return!!fp(r,e)},OC=function(){var e,n,i,s={assert:function(o){if(!s.has(o))throw new kC("Side channel does not contain "+AC(o))},get:function(o){if(Na&&o&&(typeof o=="object"||typeof o=="function")){if(e)return NC(e,o)}else if(Ia){if(n)return RC(n,o)}else if(i)return LC(i,o)},has:function(o){if(Na&&o&&(typeof o=="object"||typeof o=="function")){if(e)return PC(e,o)}else if(Ia){if(n)return BC(n,o)}else if(i)return FC(i,o);return!1},set:function(o,a){Na&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Na),IC(e,o,a)):Ia?(n||(n=new Ia),MC(n,o,a)):(i||(i={key:{},next:null}),DC(i,o,a))}};return s},jC=String.prototype.replace,UC=/%20/g,Pc={RFC1738:"RFC1738",RFC3986:"RFC3986"},pp={default:Pc.RFC3986,formatters:{RFC1738:function(r){return jC.call(r,UC,"+")},RFC3986:function(r){return String(r)}},RFC1738:Pc.RFC1738,RFC3986:Pc.RFC3986},zC=pp,Rc=Object.prototype.hasOwnProperty,Qn=Array.isArray,mr=function(){for(var r=[],e=0;e<256;++e)r.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return r}(),GC=function(e){for(;e.length>1;){var n=e.pop(),i=n.obj[n.prop];if(Qn(i)){for(var s=[],o=0;o<i.length;++o)typeof i[o]<"u"&&s.push(i[o]);n.obj[n.prop]=s}}},g1=function(e,n){for(var i=n&&n.plainObjects?Object.create(null):{},s=0;s<e.length;++s)typeof e[s]<"u"&&(i[s]=e[s]);return i},HC=function r(e,n,i){if(!n)return e;if(typeof n!="object"){if(Qn(e))e.push(n);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Rc.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var s=e;return Qn(e)&&!Qn(n)&&(s=g1(e,i)),Qn(e)&&Qn(n)?(n.forEach(function(o,a){if(Rc.call(e,a)){var l=e[a];l&&typeof l=="object"&&o&&typeof o=="object"?e[a]=r(l,o,i):e.push(o)}else e[a]=o}),e):Object.keys(n).reduce(function(o,a){var l=n[a];return Rc.call(o,a)?o[a]=r(o[a],l,i):o[a]=l,o},s)},$C=function(e,n){return Object.keys(n).reduce(function(i,s){return i[s]=n[s],i},e)},VC=function(r,e,n){var i=r.replace(/\+/g," ");if(n==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},Mc=1024,WC=function(e,n,i,s,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),i==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var l="",u=0;u<a.length;u+=Mc){for(var c=a.length>=Mc?a.slice(u,u+Mc):a,d=[],f=0;f<c.length;++f){var p=c.charCodeAt(f);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===zC.RFC1738&&(p===40||p===41)){d[d.length]=c.charAt(f);continue}if(p<128){d[d.length]=mr[p];continue}if(p<2048){d[d.length]=mr[192|p>>6]+mr[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=mr[224|p>>12]+mr[128|p>>6&63]+mr[128|p&63];continue}f+=1,p=65536+((p&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=mr[240|p>>18]+mr[128|p>>12&63]+mr[128|p>>6&63]+mr[128|p&63]}l+=d.join("")}return l},XC=function(e){for(var n=[{obj:{o:e},prop:"o"}],i=[],s=0;s<n.length;++s)for(var o=n[s],a=o.obj[o.prop],l=Object.keys(a),u=0;u<l.length;++u){var c=l[u],d=a[c];typeof d=="object"&&d!==null&&i.indexOf(d)===-1&&(n.push({obj:a,prop:c}),i.push(d))}return GC(n),e},YC=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},KC=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},qC=function(e,n){return[].concat(e,n)},QC=function(e,n){if(Qn(e)){for(var i=[],s=0;s<e.length;s+=1)i.push(n(e[s]));return i}return n(e)},v1={arrayToObject:g1,assign:$C,combine:qC,compact:XC,decode:VC,encode:WC,isBuffer:KC,isRegExp:YC,maybeMap:QC,merge:HC},y1=OC,dl=v1,Co=pp,ZC=Object.prototype.hasOwnProperty,x1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Er=Array.isArray,JC=Array.prototype.push,_1=function(r,e){JC.apply(r,Er(e)?e:[e])},eS=Date.prototype.toISOString,mg=Co.default,qe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:dl.encode,encodeValuesOnly:!1,format:mg,formatter:Co.formatters[mg],indices:!1,serializeDate:function(e){return eS.call(e)},skipNulls:!1,strictNullHandling:!1},tS=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bc={},rS=function r(e,n,i,s,o,a,l,u,c,d,f,p,m,g,x,b,y,_){for(var v=e,w=_,E=0,k=!1;(w=w.get(Bc))!==void 0&&!k;){var T=w.get(e);if(E+=1,typeof T<"u"){if(T===E)throw new RangeError("Cyclic object value");k=!0}typeof w.get(Bc)>"u"&&(E=0)}if(typeof d=="function"?v=d(n,v):v instanceof Date?v=m(v):i==="comma"&&Er(v)&&(v=dl.maybeMap(v,function(N){return N instanceof Date?m(N):N})),v===null){if(a)return c&&!b?c(n,qe.encoder,y,"key",g):n;v=""}if(tS(v)||dl.isBuffer(v)){if(c){var C=b?n:c(n,qe.encoder,y,"key",g);return[x(C)+"="+x(c(v,qe.encoder,y,"value",g))]}return[x(n)+"="+x(String(v))]}var M=[];if(typeof v>"u")return M;var P;if(i==="comma"&&Er(v))b&&c&&(v=dl.maybeMap(v,c)),P=[{value:v.length>0?v.join(",")||null:void 0}];else if(Er(d))P=d;else{var S=Object.keys(v);P=f?S.sort(f):S}var O=u?n.replace(/\./g,"%2E"):n,A=s&&Er(v)&&v.length===1?O+"[]":O;if(o&&Er(v)&&v.length===0)return A+"[]";for(var B=0;B<P.length;++B){var G=P[B],j=typeof G=="object"&&typeof G.value<"u"?G.value:v[G];if(!(l&&j===null)){var K=p&&u?G.replace(/\./g,"%2E"):G,R=Er(v)?typeof i=="function"?i(A,K):A:A+(p?"."+K:"["+K+"]");_.set(e,E);var H=y1();H.set(Bc,_),_1(M,r(j,R,i,s,o,a,l,u,i==="comma"&&b&&Er(v)?null:c,d,f,p,m,g,x,b,y,H))}}return M},nS=function(e){if(!e)return qe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||qe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Co.default;if(typeof e.format<"u"){if(!ZC.call(Co.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var s=Co.formatters[i],o=qe.filter;(typeof e.filter=="function"||Er(e.filter))&&(o=e.filter);var a;if(e.arrayFormat in x1?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=qe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:qe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:qe.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:qe.allowEmptyArrays,arrayFormat:a,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:qe.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?qe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:qe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:qe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:qe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:qe.encodeValuesOnly,filter:o,format:i,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:qe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:qe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:qe.strictNullHandling}},iS=function(r,e){var n=r,i=nS(e),s,o;typeof i.filter=="function"?(o=i.filter,n=o("",n)):Er(i.filter)&&(o=i.filter,s=o);var a=[];if(typeof n!="object"||n===null)return"";var l=x1[i.arrayFormat],u=l==="comma"&&i.commaRoundTrip;s||(s=Object.keys(n)),i.sort&&s.sort(i.sort);for(var c=y1(),d=0;d<s.length;++d){var f=s[d];i.skipNulls&&n[f]===null||_1(a,rS(n[f],f,l,u,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var p=a.join(i.delimiter),m=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""},Es=v1,vd=Object.prototype.hasOwnProperty,sS=Array.isArray,Ge={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Es.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},oS=function(r){return r.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},b1=function(r,e){return r&&typeof r=="string"&&e.comma&&r.indexOf(",")>-1?r.split(","):r},aS="utf8=%26%2310003%3B",lS="utf8=%E2%9C%93",uS=function(e,n){var i={__proto__:null},s=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=n.parameterLimit===1/0?void 0:n.parameterLimit,a=s.split(n.delimiter,o),l=-1,u,c=n.charset;if(n.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]===lS?c="utf-8":a[u]===aS&&(c="iso-8859-1"),l=u,u=a.length);for(u=0;u<a.length;++u)if(u!==l){var d=a[u],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,m,g;p===-1?(m=n.decoder(d,Ge.decoder,c,"key"),g=n.strictNullHandling?null:""):(m=n.decoder(d.slice(0,p),Ge.decoder,c,"key"),g=Es.maybeMap(b1(d.slice(p+1),n),function(b){return n.decoder(b,Ge.decoder,c,"value")})),g&&n.interpretNumericEntities&&c==="iso-8859-1"&&(g=oS(g)),d.indexOf("[]=")>-1&&(g=sS(g)?[g]:g);var x=vd.call(i,m);x&&n.duplicates==="combine"?i[m]=Es.combine(i[m],g):(!x||n.duplicates==="last")&&(i[m]=g)}return i},cS=function(r,e,n,i){for(var s=i?e:b1(e,n),o=r.length-1;o>=0;--o){var a,l=r[o];if(l==="[]"&&n.parseArrays)a=n.allowEmptyArrays&&s===""?[]:[].concat(s);else{a=n.plainObjects?Object.create(null):{};var u=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!n.parseArrays&&c===""?a={0:s}:!isNaN(d)&&l!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[],a[d]=s):c!=="__proto__"&&(a[c]=s)}s=a}return s},hS=function(e,n,i,s){if(e){var o=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,u=i.depth>0&&a.exec(o),c=u?o.slice(0,u.index):o,d=[];if(c){if(!i.plainObjects&&vd.call(Object.prototype,c)&&!i.allowPrototypes)return;d.push(c)}for(var f=0;i.depth>0&&(u=l.exec(o))!==null&&f<i.depth;){if(f+=1,!i.plainObjects&&vd.call(Object.prototype,u[1].slice(1,-1))&&!i.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+o.slice(u.index)+"]"),cS(d,n,i,s)}},dS=function(e){if(!e)return Ge;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Ge.charset:e.charset,i=typeof e.duplicates>"u"?Ge.duplicates:e.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ge.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ge.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ge.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ge.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ge.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ge.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ge.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ge.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ge.decoder,delimiter:typeof e.delimiter=="string"||Es.isRegExp(e.delimiter)?e.delimiter:Ge.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ge.depth,duplicates:i,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ge.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ge.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ge.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ge.strictNullHandling}},fS=function(r,e){var n=dS(e);if(r===""||r===null||typeof r>"u")return n.plainObjects?Object.create(null):{};for(var i=typeof r=="string"?uS(r,n):r,s=n.plainObjects?Object.create(null):{},o=Object.keys(i),a=0;a<o.length;++a){var l=o[a],u=hS(l,i[l],n,typeof r=="string");s=Es.merge(s,u,n)}return n.allowSparse===!0?s:Es.compact(s)},pS=iS,mS=fS,gS=pp,vS={formats:gS,parse:mS,stringify:pS},yS=Jw;function Wr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var xS=/^([a-z0-9.+-]+:)/i,_S=/:[0-9]*$/,bS=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,wS=["<",">",'"',"`"," ","\r",`
`,"	"],ES=["{","}","|","\\","^","`"].concat(wS),yd=["'"].concat(ES),gg=["%","/","?",";","#"].concat(yd),vg=["/","?","#"],CS=255,yg=/^[+a-z0-9A-Z_-]{0,63}$/,SS=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,TS={javascript:!0,"javascript:":!0},xd={javascript:!0,"javascript:":!0},as={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_d=vS;function AS(r,e,n){if(r&&typeof r=="object"&&r instanceof Wr)return r;var i=new Wr;return i.parse(r,e,n),i}Wr.prototype.parse=function(r,e,n){if(typeof r!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var i=r.indexOf("?"),s=i!==-1&&i<r.indexOf("#")?"?":"#",o=r.split(s),a=/\\/g;o[0]=o[0].replace(a,"/"),r=o.join(s);var l=r;if(l=l.trim(),!n&&r.split("#").length===1){var u=bS.exec(l);if(u)return this.path=l,this.href=l,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=_d.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=xS.exec(l);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,l=l.substr(c.length)}if(n||c||l.match(/^\/\/[^@/]+@[^@/]+/)){var f=l.substr(0,2)==="//";f&&!(c&&xd[c])&&(l=l.substr(2),this.slashes=!0)}if(!xd[c]&&(f||c&&!as[c])){for(var p=-1,m=0;m<vg.length;m++){var g=l.indexOf(vg[m]);g!==-1&&(p===-1||g<p)&&(p=g)}var x,b;p===-1?b=l.lastIndexOf("@"):b=l.lastIndexOf("@",p),b!==-1&&(x=l.slice(0,b),l=l.slice(b+1),this.auth=decodeURIComponent(x)),p=-1;for(var m=0;m<gg.length;m++){var g=l.indexOf(gg[m]);g!==-1&&(p===-1||g<p)&&(p=g)}p===-1&&(p=l.length),this.host=l.slice(0,p),l=l.slice(p),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var _=this.hostname.split(/\./),m=0,v=_.length;m<v;m++){var w=_[m];if(w&&!w.match(yg)){for(var E="",k=0,T=w.length;k<T;k++)w.charCodeAt(k)>127?E+="x":E+=w[k];if(!E.match(yg)){var C=_.slice(0,m),M=_.slice(m+1),P=w.match(SS);P&&(C.push(P[1]),M.unshift(P[2])),M.length&&(l="/"+M.join(".")+l),this.hostname=C.join(".");break}}}this.hostname.length>CS?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=yS.toASCII(this.hostname));var S=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+S,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!TS[d])for(var m=0,v=yd.length;m<v;m++){var A=yd[m];if(l.indexOf(A)!==-1){var B=encodeURIComponent(A);B===A&&(B=escape(A)),l=l.split(A).join(B)}}var G=l.indexOf("#");G!==-1&&(this.hash=l.substr(G),l=l.slice(0,G));var j=l.indexOf("?");if(j!==-1?(this.search=l.substr(j),this.query=l.substr(j+1),e&&(this.query=_d.parse(this.query)),l=l.slice(0,j)):e&&(this.search="",this.query={}),l&&(this.pathname=l),as[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var S=this.pathname||"",K=this.search||"";this.path=S+K}return this.href=this.format(),this};Wr.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=r+this.host:this.hostname&&(s=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=_d.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||as[e])&&s!==!1?(s="//"+(s||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):s||(s=""),i&&i.charAt(0)!=="#"&&(i="#"+i),a&&a.charAt(0)!=="?"&&(a="?"+a),n=n.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),e+s+n+a+i};Wr.prototype.resolve=function(r){return this.resolveObject(AS(r,!1,!0)).format()};Wr.prototype.resolveObject=function(r){if(typeof r=="string"){var e=new Wr;e.parse(r,!1,!0),r=e}for(var n=new Wr,i=Object.keys(this),s=0;s<i.length;s++){var o=i[s];n[o]=this[o]}if(n.hash=r.hash,r.href==="")return n.href=n.format(),n;if(r.slashes&&!r.protocol){for(var a=Object.keys(r),l=0;l<a.length;l++){var u=a[l];u!=="protocol"&&(n[u]=r[u])}return as[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(r.protocol&&r.protocol!==n.protocol){if(!as[r.protocol]){for(var c=Object.keys(r),d=0;d<c.length;d++){var f=c[d];n[f]=r[f]}return n.href=n.format(),n}if(n.protocol=r.protocol,!r.host&&!xd[r.protocol]){for(var v=(r.pathname||"").split("/");v.length&&!(r.host=v.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),n.pathname=v.join("/")}else n.pathname=r.pathname;if(n.search=r.search,n.query=r.query,n.host=r.host||"",n.auth=r.auth,n.hostname=r.hostname||r.host,n.port=r.port,n.pathname||n.search){var p=n.pathname||"",m=n.search||"";n.path=p+m}return n.slashes=n.slashes||r.slashes,n.href=n.format(),n}var g=n.pathname&&n.pathname.charAt(0)==="/",x=r.host||r.pathname&&r.pathname.charAt(0)==="/",b=x||g||n.host&&r.pathname,y=b,_=n.pathname&&n.pathname.split("/")||[],v=r.pathname&&r.pathname.split("/")||[],w=n.protocol&&!as[n.protocol];if(w&&(n.hostname="",n.port=null,n.host&&(_[0]===""?_[0]=n.host:_.unshift(n.host)),n.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(v[0]===""?v[0]=r.host:v.unshift(r.host)),r.host=null),b=b&&(v[0]===""||_[0]==="")),x)n.host=r.host||r.host===""?r.host:n.host,n.hostname=r.hostname||r.hostname===""?r.hostname:n.hostname,n.search=r.search,n.query=r.query,_=v;else if(v.length)_||(_=[]),_.pop(),_=_.concat(v),n.search=r.search,n.query=r.query;else if(r.search!=null){if(w){n.host=_.shift(),n.hostname=n.host;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return n.search=r.search,n.query=r.query,(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=_.slice(-1)[0],T=(n.host||r.host||_.length>1)&&(k==="."||k==="..")||k==="",C=0,M=_.length;M>=0;M--)k=_[M],k==="."?_.splice(M,1):k===".."?(_.splice(M,1),C++):C&&(_.splice(M,1),C--);if(!b&&!y)for(;C--;C)_.unshift("..");b&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),T&&_.join("/").substr(-1)!=="/"&&_.push("");var P=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(w){n.hostname=P?"":_.length?_.shift():"",n.host=n.hostname;var E=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;E&&(n.auth=E.shift(),n.hostname=E.shift(),n.host=n.hostname)}return b=b||n.host&&_.length,b&&!P&&_.unshift(""),_.length>0?n.pathname=_.join("/"):(n.pathname=null,n.path=null),(n.pathname!==null||n.search!==null)&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=r.auth||n.auth,n.slashes=n.slashes||r.slashes,n.href=n.format(),n};Wr.prototype.parseHost=function(){var r=this.host,e=_S.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)};const xg={};function le(r,e,n=3){if(xg[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(i=i.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(i))),xg[e]=!0}function Qt(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function Vs(r){return r.split("?")[0].split("#")[0]}function kS(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function NS(r,e,n){return r.replace(new RegExp(kS(e),"g"),n)}function IS(r,e){let n="",i=0,s=-1,o=0,a=-1;for(let l=0;l<=r.length;++l){if(l<r.length)a=r.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",i=0):(n=n.slice(0,u),i=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length===2||n.length===1){n="",i=0,s=l,o=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+=`/${r.slice(s+1,l)}`:n=r.slice(s+1,l),i=l-s-1;s=l,o=0}else a===46&&o!==-1?++o:o=-1}return n}const it={toPosix(r){return NS(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){Qt(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(r);return n?n[0]:""},toAbsolute(r,e,n){if(Qt(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const i=Vs(this.toPosix(e??X.ADAPTER.getBaseUrl())),s=Vs(this.toPosix(n??this.rootname(i)));return r=this.toPosix(r),r.startsWith("/")?it.join(s,r.slice(1)):this.isAbsolute(r)?r:this.join(i,r)},normalize(r){if(Qt(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const n=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const i=r.endsWith("/");return r=IS(r,!1),r.length>0&&i&&(r+="/"),n?`/${r}`:e+r},isAbsolute(r){return Qt(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let n=0;n<r.length;++n){const i=r[n];if(Qt(i),i.length>0)if(e===void 0)e=i;else{const s=r[n-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(r){if(Qt(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const n=e===47;let i=-1,s=!0;const o=this.getProtocol(r),a=r;r=r.slice(o.length);for(let l=r.length-1;l>=1;--l)if(e=r.charCodeAt(l),e===47){if(!s){i=l;break}}else s=!1;return i===-1?n?"/":this.isUrl(a)?o+r:o:n&&i===1?"//":o+r.slice(0,i)},rootname(r){Qt(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const n=r.indexOf("/",e.length);n!==-1?e=r.slice(0,n):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){Qt(r),e&&Qt(e),r=Vs(this.toPosix(r));let n=0,i=-1,s=!0,o;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let a=e.length-1,l=-1;for(o=r.length-1;o>=0;--o){const u=r.charCodeAt(o);if(u===47){if(!s){n=o+1;break}}else l===-1&&(s=!1,l=o+1),a>=0&&(u===e.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=l))}return n===i?i=l:i===-1&&(i=r.length),r.slice(n,i)}for(o=r.length-1;o>=0;--o)if(r.charCodeAt(o)===47){if(!s){n=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":r.slice(n,i)},extname(r){Qt(r),r=Vs(this.toPosix(r));let e=-1,n=0,i=-1,s=!0,o=0;for(let a=r.length-1;a>=0;--a){const l=r.charCodeAt(a);if(l===47){if(!s){n=a+1;break}continue}i===-1&&(s=!1,i=a+1),l===46?e===-1?e=a:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===n+1?"":r.slice(e,i)},parse(r){Qt(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=Vs(this.toPosix(r));let n=r.charCodeAt(0);const i=this.isAbsolute(r);let s;e.root=this.rootname(r),i||this.hasProtocol(r)?s=1:s=0;let o=-1,a=0,l=-1,u=!0,c=r.length-1,d=0;for(;c>=s;--c){if(n=r.charCodeAt(c),n===47){if(!u){a=c+1;break}continue}l===-1&&(u=!1,l=c+1),n===46?o===-1?o=c:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||l===-1||d===0||d===1&&o===l-1&&o===a+1?l!==-1&&(a===0&&i?e.base=e.name=r.slice(1,l):e.base=e.name=r.slice(a,l)):(a===0&&i?(e.name=r.slice(1,o),e.base=r.slice(1,l)):(e.name=r.slice(a,o),e.base=r.slice(a,l)),e.ext=r.slice(o,l)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Lc;async function PS(){return Lc??(Lc=(async()=>{var o;const r=document.createElement("canvas").getContext("webgl");if(!r)return wt.UNPACK;const e=await new Promise(a=>{const l=document.createElement("video");l.onloadeddata=()=>a(l),l.onerror=()=>a(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return wt.UNPACK;const n=r.createTexture();r.bindTexture(r.TEXTURE_2D,n);const i=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,i),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,n,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,s),r.deleteFramebuffer(i),r.deleteTexture(n),(o=r.getExtension("WEBGL_lose_context"))==null||o.loseContext(),s[0]<=s[3]?wt.PMA:wt.UNPACK})()),Lc}let Dc;function RS(){return typeof Dc>"u"&&(Dc=function(){var e;const r={stencil:!0,failIfMajorPerformanceCaveat:X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!X.ADAPTER.getWebGLRenderingContext())return!1;const n=X.ADAPTER.createCanvas();let i=n.getContext("webgl",r)||n.getContext("experimental-webgl",r);const s=!!((e=i==null?void 0:i.getContextAttributes())!=null&&e.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Dc}var MS={grad:.9,turn:360,rad:360/(2*Math.PI)},Lr=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},rt=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*r)/n+0},$t=function(r,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),r>n?n:r>e?r:e},w1=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},_g=function(r){return{r:$t(r.r,0,255),g:$t(r.g,0,255),b:$t(r.b,0,255),a:$t(r.a)}},Fc=function(r){return{r:rt(r.r),g:rt(r.g),b:rt(r.b),a:rt(r.a,3)}},BS=/^#([0-9a-f]{3,8})$/i,Pa=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},E1=function(r){var e=r.r,n=r.g,i=r.b,s=r.a,o=Math.max(e,n,i),a=o-Math.min(e,n,i),l=a?o===e?(n-i)/a:o===n?2+(i-e)/a:4+(e-n)/a:0;return{h:60*(l<0?l+6:l),s:o?a/o*100:0,v:o/255*100,a:s}},C1=function(r){var e=r.h,n=r.s,i=r.v,s=r.a;e=e/360*6,n/=100,i/=100;var o=Math.floor(e),a=i*(1-n),l=i*(1-(e-o)*n),u=i*(1-(1-e+o)*n),c=o%6;return{r:255*[i,l,a,a,u,i][c],g:255*[u,i,i,l,a,a][c],b:255*[a,a,u,i,i,l][c],a:s}},bg=function(r){return{h:w1(r.h),s:$t(r.s,0,100),l:$t(r.l,0,100),a:$t(r.a)}},wg=function(r){return{h:rt(r.h),s:rt(r.s),l:rt(r.l),a:rt(r.a,3)}},Eg=function(r){return C1((n=(e=r).s,{h:e.h,s:(n*=((i=e.l)<50?i:100-i)/100)>0?2*n/(i+n)*100:0,v:i+n,a:e.a}));var e,n,i},So=function(r){return{h:(e=E1(r)).h,s:(s=(200-(n=e.s))*(i=e.v)/100)>0&&s<200?n*i/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,n,i,s},LS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,DS=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,FS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,OS=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bd={string:[[function(r){var e=BS.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?rt(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?rt(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=FS.exec(r)||OS.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:_g({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=LS.exec(r)||DS.exec(r);if(!e)return null;var n,i,s=bg({h:(n=e[1],i=e[2],i===void 0&&(i="deg"),Number(n)*(MS[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Eg(s)},"hsl"]],object:[[function(r){var e=r.r,n=r.g,i=r.b,s=r.a,o=s===void 0?1:s;return Lr(e)&&Lr(n)&&Lr(i)?_g({r:Number(e),g:Number(n),b:Number(i),a:Number(o)}):null},"rgb"],[function(r){var e=r.h,n=r.s,i=r.l,s=r.a,o=s===void 0?1:s;if(!Lr(e)||!Lr(n)||!Lr(i))return null;var a=bg({h:Number(e),s:Number(n),l:Number(i),a:Number(o)});return Eg(a)},"hsl"],[function(r){var e=r.h,n=r.s,i=r.v,s=r.a,o=s===void 0?1:s;if(!Lr(e)||!Lr(n)||!Lr(i))return null;var a=function(l){return{h:w1(l.h),s:$t(l.s,0,100),v:$t(l.v,0,100),a:$t(l.a)}}({h:Number(e),s:Number(n),v:Number(i),a:Number(o)});return C1(a)},"hsv"]]},Cg=function(r,e){for(var n=0;n<e.length;n++){var i=e[n][0](r);if(i)return[i,e[n][1]]}return[null,void 0]},jS=function(r){return typeof r=="string"?Cg(r.trim(),bd.string):typeof r=="object"&&r!==null?Cg(r,bd.object):[null,void 0]},Oc=function(r,e){var n=So(r);return{h:n.h,s:$t(n.s+100*e,0,100),l:n.l,a:n.a}},jc=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Sg=function(r,e){var n=So(r);return{h:n.h,s:n.s,l:$t(n.l+100*e,0,100),a:n.a}},wd=function(){function r(e){this.parsed=jS(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return rt(jc(this.rgba),2)},r.prototype.isDark=function(){return jc(this.rgba)<.5},r.prototype.isLight=function(){return jc(this.rgba)>=.5},r.prototype.toHex=function(){return e=Fc(this.rgba),n=e.r,i=e.g,s=e.b,a=(o=e.a)<1?Pa(rt(255*o)):"","#"+Pa(n)+Pa(i)+Pa(s)+a;var e,n,i,s,o,a},r.prototype.toRgb=function(){return Fc(this.rgba)},r.prototype.toRgbString=function(){return e=Fc(this.rgba),n=e.r,i=e.g,s=e.b,(o=e.a)<1?"rgba("+n+", "+i+", "+s+", "+o+")":"rgb("+n+", "+i+", "+s+")";var e,n,i,s,o},r.prototype.toHsl=function(){return wg(So(this.rgba))},r.prototype.toHslString=function(){return e=wg(So(this.rgba)),n=e.h,i=e.s,s=e.l,(o=e.a)<1?"hsla("+n+", "+i+"%, "+s+"%, "+o+")":"hsl("+n+", "+i+"%, "+s+"%)";var e,n,i,s,o},r.prototype.toHsv=function(){return e=E1(this.rgba),{h:rt(e.h),s:rt(e.s),v:rt(e.v),a:rt(e.a,3)};var e},r.prototype.invert=function(){return gr({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),gr(Oc(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),gr(Oc(this.rgba,-e))},r.prototype.grayscale=function(){return gr(Oc(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),gr(Sg(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),gr(Sg(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?gr({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):rt(this.rgba.a,3);var n},r.prototype.hue=function(e){var n=So(this.rgba);return typeof e=="number"?gr({h:e,s:n.s,l:n.l,a:n.a}):rt(n.h)},r.prototype.isEqual=function(e){return this.toHex()===gr(e).toHex()},r}(),gr=function(r){return r instanceof wd?r:new wd(r)},Tg=[],US=function(r){r.forEach(function(e){Tg.indexOf(e)<0&&(e(wd,bd),Tg.push(e))})};function zS(r,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var s in n)i[n[s]]=s;var o={};r.prototype.toName=function(a){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,u,c=i[this.toHex()];if(c)return c;if(a!=null&&a.closest){var d=this.toRgb(),f=1/0,p="black";if(!o.length)for(var m in n)o[m]=new r(n[m]).toRgb();for(var g in n){var x=(l=d,u=o[g],Math.pow(l.r-u.r,2)+Math.pow(l.g-u.g,2)+Math.pow(l.b-u.b,2));x<f&&(f=x,p=g)}return p}},e.string.push([function(a){var l=a.toLowerCase(),u=l==="transparent"?"#0000":n[l];return u?new r(u).toRgb():null},"name"])}US([zS]);const Mi=class fl{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof fl)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,n){const i=typeof e;if(i!==typeof n)return!1;if(i==="number"||i==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((s,o)=>s===n[o]);if(e!==null&&n!==null){const s=Object.keys(e),o=Object.keys(n);return s.length!==o.length?!1:s.every(a=>e[a]===n[a])}return e===n}toRgba(){const[e,n,i,s]=this._components;return{r:e,g:n,b:i,a:s}}toRgb(){const[e,n,i]=this._components;return{r:e,g:n,b:i}}toRgbaString(){const[e,n,i]=this.toUint8RgbArray();return`rgba(${e},${n},${i},${this.alpha})`}toUint8RgbArray(e){const[n,i,s]=this._components;return e=e??[],e[0]=Math.round(n*255),e[1]=Math.round(i*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[n,i,s]=this._components;return e[0]=n,e[1]=i,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,i,s,o]=fl.temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=i,this._components[2]*=s,this._components[3]*=o,this.refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let i=this._int>>16&255,s=this._int>>8&255,o=this._int&255;return n&&(i=i*e+.5|0,s=s*e+.5|0,o=o*e+.5|0),(e*255<<24)+(i<<16)+(s<<8)+o}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[n,i,s]=this._components;return this._components[0]=Math.round(n*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[n,i,s,o]=this._components;return e[0]=n,e[1]=i,e[2]=s,e[3]=o,e}normalize(e){let n,i,s,o;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const a=e;n=(a>>16&255)/255,i=(a>>8&255)/255,s=(a&255)/255,o=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,i,s,o=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,i,s,o=255]=e,n/=255,i/=255,s/=255,o/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=fl.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const a=gr(e);a.isValid()&&({r:n,g:i,b:s,a:o}=a.rgba,n/=255,i/=255,s/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=i,this._components[2]=s,this._components[3]=o,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,n,i]=this._components;this._int=(e*255<<16)+(n*255<<8)+(i*255|0)}_clamp(e,n=0,i=1){return typeof e=="number"?Math.min(Math.max(e,n),i):(e.forEach((s,o)=>{e[o]=Math.min(Math.max(s,n),i)}),e)}};Mi.shared=new Mi,Mi.temp=new Mi,Mi.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Se=Mi;function GS(r){return le("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Se.shared.setValue(r).toHex()}function HS(r){return le("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Se.shared.setValue(r).toNumber()}function $S(){const r=[],e=[];for(let i=0;i<32;i++)r[i]=i,e[i]=i;r[te.NORMAL_NPM]=te.NORMAL,r[te.ADD_NPM]=te.ADD,r[te.SCREEN_NPM]=te.SCREEN,e[te.NORMAL]=te.NORMAL_NPM,e[te.ADD]=te.ADD_NPM,e[te.SCREEN]=te.SCREEN_NPM;const n=[];return n.push(e),n.push(r),n}const S1=$S();function T1(r,e){return S1[e?1:0][r]}function VS(r,e=null){const n=r*6;if(e=e||new Uint16Array(n),e.length!==n)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${n}`);for(let i=0,s=0;i<n;i+=6,s+=4)e[i+0]=s+0,e[i+1]=s+1,e[i+2]=s+2,e[i+3]=s+0,e[i+4]=s+2,e[i+5]=s+3;return e}function A1(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function ql(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function Ag(r){return!(r&r-1)&&!!r}function kg(r){let e=(r>65535?1:0)<<4;r>>>=e;let n=(r>255?1:0)<<3;return r>>>=n,e|=n,n=(r>15?1:0)<<2,r>>>=n,e|=n,n=(r>3?1:0)<<1,r>>>=n,e|=n,e|r>>1}function ls(r,e,n){const i=r.length;let s;if(e>=i||n===0)return;n=e+n>i?i-e:n;const o=i-n;for(s=e;s<o;++s)r[s]=r[s+n];r.length=o}function xn(r){return r===0?0:r<0?-1:1}let WS=0;function mi(){return++WS}const Ed=class{constructor(r,e,n,i){this.left=r,this.top=e,this.right=n,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Ed.EMPTY=new Ed(0,0,0,0);let Ng=Ed;const Ig={},vr=Object.create(null),tn=Object.create(null);class XS{constructor(e,n,i){this._canvas=X.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||X.RESOLUTION,this.resize(e,n)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,n){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(n*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Pg(r,e,n){for(let i=0,s=4*n*e;i<e;++i,s+=4)if(r[s+3]!==0)return!1;return!0}function Rg(r,e,n,i,s){const o=4*e;for(let a=i,l=i*o+4*n;a<=s;++a,l+=o)if(r[l+3]!==0)return!1;return!0}function YS(r){const{width:e,height:n}=r,i=r.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const s=i.getImageData(0,0,e,n).data;let o=0,a=0,l=e-1,u=n-1;for(;a<n&&Pg(s,e,a);)++a;if(a===n)return Ng.EMPTY;for(;Pg(s,e,u);)--u;for(;Rg(s,e,o,a,u);)++o;for(;Rg(s,e,l,a,u);)--l;return++l,++u,new Ng(o,a,l,u)}function KS(r){const e=YS(r),{width:n,height:i}=e;let s=null;if(!e.isEmpty()){const o=r.getContext("2d");if(o===null)throw new TypeError("Failed to get canvas 2D context");s=o.getImageData(e.left,e.top,n,i)}return{width:n,height:i,data:s}}function qS(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const n=new URL(r,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}function Qr(r,e=1){var i;const n=(i=X.RETINA_PREFIX)==null?void 0:i.exec(r);return n?parseFloat(n[1]):e}var $=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))($||{});const Cd=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},Mg=(r,e)=>Cd(r).priority??e,Q={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Cd).forEach(e=>{e.type.forEach(n=>{var i,s;return(s=(i=this._removeHandlers)[n])==null?void 0:s.call(i,e)})}),this},add(...r){return r.map(Cd).forEach(e=>{e.type.forEach(n=>{var o,a;const i=this._addHandlers,s=this._queue;i[n]?(o=i[n])==null||o.call(i,e):(s[n]=s[n]||[],(a=s[n])==null||a.push(e))})}),this},handle(r,e,n){var a;const i=this._addHandlers,s=this._removeHandlers;if(i[r]||s[r])throw new Error(`Extension type ${r} already has a handler`);i[r]=e,s[r]=n;const o=this._queue;return o[r]&&((a=o[r])==null||a.forEach(l=>e(l)),delete o[r]),this},handleByMap(r,e){return this.handle(r,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByList(r,e,n=-1){return this.handle(r,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((s,o)=>Mg(o,n)-Mg(s,n)))},i=>{const s=e.indexOf(i.ref);s!==-1&&e.splice(s,1)})}};class Sd{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const QS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function ZS(r){let e="";for(let n=0;n<r;++n)n>0&&(e+=`
else `),n<r-1&&(e+=`if(test == ${n}.0){}`);return e}function JS(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=QS.replace(/%forloop%/gi,ZS(r));if(e.shaderSource(n,i),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))r=r/2|0;else break}return r}const Uc=0,zc=1,Gc=2,Hc=3,$c=4,Vc=5;class Mr{constructor(){this.data=0,this.blendMode=te.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Uc)}set blend(e){!!(this.data&1<<Uc)!==e&&(this.data^=1<<Uc)}get offsets(){return!!(this.data&1<<zc)}set offsets(e){!!(this.data&1<<zc)!==e&&(this.data^=1<<zc)}get culling(){return!!(this.data&1<<Gc)}set culling(e){!!(this.data&1<<Gc)!==e&&(this.data^=1<<Gc)}get depthTest(){return!!(this.data&1<<Hc)}set depthTest(e){!!(this.data&1<<Hc)!==e&&(this.data^=1<<Hc)}get depthMask(){return!!(this.data&1<<Vc)}set depthMask(e){!!(this.data&1<<Vc)!==e&&(this.data^=1<<Vc)}get clockwiseFrontFace(){return!!(this.data&1<<$c)}set clockwiseFrontFace(e){!!(this.data&1<<$c)!==e&&(this.data^=1<<$c)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==te.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Mr;return e.depthTest=!1,e.blend=!0,e}}Mr.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Td=[];function k1(r,e){if(!r)return null;let n="";if(typeof r=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);i&&(n=i[1].toLowerCase())}for(let i=Td.length-1;i>=0;--i){const s=Td[i];if(s.test&&s.test(r,n))return new s(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class lr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,n,i,s,o,a,l,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let f=0,p=d.length;f<p;f++)d[f][c](e,n,i,s,o,a,l,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(lr.prototype,{dispatch:{value:lr.prototype.emit},run:{value:lr.prototype.emit}});class Xo{constructor(e=0,n=0){this._width=e,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new lr("setRealSize"),this.onUpdate=new lr("update"),this.onError=new lr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,n){(e!==this._width||n!==this._height)&&(this._width=e,this._height=n,this.onResize.emit(e,n))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,n,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,n){return!1}}class Bu extends Xo{constructor(e,n){const{width:i,height:s}=n||{};if(!i||!s)throw new Error("BufferResource width or height invalid");super(i,s),this.data=e,this.unpackAlignment=n.unpackAlignment??4}upload(e,n,i){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===wt.UNPACK);const o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const eT={scaleMode:zr.NEAREST,alphaMode:wt.NPM},Ad=class Bi extends ra{constructor(e=null,n=null){super(),n=Object.assign({},Bi.defaultOptions,n);const{alphaMode:i,mipmap:s,anisotropicLevel:o,scaleMode:a,width:l,height:u,wrapMode:c,format:d,type:f,target:p,resolution:m,resourceOptions:g}=n;e&&!(e instanceof Xo)&&(e=k1(e,g),e.internal=!0),this.resolution=m||X.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=o,this._wrapMode=c,this._scaleMode=a,this.format=d,this.type=f,this.target=p,this.alphaMode=i,this.uid=mi(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,n){let i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this}setSize(e,n,i){return i=i||this.resolution,this.setRealSize(e*i,n*i,i)}setRealSize(e,n,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Ag(this.realWidth)&&Ag(this.realHeight)}setResolution(e){const n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete tn[this.cacheId],delete vr[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Bi.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,n,i=X.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else{if(!e._pixiId){const l=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${mi()}`}o=e._pixiId}let a=tn[o];if(s&&i&&!a)throw new Error(`The cacheId "${o}" does not exist in BaseTextureCache.`);return a||(a=new Bi(e,n),a.cacheId=o,Bi.addToCache(a,o)),a}static fromBuffer(e,n,i,s){e=e||new Float32Array(n*i*4);const o=new Bu(e,{width:n,height:i,...s==null?void 0:s.resourceOptions});let a,l;return e instanceof Float32Array?(a=F.RGBA,l=J.FLOAT):e instanceof Int32Array?(a=F.RGBA_INTEGER,l=J.INT):e instanceof Uint32Array?(a=F.RGBA_INTEGER,l=J.UNSIGNED_INT):e instanceof Int16Array?(a=F.RGBA_INTEGER,l=J.SHORT):e instanceof Uint16Array?(a=F.RGBA_INTEGER,l=J.UNSIGNED_SHORT):e instanceof Int8Array?(a=F.RGBA,l=J.BYTE):(a=F.RGBA,l=J.UNSIGNED_BYTE),o.internal=!0,new Bi(o,Object.assign({},eT,{type:l,format:a},s))}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),tn[n]&&tn[n]!==e&&console.warn(`BaseTexture added to the cache with an id [${n}] that already had an entry`),tn[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=tn[e];if(n){const i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete tn[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)delete tn[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}};Ad.defaultOptions={mipmap:Rr.POW2,anisotropicLevel:0,scaleMode:zr.LINEAR,wrapMode:Nn.CLAMP,alphaMode:wt.UNPACK,target:ss.TEXTURE_2D,format:F.RGBA,type:J.UNSIGNED_BYTE},Ad._globalBatch=0;let ie=Ad;class kd{constructor(){this.texArray=null,this.blend=0,this.type=Ar.TRIANGLES,this.start=0,this.size=0,this.data=null}}let tT=0;class $e{constructor(e,n=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=n,this.id=tT++,this.disposeRunner=new lr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ir.ELEMENT_ARRAY_BUFFER:Ir.ARRAY_BUFFER}get index(){return this.type===Ir.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new $e(e)}}class Ql{constructor(e,n=0,i=!1,s=J.FLOAT,o,a,l,u=1){this.buffer=e,this.size=n,this.normalized=i,this.type=s,this.stride=o,this.start=a,this.instance=l,this.divisor=u}destroy(){this.buffer=null}static from(e,n,i,s,o){return new Ql(e,n,i,s,o)}}const rT={Float32Array,Uint32Array,Int32Array,Uint8Array};function nT(r,e){let n=0,i=0;const s={};for(let u=0;u<r.length;u++)i+=e[u],n+=r[u].length;const o=new ArrayBuffer(n*4);let a=null,l=0;for(let u=0;u<r.length;u++){const c=e[u],d=r[u],f=A1(d);s[f]||(s[f]=new rT[f](o)),a=s[f];for(let p=0;p<d.length;p++){const m=(p/c|0)*i+l,g=p%c;a[m+g]=d[p]}l+=c}return new Float32Array(o)}const Bg={5126:4,5123:2,5121:1};let iT=0;const sT={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Rn{constructor(e=[],n={}){this.buffers=e,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=iT++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new lr("disposeGeometry"),this.refCount=0}addAttribute(e,n,i=0,s=!1,o,a,l,u=!1){if(!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof $e||(n instanceof Array&&(n=new Float32Array(n)),n=new $e(n));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],n,i,s,o);return this}let d=this.buffers.indexOf(n);return d===-1&&(this.buffers.push(n),d=this.buffers.length-1),this.attributes[e]=new Ql(d,i,s,o,a,l,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof $e||(e instanceof Array&&(e=new Uint16Array(e)),e=new $e(e)),e.type=Ir.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],n=[],i=new $e;let s;for(s in this.attributes){const o=this.attributes[s],a=this.buffers[o.buffer];e.push(a.data),n.push(o.size*Bg[o.type]/4),o.buffer=0}for(i.data=nT(e,n),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const n=this.attributes[e];return this.buffers[n.buffer].data.length/(n.stride/4||n.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Rn;for(let n=0;n<this.buffers.length;n++)e.buffers[n]=new $e(this.buffers[n].data.slice(0));for(const n in this.attributes){const i=this.attributes[n];e.attributes[n]=new Ql(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER),e}static merge(e){const n=new Rn,i=[],s=[],o=[];let a;for(let l=0;l<e.length;l++){a=e[l];for(let u=0;u<a.buffers.length;u++)s[u]=s[u]||0,s[u]+=a.buffers[u].data.length,o[u]=0}for(let l=0;l<a.buffers.length;l++)i[l]=new sT[A1(a.buffers[l].data)](s[l]),n.buffers[l]=new $e(i[l]);for(let l=0;l<e.length;l++){a=e[l];for(let u=0;u<a.buffers.length;u++)i[u].set(a.buffers[u].data,o[u]),o[u]+=a.buffers[u].data.length}if(n.attributes=a.attributes,a.indexBuffer){n.indexBuffer=n.buffers[a.buffers.indexOf(a.indexBuffer)],n.indexBuffer.type=Ir.ELEMENT_ARRAY_BUFFER;let l=0,u=0,c=0,d=0;for(let f=0;f<a.buffers.length;f++)if(a.buffers[f]!==a.indexBuffer){d=f;break}for(const f in a.attributes){const p=a.attributes[f];(p.buffer|0)===d&&(u+=p.size*Bg[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)n.indexBuffer.data[m+c]+=l;l+=e[f].buffers[d].data.length/u,c+=p.length}}return n}}class N1 extends Rn{constructor(e=!1){super(),this._buffer=new $e(null,e,!1),this._indexBuffer=new $e(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,J.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,J.FLOAT).addAttribute("aColor",this._buffer,4,!0,J.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,J.FLOAT).addIndex(this._indexBuffer)}}const Zl=Math.PI*2,oT=180/Math.PI,aT=Math.PI/180;var at=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(at||{});class de{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new de(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}}de.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Ra=[new de,new de,new de,new de];class ae{constructor(e=0,n=0,i=0,s=0){this.x=Number(e),this.y=Number(n),this.width=Number(i),this.height=Number(s),this.type=at.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ae(0,0,0,0)}clone(){return new ae(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}intersects(e,n){if(!n){const C=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=C)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const i=this.left,s=this.right,o=this.top,a=this.bottom;if(s<=i||a<=o)return!1;const l=Ra[0].set(e.left,e.top),u=Ra[1].set(e.left,e.bottom),c=Ra[2].set(e.right,e.top),d=Ra[3].set(e.right,e.bottom);if(c.x<=l.x||u.y<=l.y)return!1;const f=Math.sign(n.a*n.d-n.b*n.c);if(f===0||(n.apply(l,l),n.apply(u,u),n.apply(c,c),n.apply(d,d),Math.max(l.x,u.x,c.x,d.x)<=i||Math.min(l.x,u.x,c.x,d.x)>=s||Math.max(l.y,u.y,c.y,d.y)<=o||Math.min(l.y,u.y,c.y,d.y)>=a))return!1;const p=f*(u.y-l.y),m=f*(l.x-u.x),g=p*i+m*o,x=p*s+m*o,b=p*i+m*a,y=p*s+m*a;if(Math.max(g,x,b,y)<=p*l.x+m*l.y||Math.min(g,x,b,y)>=p*d.x+m*d.y)return!1;const _=f*(l.y-c.y),v=f*(c.x-l.x),w=_*i+v*o,E=_*s+v*o,k=_*i+v*a,T=_*s+v*a;return!(Math.max(w,E,k,T)<=_*l.x+v*l.y||Math.min(w,E,k,T)>=_*d.x+v*d.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),o=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(i-n,0),this.y=s,this.height=Math.max(o-s,0),this}ceil(e=1,n=.001){const i=Math.ceil((this.x+this.width-n)*e)/e,s=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=i-this.x,this.height=s-this.y,this}enlarge(e){const n=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=i-n,this.y=s,this.height=o-s,this}}ae.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Lu{constructor(e=0,n=0,i=0){this.x=e,this.y=n,this.radius=i,this.type=at.CIRC}clone(){return new Lu(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const i=this.radius*this.radius;let s=this.x-e,o=this.y-n;return s*=s,o*=o,s+o<=i}getBounds(){return new ae(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Lu.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Du{constructor(e=0,n=0,i=0,s=0){this.x=e,this.y=n,this.width=i,this.height=s,this.type=at.ELIP}clone(){return new Du(this.x,this.y,this.width,this.height)}contains(e,n){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,s=(n-this.y)/this.height;return i*=i,s*=s,i+s<=1}getBounds(){return new ae(this.x-this.width,this.y-this.height,this.width,this.height)}}Du.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class ai{constructor(...e){let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const i=[];for(let s=0,o=n.length;s<o;s++)i.push(n[s].x,n[s].y);n=i}this.points=n,this.type=at.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),n=new ai(e);return n.closeStroke=this.closeStroke,n}contains(e,n){let i=!1;const s=this.points.length/2;for(let o=0,a=s-1;o<s;a=o++){const l=this.points[o*2],u=this.points[o*2+1],c=this.points[a*2],d=this.points[a*2+1];u>n!=d>n&&e<(c-l)*((n-u)/(d-u))+l&&(i=!i)}return i}}ai.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class Fu{constructor(e=0,n=0,i=0,s=0,o=20){this.x=e,this.y=n,this.width=i,this.height=s,this.radius=o,this.type=at.RREC}clone(){return new Fu(this.x,this.y,this.width,this.height,this.radius)}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+i&&n<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let s=e-(this.x+i),o=n-(this.y+i);const a=i*i;if(s*s+o*o<=a||(s=e-(this.x+this.width-i),s*s+o*o<=a)||(o=n-(this.y+this.height-i),s*s+o*o<=a)||(s=e-(this.x+i),s*s+o*o<=a))return!0}return!1}}Fu.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ae{constructor(e=1,n=0,i=0,s=1,o=0,a=0){this.array=null,this.a=e,this.b=n,this.c=i,this.d=s,this.tx=o,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,i,s,o,a){return this.a=e,this.b=n,this.c=i,this.d=s,this.tx=o,this.ty=a,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const i=n||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,n){n=n||new de;const i=e.x,s=e.y;return n.x=this.a*i+this.c*s+this.tx,n.y=this.b*i+this.d*s+this.ty,n}applyInverse(e,n){n=n||new de;const i=1/(this.a*this.d+this.c*-this.b),s=e.x,o=e.y;return n.x=this.d*i*s+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,n.y=this.a*i*o+-this.b*i*s+(-this.ty*this.a+this.tx*this.b)*i,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),i=Math.sin(e),s=this.a,o=this.c,a=this.tx;return this.a=s*n-this.b*i,this.b=s*i+this.b*n,this.c=o*n-this.d*i,this.d=o*i+this.d*n,this.tx=a*n-this.ty*i,this.ty=a*i+this.ty*n,this}append(e){const n=this.a,i=this.b,s=this.c,o=this.d;return this.a=e.a*n+e.b*s,this.b=e.a*i+e.b*o,this.c=e.c*n+e.d*s,this.d=e.c*i+e.d*o,this.tx=e.tx*n+e.ty*s+this.tx,this.ty=e.tx*i+e.ty*o+this.ty,this}setTransform(e,n,i,s,o,a,l,u,c){return this.a=Math.cos(l+c)*o,this.b=Math.sin(l+c)*o,this.c=-Math.sin(l-u)*a,this.d=Math.cos(l-u)*a,this.tx=e-(i*this.a+s*this.c),this.ty=n-(i*this.b+s*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,s=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,i=this.b,s=this.c,o=this.d,a=e.pivot,l=-Math.atan2(-s,o),u=Math.atan2(i,n),c=Math.abs(l+u);return c<1e-5||Math.abs(Zl-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=u),e.scale.x=Math.sqrt(n*n+i*i),e.scale.y=Math.sqrt(s*s+o*o),e.position.x=this.tx+(a.x*n+a.y*s),e.position.y=this.ty+(a.x*i+a.y*o),e}invert(){const e=this.a,n=this.b,i=this.c,s=this.d,o=this.tx,a=e*s-n*i;return this.a=s/a,this.b=-n/a,this.c=-i/a,this.d=e/a,this.tx=(i*this.ty-s*o)/a,this.ty=-(e*this.ty-n*o)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ae;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ae}static get TEMP_MATRIX(){return new Ae}}Ae.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const $n=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Vn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Wn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Nd=[],I1=[],Ma=Math.sign;function lT(){for(let r=0;r<16;r++){const e=[];Nd.push(e);for(let n=0;n<16;n++){const i=Ma($n[r]*$n[n]+Wn[r]*Vn[n]),s=Ma(Vn[r]*$n[n]+Xn[r]*Vn[n]),o=Ma($n[r]*Wn[n]+Wn[r]*Xn[n]),a=Ma(Vn[r]*Wn[n]+Xn[r]*Xn[n]);for(let l=0;l<16;l++)if($n[l]===i&&Vn[l]===s&&Wn[l]===o&&Xn[l]===a){e.push(l);break}}}for(let r=0;r<16;r++){const e=new Ae;e.set($n[r],Vn[r],Wn[r],Xn[r],0,0),I1.push(e)}}lT();const Me={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>$n[r],uY:r=>Vn[r],vX:r=>Wn[r],vY:r=>Xn[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>Nd[r][e],sub:(r,e)=>Nd[r][Me.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Me.S:Me.N:Math.abs(e)*2<=Math.abs(r)?r>0?Me.E:Me.W:e>0?r>0?Me.SE:Me.SW:r>0?Me.NE:Me.NW,matrixAppendRotationInv:(r,e,n=0,i=0)=>{const s=I1[Me.inv(e)];s.tx=n,s.ty=i,r.append(s)}};class Hr{constructor(e,n,i=0,s=0){this._x=i,this._y=s,this.cb=e,this.scope=n}clone(e=this.cb,n=this.scope){return new Hr(e,n,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Hr.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Id=class{constructor(){this.worldTransform=new Ae,this.localTransform=new Ae,this.position=new Hr(this.onChange,this,0,0),this.scale=new Hr(this.onChange,this,1,1),this.pivot=new Hr(this.onChange,this,0,0),this.skew=new Hr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const n=r.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};Id.IDENTITY=new Id;let mp=Id;mp.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var uT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,cT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Lg(r,e,n){const i=r.createShader(e);return r.shaderSource(i,n),r.compileShader(i),i}function Wc(r){const e=new Array(r);for(let n=0;n<e.length;n++)e[n]=!1;return e}function P1(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Wc(2*e);case"bvec3":return Wc(3*e);case"bvec4":return Wc(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const us=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],hT={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},dT={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function fT(r,e){var i;const n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in r.uniforms){const o=e[s];if(!o){((i=r.uniforms[s])==null?void 0:i.group)===!0&&(r.uniforms[s].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const a=r.uniforms[s];let l=!1;for(let u=0;u<us.length;u++)if(us[u].test(o,a)){n.push(us[u].code(s,a)),l=!0;break}if(!l){const u=(o.size===1&&!o.isArray?hT:dT)[o.type].replace("location",`ud["${s}"].location`);n.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}const R1={};let Ni=R1;function pT(){if(Ni===R1||Ni!=null&&Ni.isContextLost()){const r=X.ADAPTER.createCanvas();let e;X.PREFER_ENV>=bi.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ni=e}return Ni}let Ba;function mT(){if(!Ba){Ba=Ht.MEDIUM;const r=pT();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(Ba=e.precision?Ht.HIGH:Ht.MEDIUM)}}return Ba}function Dg(r,e){const n=r.getShaderSource(e).split(`
`).map((c,d)=>`${d}: ${c}`),i=r.getShaderInfoLog(e),s=i.split(`
`),o={},a=s.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!o[c]?(o[c]=!0,!0):!1),l=[""];a.forEach(c=>{n[c-1]=`%c${n[c-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=n.join(`
`);l[0]=u,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function gT(r,e,n,i){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(n,r.COMPILE_STATUS)||Dg(r,n),r.getShaderParameter(i,r.COMPILE_STATUS)||Dg(r,i),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const vT={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function M1(r){return vT[r]}let La=null;const Fg={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function B1(r,e){if(!La){const n=Object.keys(Fg);La={};for(let i=0;i<n.length;++i){const s=n[i];La[r[s]]=Fg[s]}}return La[e]}function Og(r,e,n){if(r.substring(0,9)!=="precision"){let i=e;return e===Ht.HIGH&&n!==Ht.HIGH&&(i=Ht.MEDIUM),`precision ${i} float;
${r}`}else if(n!==Ht.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let Ws;function yT(){if(typeof Ws=="boolean")return Ws;try{Ws=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ws=!1}return Ws}let xT=0;const Da={},Pd=class Li{constructor(e,n,i="pixi-shader",s={}){this.extra={},this.id=xT++,this.vertexSrc=e||Li.defaultVertexSrc,this.fragmentSrc=n||Li.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Da[i]?(Da[i]++,i+=`-${Da[i]}`):Da[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=Og(this.vertexSrc,Li.defaultVertexPrecision,Ht.HIGH),this.fragmentSrc=Og(this.fragmentSrc,Li.defaultFragmentPrecision,mT())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return cT}static get defaultFragmentSrc(){return uT}static from(e,n,i){const s=e+n;let o=Ig[s];return o||(Ig[s]=o=new Li(e,n,i)),o}};Pd.defaultVertexPrecision=Ht.HIGH,Pd.defaultFragmentPrecision=Gr.apple.device?Ht.HIGH:Ht.MEDIUM;let $r=Pd,_T=0;class ur{constructor(e,n,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=_T++,this.static=!!n,this.ubo=!!i,e instanceof $e?(this.buffer=e,this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new $e(new Float32Array(1)),this.buffer.type=Ir.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,n,i){if(!this.ubo)this.uniforms[e]=new ur(n,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,n,i){return new ur(e,n,i)}static uboFrom(e,n){return new ur(e,n??!0,!0)}}class Pr{constructor(e,n){this.uniformBindCount=0,this.program=e,n?n instanceof ur?this.uniformGroup=n:this.uniformGroup=new ur(n):this.uniformGroup=new ur({}),this.disposeRunner=new lr("disposeShader")}checkUniformExists(e,n){if(n.uniforms[e])return!0;for(const i in n.uniforms){const s=n.uniforms[i];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,n,i){const s=$r.from(e,n);return new Pr(s,i)}}class bT{constructor(e,n){if(this.vertexSrc=e,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},!n.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!n.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let o=0;o<e;o++)i[o]=o;this.defaultGroupCache[e]=ur.from({uSamplers:i},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new $r(this.vertexSrc,s)}const n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ae,default:this.defaultGroupCache[e]};return new Pr(this.programCache[e],n)}generateSampleSrc(e){let n="";n+=`
`,n+=`
`;for(let i=0;i<e;i++)i>0&&(n+=`
else `),i<e-1&&(n+=`if(vTextureId < ${i}.5)`),n+=`
{`,n+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,n+=`
}`;return n+=`
`,n+=`
`,n}}class Rd{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function wT(){return!Gr.apple.device}function ET(r){let e=!0;const n=X.ADAPTER.getNavigator();if(Gr.tablet||Gr.phone){if(Gr.apple.device){const i=n.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(Gr.android.device){const i=n.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?r:4}class Ou{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var CT=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ST=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const io=class Jt extends Ou{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=N1,this.vertexSize=6,this.state=Mr.for2d(),this.size=Jt.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??ET(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??wT(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return le("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return ST}static get defaultFragmentTemplate(){return CT}setShaderGenerator({vertex:e=Jt.defaultVertexSrc,fragment:n=Jt.defaultFragmentTemplate}={}){this.shaderGenerator=new bT(e,n)}contextChange(){const e=this.renderer.gl;X.PREFER_ENV===bi.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Jt.defaultMaxTextures),this.maxTextures=JS(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:n}=Jt,i=this.size/4,s=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new kd);for(;n.length<s;)n.push(new Rd);for(let o=0;o<this.maxTextures;o++)this._tempBoundTextures[o]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:n}=this,i=Jt._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count;let l=++ie._globalBatch,u=0,c=i[0],d=0;s.copyBoundTextures(o,n);for(let f=0;f<this._bufferSize;++f){const p=e[f];e[f]=null,p._batchEnabled!==l&&(c.count>=n&&(s.boundArray(c,o,l,n),this.buildDrawCalls(c,d,f),d=f,c=i[++u],++l),p._batchEnabled=l,p.touched=a,c.elements[c.count++]=p)}c.count>0&&(s.boundArray(c,o,l,n),this.buildDrawCalls(c,d,this._bufferSize),++u,++l);for(let f=0;f<o.length;f++)o[f]=null;ie._globalBatch=l}buildDrawCalls(e,n,i){const{_bufferedElements:s,_attributeBuffer:o,_indexBuffer:a,vertexSize:l}=this,u=Jt._drawCallPool;let c=this._dcIndex,d=this._aIndex,f=this._iIndex,p=u[c];p.start=this._iIndex,p.texArray=e;for(let m=n;m<i;++m){const g=s[m],x=g._texture.baseTexture,b=S1[x.alphaMode?1:0][g.blendMode];s[m]=null,n<m&&p.blend!==b&&(p.size=f-p.start,n=m,p=u[++c],p.texArray=e,p.start=f),this.packInterleavedGeometry(g,o,a,d,f),d+=g.vertexData.length/2*l,f+=g.indices.length,p.blend=b}n<i&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(e){const n=this.renderer.texture;for(let i=0;i<e.count;i++)n.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:n,_indexBuffer:i}=this;Jt.canUploadSameBuffer?(e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:n,state:i}=this.renderer,s=Jt._drawCallPool;let o=null;for(let a=0;a<e;a++){const{texArray:l,type:u,size:c,start:d,blend:f}=s[a];o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=f,i.set(this.state),n.drawElements(u,c,n.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Jt.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const n=ql(Math.ceil(e/8)),i=kg(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new Sd(s*this.vertexSize*4)),o}getIndexBuffer(e){const n=ql(Math.ceil(e/12)),i=kg(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o}packInterleavedGeometry(e,n,i,s,o){const{uint32View:a,float32View:l}=n,u=s/this.vertexSize,c=e.uvs,d=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),g=Se.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let x=0;x<f.length;x+=2)l[s++]=f[x],l[s++]=f[x+1],l[s++]=c[x],l[s++]=c[x+1],a[s++]=g,l[s++]=p;for(let x=0;x<d.length;x++)i[o++]=u+d[x]}};io.defaultBatchSize=4096,io.extension={name:"batch",type:$.RendererPlugin},io._drawCallPool=[],io._textureArrayPool=[];let Yn=io;Q.add(Yn);var TT=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,AT=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Md=class so extends Pr{constructor(e,n,i){const s=$r.from(e||so.defaultVertexSrc,n||so.defaultFragmentSrc);super(s,i),this.padding=0,this.resolution=so.defaultResolution,this.multisample=so.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Mr}apply(e,n,i,s,o){e.applyFilter(this,n,i,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return AT}static get defaultFragmentSrc(){return TT}};Md.defaultResolution=1,Md.defaultMultisample=We.NONE;let gt=Md;class Jl{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Se(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:n,background:i,backgroundAlpha:s}=e,o=i??n;o!==void 0&&(this.color=o),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Jl.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Jl.extension={type:[$.RendererSystem,$.CanvasRendererSystem],name:"background"};Q.add(Jl);class L1{constructor(e){this.renderer=e,this.emptyRenderer=new Ou(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,n){const{boundTextures:i}=this.renderer.texture;for(let s=n-1;s>=0;--s)e[s]=i[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,n,i,s){const{elements:o,ids:a,count:l}=e;let u=0;for(let c=0;c<l;c++){const d=o[c],f=d._batchLocation;if(f>=0&&f<s&&n[f]===d){a[c]=f;continue}for(;u<s;){const p=n[u];if(p&&p._batchEnabled===i&&p._batchLocation===u){u++;continue}a[c]=u,d._batchLocation=u,n[u]=d;break}}}destroy(){this.renderer=null}}L1.extension={type:$.RendererSystem,name:"batch"};Q.add(L1);let jg=0;class eu{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=jg++}init(e){if(e.context)this.initFromContext(e.context);else{const n=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:n,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=jg++,this.renderer.runners.contextChange.emit(e);const n=this.renderer.view;n.addEventListener!==void 0&&(n.addEventListener("webglcontextlost",this.handleContextLost,!1),n.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const n=this.createContext(this.renderer.view,e);this.initFromContext(n)}createContext(e,n){let i;if(X.PREFER_ENV>=bi.WEBGL2&&(i=e.getContext("webgl2",n)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,n={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const n=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}eu.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},eu.extension={type:$.RendererSystem,name:"context"};Q.add(eu);class Bd{constructor(e,n){if(this.width=Math.round(e),this.height=Math.round(n),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new lr("disposeFramebuffer"),this.multisample=We.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,n){return this.colorTextures[e]=n||new ie(null,{scaleMode:zr.NEAREST,resolution:1,mipmap:Rr.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ie(null,{scaleMode:zr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Rr.OFF,format:F.DEPTH_COMPONENT,type:J.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,n){if(e=Math.round(e),n=Math.round(n),!e||!n)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&n===this.height)){this.width=e,this.height=n,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const s=this.colorTextures[i],o=s.resolution;s.setSize(e/o,n/o)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,n/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class D1 extends ie{constructor(e={}){if(typeof e=="number"){const n=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3];e={width:n,height:i,scaleMode:s,resolution:o}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=We.NONE),super(null,e),this.mipmap=Rr.OFF,this.valid=!0,this._clear=new Se([0,0,0,0]),this.framebuffer=new Bd(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Zr extends Xo{constructor(e){const n=e,i=n.naturalWidth||n.videoWidth||n.displayWidth||n.width,s=n.naturalHeight||n.videoHeight||n.displayHeight||n.height;super(i,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,n,i){i===void 0&&!n.startsWith("data:")?e.crossOrigin=qS(n):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,n,i,s){const o=e.gl,a=n.realWidth,l=n.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===wt.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===a&&i.height===l?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=a,i.height=l,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),super.update()}dispose(){this.source=null}}class F1 extends Zr{constructor(e,n){if(n=n||{},typeof e=="string"){const i=new Image;Zr.crossOrigin(i,e,n.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(n.createBitmap??X.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.bitmap=null,this._load=null,n.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((n,i)=>{const s=this.source;this.url=s.src;const o=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?n(this.process()):n(this))};s.complete&&s.src?o():(s.onload=o,s.onerror=a=>{i(a),this.onError.emit(a)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const n=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(s=>s.blob()).then(s=>n(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===wt.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,n,i,this.bitmap),!this.preserveBitmap){let s=!0;const o=n._glTextures;for(const a in o){const l=o[a];if(l!==i&&l.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class gp{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,n,i){const s=n.width,o=n.height;if(i){const a=e.width/2/s,l=e.height/2/o,u=e.x/s+a,c=e.y/o+l;i=Me.add(i,Me.NW),this.x0=u+a*Me.uX(i),this.y0=c+l*Me.uY(i),i=Me.add(i,2),this.x1=u+a*Me.uX(i),this.y1=c+l*Me.uY(i),i=Me.add(i,2),this.x2=u+a*Me.uX(i),this.y2=c+l*Me.uY(i),i=Me.add(i,2),this.x3=u+a*Me.uX(i),this.y3=c+l*Me.uY(i)}else this.x0=e.x/s,this.y0=e.y/o,this.x1=(e.x+e.width)/s,this.y1=e.y/o,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/o,this.x3=e.x/s,this.y3=(e.y+e.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}gp.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const Ug=new gp;function Fa(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class q extends ra{constructor(e,n,i,s,o,a,l){if(super(),this.noFrame=!1,n||(this.noFrame=!0,n=new ae(0,0,1,1)),e instanceof q&&(e=e.baseTexture),this.baseTexture=e,this._frame=n,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=Ug,this.uvMatrix=null,this.orig=i||n,this._rotate=Number(o||0),o===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new de(a.x,a.y):new de(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=n:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:n}=this.baseTexture;n!=null&&n.url&&vr[n.url]&&q.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,q.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),i=new q(this.baseTexture,!this.noFrame&&e,n,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===Ug&&(this._uvs=new gp),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,n={},i=X.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let o=null;if(s)o=e;else if(e instanceof ie){if(!e.cacheId){const l=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${mi()}`,ie.addToCache(e,e.cacheId)}o=e.cacheId}else{if(!e._pixiId){const l=(n==null?void 0:n.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${mi()}`}o=e._pixiId}let a=vr[o];if(s&&i&&!a)throw new Error(`The cacheId "${o}" does not exist in TextureCache.`);return!a&&!(e instanceof ie)?(n.resolution||(n.resolution=Qr(e)),a=new q(new ie(e,n)),a.baseTexture.cacheId=o,ie.addToCache(a.baseTexture,o),q.addToCache(a,o)):!a&&e instanceof ie&&(a=new q(e),q.addToCache(a,o)),a}static fromURL(e,n){const i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=q.from(e,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(()=>Promise.resolve(s))}static fromBuffer(e,n,i,s){return new q(ie.fromBuffer(e,n,i,s))}static fromLoader(e,n,i,s){const o=new ie(e,Object.assign({scaleMode:ie.defaultOptions.scaleMode,resolution:Qr(n)},s)),{resource:a}=o;a instanceof F1&&(a.url=n);const l=new q(o);return i||(i=n),ie.addToCache(l.baseTexture,i),q.addToCache(l,i),i!==n&&(ie.addToCache(l.baseTexture,n),q.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise(u=>{l.baseTexture.once("loaded",()=>u(l))})}static addToCache(e,n){n&&(e.textureCacheIds.includes(n)||e.textureCacheIds.push(n),vr[n]&&vr[n]!==e&&console.warn(`Texture added to the cache with an id [${n}] that already had an entry`),vr[n]=e)}static removeFromCache(e){if(typeof e=="string"){const n=vr[e];if(n){const i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete vr[e],n}}else if(e!=null&&e.textureCacheIds){for(let n=0;n<e.textureCacheIds.length;++n)vr[e.textureCacheIds[n]]===e&&delete vr[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:n,y:i,width:s,height:o}=e,a=n+s>this.baseTexture.width,l=i+o>this.baseTexture.height;if(a||l){const u=a&&l?"and":"or",c=`X: ${n} + ${s} = ${n+s} > ${this.baseTexture.width}`,d=`Y: ${i} + ${o} = ${i+o} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${u} ${d}`)}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return q._EMPTY||(q._EMPTY=new q(new ie),Fa(q._EMPTY),Fa(q._EMPTY.baseTexture)),q._EMPTY}static get WHITE(){if(!q._WHITE){const e=X.ADAPTER.createCanvas(16,16),n=e.getContext("2d");e.width=16,e.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),q._WHITE=new q(ie.from(e)),Fa(q._WHITE),Fa(q._WHITE.baseTexture)}return q._WHITE}}class wi extends q{constructor(e,n){super(e,n),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,n,i=!0){const s=this.baseTexture.resolution,o=Math.round(e*s)/s,a=Math.round(n*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(o,a),this.updateUvs()}setResolution(e){const{baseTexture:n}=this;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))}static create(e){return new wi(new D1(e))}}class O1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,n,i=We.NONE){const s=new D1(Object.assign({width:e,height:n,resolution:1,multisample:i},this.textureOptions));return new wi(s)}getOptimalTexture(e,n,i=1,s=We.NONE){let o;e=Math.max(Math.ceil(e*i-1e-6),1),n=Math.max(Math.ceil(n*i-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||n!==this._pixelsHeight?(e=ql(e),n=ql(n),o=((e&65535)<<16|n&65535)>>>0,s>1&&(o+=s*4294967296)):o=s>1?-s:-1,this.texturePool[o]||(this.texturePool[o]=[]);let a=this.texturePool[o].pop();return a||(a=this.createTexture(e,n,s)),a.filterPoolKey=o,a.setResolution(i),a}getFilterTexture(e,n,i){const s=this.getOptimalTexture(e.width,e.height,n||e.resolution,i||We.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const n=e.filterPoolKey;e.filterFrame=null,this.texturePool[n].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const n in this.texturePool){const i=this.texturePool[n];if(i)for(let s=0;s<i.length;s++)i[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const n in this.texturePool){if(!(Number(n)<0))continue;const i=this.texturePool[n];if(i)for(let s=0;s<i.length;s++)i[s].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}O1.SCREEN_KEY=-1;class kT extends Rn{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class j1 extends Rn{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new $e(this.vertices),this.uvBuffer=new $e(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,n){let i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/e.width,this.uvs[3]=s,this.uvs[4]=i+n.width/e.width,this.uvs[5]=s+n.height/e.height,this.uvs[6]=i,this.uvs[7]=s+n.height/e.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class NT{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=We.NONE,this.sourceFrame=new ae,this.destinationFrame=new ae,this.bindingSourceFrame=new ae,this.bindingDestinationFrame=new ae,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Oa=[new de,new de,new de,new de],Xc=new Ae;class U1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new O1,this.statePool=[],this.quad=new kT,this.quadUv=new j1,this.tempRect=new ae,this.activeState={},this.globalUniforms=new ur({outputFrame:new ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,n){const i=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new NT,a=i.renderTexture;let l,u;if(a.current){const b=a.current;l=b.resolution,u=b.multisample}else l=i.resolution,u=i.multisample;let c=n[0].resolution||l,d=n[0].multisample??u,f=n[0].padding,p=n[0].autoFit,m=n[0].legacy??!0;for(let b=1;b<n.length;b++){const y=n[b];c=Math.min(c,y.resolution||l),d=Math.min(d,y.multisample??u),f=this.useMaxPadding?Math.max(f,y.padding):f+y.padding,p=p&&y.autoFit,m=m||(y.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=c,o.multisample=d,o.legacy=m,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(f);const g=this.tempRect.copyFrom(a.sourceFrame);i.projection.transform&&this.transformAABB(Xc.copyFrom(i.projection.transform).invert(),g),p?(o.sourceFrame.fit(g),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(g)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:i.resolution,a.sourceFrame,a.destinationFrame,i.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,c,d),o.filters=n,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;const x=this.tempRect;x.x=0,x.y=0,x.width=o.sourceFrame.width,x.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=i.projection.transform,i.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,x),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,n=e.pop(),i=n.filters;this.activeState=n;const s=this.globalUniforms.uniforms;s.outputFrame=n.sourceFrame,s.resolution=n.resolution;const o=s.inputSize,a=s.inputPixel,l=s.inputClamp;if(o[0]=n.destinationFrame.width,o[1]=n.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*n.resolution),a[1]=Math.round(o[1]*n.resolution),a[2]=1/a[0],a[3]=1/a[1],l[0]=.5*a[2],l[1]=.5*a[3],l[2]=n.sourceFrame.width*o[2]-.5*a[2],l[3]=n.sourceFrame.height*o[3]-.5*a[3],n.legacy){const c=s.filterArea;c[0]=n.destinationFrame.width,c[1]=n.destinationFrame.height,c[2]=n.sourceFrame.x,c[3]=n.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,n.renderTexture,u.renderTexture,Cr.BLEND,n),this.returnFilterTexture(n.renderTexture);else{let c=n.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,n.resolution);d.filterFrame=c.filterFrame;let f=0;for(f=0;f<i.length-1;++f){f===1&&n.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,n.resolution),d.filterFrame=c.filterFrame),i[f].apply(this,c,d,Cr.CLEAR,n);const p=c;c=d,d=p}i[f].apply(this,c,u.renderTexture,Cr.BLEND,n),f>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}n.clear(),this.statePool.push(n)}bindAndClear(e,n=Cr.CLEAR){const{renderTexture:i,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,i.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const o=s.stateId&1||this.forceClear;(n===Cr.CLEAR||n===Cr.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,n,i,s){const o=this.renderer;o.state.set(e.state),this.bindAndClear(i,s),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(n._frame,n.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Ar.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Ar.TRIANGLE_STRIP))}calculateSpriteMatrix(e,n){const{sourceFrame:i,destinationFrame:s}=this.activeState,{orig:o}=n._texture,a=e.set(s.width,0,0,s.height,i.x,i.y),l=n.worldTransform.copyTo(Ae.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/o.width,1/o.height),a.translate(n.anchor.x,n.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,n,i=1,s=We.NONE){return this.texturePool.getOptimalTexture(e,n,i,s)}getFilterTexture(e,n,i){if(typeof e=="number"){const o=e;e=n,n=o}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,n||e.resolution,i||We.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,n){const i=Oa[0],s=Oa[1],o=Oa[2],a=Oa[3];i.set(n.left,n.top),s.set(n.left,n.bottom),o.set(n.right,n.top),a.set(n.right,n.bottom),e.apply(i,i),e.apply(s,s),e.apply(o,o),e.apply(a,a);const l=Math.min(i.x,s.x,o.x,a.x),u=Math.min(i.y,s.y,o.y,a.y),c=Math.max(i.x,s.x,o.x,a.x),d=Math.max(i.y,s.y,o.y,a.y);n.x=l,n.y=u,n.width=c-l,n.height=d-u}roundFrame(e,n,i,s,o){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(o){const{a,b:l,c:u,d:c}=o;if((Math.abs(l)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}o=o?Xc.copyFrom(o):Xc.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.transformAABB(o,e),e.ceil(n),this.transformAABB(o.invert(),e)}}}U1.extension={type:$.RendererSystem,name:"filter"};Q.add(U1);class IT{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=We.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const PT=new ae;class z1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Bd(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let n=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;X.PREFER_ENV===bi.WEBGL_LEGACY&&(n=null,i=null),n?e.drawBuffers=s=>n.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,n,i=0){const{gl:s}=this;if(e){const o=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,o.mipLevel=i),o.dirtyId!==e.dirtyId&&(o.dirtyId=e.dirtyId,o.dirtyFormat!==e.dirtyFormat?(o.dirtyFormat=e.dirtyFormat,o.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):o.dirtySize!==e.dirtySize&&(o.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){const l=e.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n){const a=n.width>>i,l=n.height>>i,u=a/n.width;this.setViewport(n.x*u,n.y*u,a,l)}else{const a=e.width>>i,l=e.height>>i;this.setViewport(0,0,a,l)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,n,i,s){const o=this.viewport;e=Math.round(e),n=Math.round(n),i=Math.round(i),s=Math.round(s),(o.width!==i||o.height!==s||o.x!==e||o.y!==n)&&(o.x=e,o.y=n,o.width=i,o.height=s,this.gl.viewport(e,n,i,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,n,i,s,o=ad.COLOR|ad.DEPTH){const{gl:a}=this;a.clearColor(e,n,i,s),a.clear(o)}initFramebuffer(e){const{gl:n}=this,i=new IT(n.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){n.bindRenderbuffer(n.RENDERBUFFER,i.stencil);let a;this.renderer.context.webGLVersion===1?a=n.DEPTH_STENCIL:e.depth&&e.stencil?a=n.DEPTH24_STENCIL8:e.depth?a=n.DEPTH_COMPONENT24:a=n.STENCIL_INDEX8,i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,a,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,a,e.width,e.height)}const s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1));for(let a=0;a<o;a++){const l=s[a],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),a===0&&i.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,n){const{gl:i}=this,s=e.glFramebuffers[this.CONTEXT_UID],o=e.colorTextures;let a=o.length;i.drawBuffers||(a=Math.min(a,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||i.createRenderbuffer():s.msaaBuffer&&(i.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const l=[];for(let u=0;u<a;u++){const c=o[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),u===0&&s.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,s.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,s.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,s.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,n),l.push(i.COLOR_ATTACHMENT0+u))}if(l.length>1&&i.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,n)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||i.createRenderbuffer();let u,c;this.renderer.context.webGLVersion===1?(u=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH_STENCIL):e.depth&&e.stencil?(u=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH24_STENCIL8):e.depth?(u=i.DEPTH_ATTACHMENT,c=i.DEPTH_COMPONENT24):(u=i.STENCIL_ATTACHMENT,c=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,s.stencil),s.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,s.multisample,c,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,c,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,u,i.RENDERBUFFER,s.stencil)}else s.stencil&&(i.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:n}=this;let i=We.NONE;if(e<=1||n===null)return i;for(let s=0;s<n.length;s++)if(n[s]<=e){i=n[s];break}return i===1&&(i=We.NONE),i}blit(e,n,i){const{current:s,renderer:o,gl:a,CONTEXT_UID:l}=this;if(o.context.webGLVersion!==2||!s)return;const u=s.glFramebuffers[l];if(!u)return;if(!e){if(!u.msaaBuffer)return;const d=s.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new Bd(s.width,s.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}n||(n=PT,n.width=s.width,n.height=s.height),i||(i=n);const c=n.width===i.width&&n.height===i.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(n.left,n.top,n.right,n.bottom,i.left,i.top,i.right,i.bottom,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,n){const i=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const o=this.managedFramebuffers.indexOf(e);o>=0&&this.managedFramebuffers.splice(o,1),e.disposeRunner.remove(this),n||(s.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&s.deleteRenderbuffer(i.msaaBuffer),i.stencil&&s.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,n)}disposeAll(e){const n=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<n.length;i++)this.disposeFramebuffer(n[i],e)}forceStencil(){const e=this.current;if(!e)return;const n=e.glFramebuffers[this.CONTEXT_UID];if(!n||n.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,s=e.height,o=this.gl,a=n.stencil=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a);let l,u;this.renderer.context.webGLVersion===1?(l=o.DEPTH_STENCIL_ATTACHMENT,u=o.DEPTH_STENCIL):e.depth?(l=o.DEPTH_STENCIL_ATTACHMENT,u=o.DEPTH24_STENCIL8):(l=o.STENCIL_ATTACHMENT,u=o.STENCIL_INDEX8),n.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,n.multisample,u,i,s):o.renderbufferStorage(o.RENDERBUFFER,u,i,s),o.framebufferRenderbuffer(o.FRAMEBUFFER,l,o.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ae}destroy(){this.renderer=null}}z1.extension={type:$.RendererSystem,name:"framebuffer"};Q.add(z1);const Yc={5126:4,5123:2,5121:1};class G1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;X.PREFER_ENV===bi.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=s=>i.bindVertexArrayOES(s),e.deleteVertexArray=s=>i.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(n.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(s,o)=>i.vertexAttribDivisorANGLE(s,o),e.drawElementsInstanced=(s,o,a,l,u)=>i.drawElementsInstancedANGLE(s,o,a,l,u),e.drawArraysInstanced=(s,o,a,l)=>i.drawArraysInstancedANGLE(s,o,a,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex}bind(e,n){n=n||this.renderer.shader.shader;const{gl:i}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],o=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},o=!0);const a=s[n.program.id]||this.initGeometryVao(e,n,o);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?i.bindVertexArray(a):this.activateVao(e,n.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,n=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const s=e.buffers[i];n.update(s)}}checkCompatibility(e,n){const i=e.attributes,s=n.attributeData;for(const o in s)if(!i[o])throw new Error(`shader and geometry incompatible, geometry missing the "${o}" attribute`)}getSignature(e,n){const i=e.attributes,s=n.attributeData,o=["g",e.id];for(const a in i)s[a]&&o.push(a,s[a].location);return o.join("-")}initGeometryVao(e,n,i=!0){const s=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,l=n.program;l.glPrograms[o]||this.renderer.shader.generateProgram(n),this.checkCompatibility(e,l);const u=this.getSignature(e,l),c=e.glVertexArrayObjects[this.CONTEXT_UID];let d=c[u];if(d)return c[l.id]=d,d;const f=e.buffers,p=e.attributes,m={},g={};for(const x in f)m[x]=0,g[x]=0;for(const x in p)!p[x].size&&l.attributeData[x]?p[x].size=l.attributeData[x].size:p[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[x].buffer]+=p[x].size*Yc[p[x].type];for(const x in p){const b=p[x],y=b.size;b.stride===void 0&&(m[b.buffer]===y*Yc[b.type]?b.stride=0:b.stride=m[b.buffer]),b.start===void 0&&(b.start=g[b.buffer],g[b.buffer]+=y*Yc[b.type])}d=s.createVertexArray(),s.bindVertexArray(d);for(let x=0;x<f.length;x++){const b=f[x];a.bind(b),i&&b._glBuffers[o].refCount++}return this.activateVao(e,l),c[l.id]=d,c[u]=d,s.bindVertexArray(null),a.unbind(Ir.ARRAY_BUFFER),d}disposeGeometry(e,n){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(let u=0;u<o.length;u++){const c=o[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!n&&a.dispose(o[u],n))}if(!n){for(const u in i)if(u[0]==="g"){const c=i[u];this._activeVao===c&&this.unbind(),s.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const n=Object.keys(this.managedGeometries);for(let i=0;i<n.length;i++)this.disposeGeometry(this.managedGeometries[n[i]],e)}activateVao(e,n){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=e.buffers,l=e.attributes;e.indexBuffer&&o.bind(e.indexBuffer);let u=null;for(const c in l){const d=l[c],f=a[d.buffer],p=f._glBuffers[s];if(n.attributeData[c]){u!==p&&(o.bind(f),u=p);const m=n.attributeData[c].location;if(i.enableVertexAttribArray(m),i.vertexAttribPointer(m,d.size,d.type||i.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)i.vertexAttribDivisor(m,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,n,i,s){const{gl:o}=this,a=this._activeGeometry;if(a.indexBuffer){const l=a.indexBuffer.data.BYTES_PER_ELEMENT,u=l===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(e,n||a.indexBuffer.data.length,u,(i||0)*l,s||1):o.drawElements(e,n||a.indexBuffer.data.length,u,(i||0)*l):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(e,i,n||a.getSize(),s||1):o.drawArrays(e,i,n||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}G1.extension={type:$.RendererSystem,name:"geometry"};Q.add(G1);const zg=new Ae;class H1{constructor(e,n){this._texture=e,this.mapCoord=new Ae,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n>"u"?.5:n,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,n){n===void 0&&(n=e);const i=this.mapCoord;for(let s=0;s<e.length;s+=2){const o=e[s],a=e[s+1];n[s]=o*i.a+a*i.c+i.tx,n[s+1]=o*i.b+a*i.d+i.ty}return n}update(e){const n=this._texture;if(!n||!n.valid||!e&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;const i=n._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const s=n.orig,o=n.trim;o&&(zg.set(s.width/o.width,0,0,s.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(zg));const a=n.baseTexture,l=this.uClampFrame,u=this.clampMargin/a.resolution,c=this.clampOffset;return l[0]=(n._frame.x+u+c)/a.width,l[1]=(n._frame.y+u+c)/a.height,l[2]=(n._frame.x+n._frame.width-u+c)/a.width,l[3]=(n._frame.y+n._frame.height-u+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=n._frame.width===a.width&&n._frame.height===a.height&&n.rotate===0,!0}}var RT=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,MT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class BT extends gt{constructor(e,n,i){let s=null;typeof e!="string"&&n===void 0&&i===void 0&&(s=e,e=void 0,n=void 0,i=void 0),super(e||MT,n||RT,i),this.maskSprite=s,this.maskMatrix=new Ae}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,n,i,s){const o=this._maskSprite,a=o._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new H1(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,n,i,s))}}class LT{constructor(e=null){this.type=Qe.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=gt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Qe.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class $1{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,n){let i=n;if(!i.isMaskData){const o=this.maskDataPool.pop()||new LT;o.pooled=!0,o.maskObject=n,i=o}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(s),i._colorMask=s?s._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==Qe.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case Qe.SCISSOR:this.renderer.scissor.push(i);break;case Qe.STENCIL:this.renderer.stencil.push(i);break;case Qe.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case Qe.COLOR:this.pushColorMask(i);break}i.type===Qe.SPRITE&&this.maskStack.push(i)}pop(e){const n=this.maskStack.pop();if(!(!n||n._target!==e)){if(n.enabled)switch(n.type){case Qe.SCISSOR:this.renderer.scissor.pop(n);break;case Qe.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Qe.SPRITE:this.popSpriteMask(n);break;case Qe.COLOR:this.popColorMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===Qe.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const n=e.maskObject;n?n.isSprite?e.type=Qe.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Qe.SCISSOR:e.type=Qe.STENCIL:e.type=Qe.COLOR}pushSpriteMask(e){const{maskObject:n}=e,i=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new BT])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=n;const o=i.filterArea;i.filterArea=n.getBounds(!0),this.renderer.filter.push(i,s),i.filterArea=o,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const n=e._colorMask,i=e._colorMask=n&e.colorMask;i!==n&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const n=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==n&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}$1.extension={type:$.RendererSystem,name:"mask"};Q.add($1);class V1{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:n}=this.renderer,i=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==i&&(s===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Gg=new Ae,Hg=[],W1=class pl extends V1{constructor(e){super(e),this.glConst=X.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const n=e._scissorRect,{maskObject:i}=e,{renderer:s}=this,o=s.renderTexture,a=i.getBounds(!0,Hg.pop()??new ae);this.roundFrameToPixels(a,o.current?o.current.resolution:s.resolution,o.sourceFrame,o.destinationFrame,s.projection.transform),n&&a.fit(n),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;const{a:n,b:i,c:s,d:o}=e;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)}testScissor(e){const{maskObject:n}=e;if(!n.isFastRect||!n.isFastRect()||pl.isMatrixRotated(n.worldTransform)||pl.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,n,i,s,o){pl.isMatrixRotated(o)||(o=o?Gg.copyFrom(o):Gg.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,e),e.fit(s),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:n}=this.renderer;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:n}=this.renderer;e&&Hg.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)}};W1.extension={type:$.RendererSystem,name:"scissor"};let DT=W1;Q.add(DT);class X1 extends V1{constructor(e){super(e),this.glConst=X.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const n=e.maskObject,{gl:i}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const o=e._colorMask;o!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(e._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()}pop(e){const n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}X1.extension={type:$.RendererSystem,name:"stencil"};Q.add(X1);class Y1{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return le("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return le("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return le("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const n in e)this.plugins[n]=new e[n](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Y1.extension={type:[$.RendererSystem,$.CanvasRendererSystem],name:"_plugin"};Q.add(Y1);class K1{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ae,this.transform=null}update(e,n,i,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,s),this.transform&&this.projectionMatrix.append(this.transform);const o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)}calculateProjection(e,n,i,s){const o=this.projectionMatrix,a=s?-1:1;o.identity(),o.a=1/n.width*2,o.d=a*(1/n.height*2),o.tx=-1-n.x*o.a,o.ty=-a-n.y*o.d}setTransform(e){}destroy(){this.renderer=null}}K1.extension={type:$.RendererSystem,name:"projection"};Q.add(K1);const FT=new mp,$g=new ae;class q1{constructor(e){this.renderer=e,this._tempMatrix=new Ae}generateTexture(e,n){const{region:i,...s}=n||{},o=(i==null?void 0:i.copyTo($g))||e.getLocalBounds($g,!0),a=s.resolution||this.renderer.resolution;o.width=Math.max(o.width,1/a),o.height=Math.max(o.height,1/a),s.width=o.width,s.height=o.height,s.resolution=a,s.multisample??(s.multisample=this.renderer.multisample);const l=wi.create(s);this._tempMatrix.tx=-o.x,this._tempMatrix.ty=-o.y;const u=e.transform;return e.transform=FT,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=u,l}destroy(){}}q1.extension={type:[$.RendererSystem,$.CanvasRendererSystem],name:"textureGenerator"};Q.add(q1);const Un=new ae,Xs=new ae;class Q1{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ae,this.destinationFrame=new ae,this.viewportFrame=new ae}contextChange(){var n;const e=(n=this.renderer)==null?void 0:n.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,n,i){const s=this.renderer;this.current=e;let o,a,l;e?(o=e.baseTexture,l=o.resolution,n||(Un.width=e.frame.width,Un.height=e.frame.height,n=Un),i||(Xs.x=e.frame.x,Xs.y=e.frame.y,Xs.width=n.width,Xs.height=n.height,i=Xs),a=o.framebuffer):(l=s.resolution,n||(Un.width=s._view.screen.width,Un.height=s._view.screen.height,n=Un),i||(i=Un,i.width=n.width,i.height=n.height));const u=this.viewportFrame;u.x=i.x*l,u.y=i.y*l,u.width=i.width*l,u.height=i.height*l,e||(u.y=s.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(a,u),this.renderer.projection.update(i,n,l,!a),e?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(i)}clear(e,n){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=Se.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const o=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,l=o.width!==a.width||o.height!==a.height;if(l){let{x:u,y:c,width:d,height:f}=this.viewportFrame;u=Math.round(u),c=Math.round(c),d=Math.round(d),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,c,d,f)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,n),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Q1.extension={type:$.RendererSystem,name:"renderTexture"};Q.add(Q1);class OT{constructor(e,n){this.program=e,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function jT(r,e){const n={},i=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let s=0;s<i;s++){const o=e.getActiveAttrib(r,s);if(o.name.startsWith("gl_"))continue;const a=B1(e,o.type),l={type:a,name:o.name,size:M1(a),location:e.getAttribLocation(r,o.name)};n[o.name]=l}return n}function UT(r,e){const n={},i=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let s=0;s<i;s++){const o=e.getActiveUniform(r,s),a=o.name.replace(/\[.*?\]$/,""),l=!!o.name.match(/\[.*?\]$/),u=B1(e,o.type);n[a]={name:a,index:s,type:u,size:o.size,isArray:l,value:P1(u,o.size)}}return n}function zT(r,e){var l;const n=Lg(r,r.VERTEX_SHADER,e.vertexSrc),i=Lg(r,r.FRAGMENT_SHADER,e.fragmentSrc),s=r.createProgram();r.attachShader(s,n),r.attachShader(s,i);const o=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(o&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(s,o.names,o.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(s),r.getProgramParameter(s,r.LINK_STATUS)||gT(r,s,n,i),e.attributeData=jT(s,r),e.uniformData=UT(s,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,d)=>c>d?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,r.bindAttribLocation(s,c,u[c]);r.linkProgram(s)}r.deleteShader(n),r.deleteShader(i);const a={};for(const u in e.uniformData){const c=e.uniformData[u];a[u]={location:r.getUniformLocation(s,u),value:P1(c.type,c.size)}}return new OT(s,a)}function GT(r,e,n,i,s){n.buffer.update(s)}const HT={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},Z1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function $T(r){const e=r.map(o=>({data:o,offset:0,dataLen:0,dirty:0}));let n=0,i=0,s=0;for(let o=0;o<e.length;o++){const a=e[o];if(n=Z1[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,i%n!==0&&i<16){const l=i%n%16;i+=l,s+=l}i+n>16?(s=Math.ceil(s/16)*16,a.offset=s,s+=n,i=n):(a.offset=s,i+=n,s+=n)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function VT(r,e){const n=[];for(const i in r)e[i]&&n.push(e[i]);return n.sort((i,s)=>i.index-s.index),n}function WT(r,e){if(!r.autoManage)return{size:0,syncFunc:GT};const n=VT(r.uniforms,e),{uboElements:i,size:s}=$T(n),o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<i.length;a++){const l=i[a],u=r.uniforms[l.data.name],c=l.data.name;let d=!1;for(let f=0;f<us.length;f++){const p=us[f];if(p.codeUbo&&p.test(l.data,u)){o.push(`offset = ${l.offset/4};`,us[f].codeUbo(l.data.name,u)),d=!0;break}}if(!d)if(l.data.size>1){const f=M1(l.data.type),p=Math.max(Z1[l.data.type]/16,1),m=f/p,g=(4-m%4)%4;o.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const f=HT[l.data.type];o.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};
                ${f};
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}let XT=0;const ja={textureCount:0,uboCount:0};class J1{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=XT++}systemCheck(){if(!yT())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,n){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,s=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(s.program)),n||(ja.textureCount=0,ja.uboCount=0,this.syncUniformGroup(e.uniformGroup,ja)),s}setUniforms(e){const n=this.shader.program,i=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,n){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,n))}syncUniforms(e,n,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const n=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=fT(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,n){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const s=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,n);e.buffer.update(),s(i.uniformData,e.uniforms,this.renderer,ja,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[n])}createSyncBufferGroup(e,n,i){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const o=this.gl.getUniformBlockIndex(n.program,i);n.uniformBufferBindings[i]=this.shader.uniformBindCount,s.uniformBlockBinding(n.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;const a=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[a];if(l||(l=this._uboCache[a]=WT(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(l.size/4);e.buffer.update(u)}return n.uniformGroups[e.id]=l.syncFunc,n.uniformGroups[e.id]}getSignature(e,n,i){const s=e.uniforms,o=[`${i}-`];for(const a in s)o.push(a),n[a]&&o.push(n[a].type);return o.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const n=this.gl,i=e.program,s=zT(n,i);return i.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}J1.extension={type:$.RendererSystem,name:"shader"};Q.add(J1);class tu{constructor(e){this.renderer=e}run(e){const{renderer:n}=this;n.runners.init.emit(n.options),e.hello&&console.log(`PixiJS 7.4.2 - ${n.rendererLogId} - https://pixijs.com`),n.resize(n.screen.width,n.screen.height)}destroy(){}}tu.defaultOptions={hello:!1},tu.extension={type:[$.RendererSystem,$.CanvasRendererSystem],name:"startup"};Q.add(tu);function YT(r,e=[]){return e[te.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.ADD]=[r.ONE,r.ONE],e[te.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.NONE]=[0,0],e[te.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[te.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[te.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[te.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[te.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[te.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[te.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[te.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[te.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[te.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[te.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const KT=0,qT=1,QT=2,ZT=3,JT=4,e2=5,ex=class Ld{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=te.NONE,this._blendEq=!1,this.map=[],this.map[KT]=this.setBlend,this.map[qT]=this.setOffset,this.map[QT]=this.setCullFace,this.map[ZT]=this.setDepthTest,this.map[JT]=this.setFrontFace,this.map[e2]=this.setDepthMask,this.checks=[],this.defaultState=new Mr,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=YT(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let n=this.stateId^e.data,i=0;for(;n;)n&1&&this.map[i].call(this,!!(e.data&1<<i)),n=n>>1,i++;this.stateId=e.data}for(let n=0;n<this.checks.length;n++)this.checks[n](this,e)}forceState(e){e=e||this.defaultState;for(let n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(let n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Ld.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Ld.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const n=this.blendModes[e],i=this.gl;n.length===2?i.blendFunc(n[0],n[1]):i.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,i.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,n){this.gl.polygonOffset(e,n)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,n){const i=this.checks.indexOf(e);n&&i===-1?this.checks.push(e):!n&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(e,n){e.setBlendMode(n.blendMode)}static checkPolygonOffset(e,n){e.setPolygonOffset(1,n.polygonOffset)}destroy(){this.gl=null}};ex.extension={type:$.RendererSystem,name:"state"};let t2=ex;Q.add(t2);class r2 extends ra{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const n=(e.priority??[]).filter(s=>e.systems[s]),i=[...n,...Object.keys(e.systems).filter(s=>!n.includes(s))];for(const s of i)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(n=>{this.runners[n]=new lr(n)})}addSystem(e,n){const i=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=i,this._systemsHash[n]=i;for(const s in this.runners)this.runners[s].add(i);return this}emitWithCustomOptions(e,n){const i=Object.keys(this._systemsHash);e.items.forEach(s=>{const o=i.find(a=>this._systemsHash[a]===s);s[e.name](n[o])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const oo=class ml{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=ml.defaultMaxIdle,this.checkCountMax=ml.defaultCheckCountMax,this.mode=ml.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==op.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,n=e.managedTextures;let i=!1;for(let s=0;s<n.length;s++){const o=n[s];o.resource&&this.count-o.touched>this.maxIdle&&(e.destroyTexture(o,!0),n[s]=null,i=!0)}if(i){let s=0;for(let o=0;o<n.length;o++)n[o]!==null&&(n[s++]=n[o]);n.length=s}}unload(e){const n=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&n.destroyTexture(i);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};oo.defaultMode=op.AUTO,oo.defaultMaxIdle=60*60,oo.defaultCheckCountMax=60*10,oo.extension={type:$.RendererSystem,name:"textureGC"};let Kn=oo;Q.add(Kn);class Kc{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=J.UNSIGNED_BYTE,this.internalFormat=F.RGBA,this.samplerType=0}}function n2(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:W.FLOAT,[r.RGBA]:W.FLOAT,[r.ALPHA]:W.FLOAT,[r.LUMINANCE]:W.FLOAT,[r.LUMINANCE_ALPHA]:W.FLOAT,[r.R8]:W.FLOAT,[r.R8_SNORM]:W.FLOAT,[r.RG8]:W.FLOAT,[r.RG8_SNORM]:W.FLOAT,[r.RGB8]:W.FLOAT,[r.RGB8_SNORM]:W.FLOAT,[r.RGB565]:W.FLOAT,[r.RGBA4]:W.FLOAT,[r.RGB5_A1]:W.FLOAT,[r.RGBA8]:W.FLOAT,[r.RGBA8_SNORM]:W.FLOAT,[r.RGB10_A2]:W.FLOAT,[r.RGB10_A2UI]:W.FLOAT,[r.SRGB8]:W.FLOAT,[r.SRGB8_ALPHA8]:W.FLOAT,[r.R16F]:W.FLOAT,[r.RG16F]:W.FLOAT,[r.RGB16F]:W.FLOAT,[r.RGBA16F]:W.FLOAT,[r.R32F]:W.FLOAT,[r.RG32F]:W.FLOAT,[r.RGB32F]:W.FLOAT,[r.RGBA32F]:W.FLOAT,[r.R11F_G11F_B10F]:W.FLOAT,[r.RGB9_E5]:W.FLOAT,[r.R8I]:W.INT,[r.R8UI]:W.UINT,[r.R16I]:W.INT,[r.R16UI]:W.UINT,[r.R32I]:W.INT,[r.R32UI]:W.UINT,[r.RG8I]:W.INT,[r.RG8UI]:W.UINT,[r.RG16I]:W.INT,[r.RG16UI]:W.UINT,[r.RG32I]:W.INT,[r.RG32UI]:W.UINT,[r.RGB8I]:W.INT,[r.RGB8UI]:W.UINT,[r.RGB16I]:W.INT,[r.RGB16UI]:W.UINT,[r.RGB32I]:W.INT,[r.RGB32UI]:W.UINT,[r.RGBA8I]:W.INT,[r.RGBA8UI]:W.UINT,[r.RGBA16I]:W.INT,[r.RGBA16UI]:W.UINT,[r.RGBA32I]:W.INT,[r.RGBA32UI]:W.UINT,[r.DEPTH_COMPONENT16]:W.FLOAT,[r.DEPTH_COMPONENT24]:W.FLOAT,[r.DEPTH_COMPONENT32F]:W.FLOAT,[r.DEPTH_STENCIL]:W.FLOAT,[r.DEPTH24_STENCIL8]:W.FLOAT,[r.DEPTH32F_STENCIL8]:W.FLOAT}:e={[r.RGB]:W.FLOAT,[r.RGBA]:W.FLOAT,[r.ALPHA]:W.FLOAT,[r.LUMINANCE]:W.FLOAT,[r.LUMINANCE_ALPHA]:W.FLOAT,[r.DEPTH_STENCIL]:W.FLOAT},e}function i2(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[J.UNSIGNED_BYTE]:{[F.RGBA]:r.RGBA8,[F.RGB]:r.RGB8,[F.RG]:r.RG8,[F.RED]:r.R8,[F.RGBA_INTEGER]:r.RGBA8UI,[F.RGB_INTEGER]:r.RGB8UI,[F.RG_INTEGER]:r.RG8UI,[F.RED_INTEGER]:r.R8UI,[F.ALPHA]:r.ALPHA,[F.LUMINANCE]:r.LUMINANCE,[F.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[J.BYTE]:{[F.RGBA]:r.RGBA8_SNORM,[F.RGB]:r.RGB8_SNORM,[F.RG]:r.RG8_SNORM,[F.RED]:r.R8_SNORM,[F.RGBA_INTEGER]:r.RGBA8I,[F.RGB_INTEGER]:r.RGB8I,[F.RG_INTEGER]:r.RG8I,[F.RED_INTEGER]:r.R8I},[J.UNSIGNED_SHORT]:{[F.RGBA_INTEGER]:r.RGBA16UI,[F.RGB_INTEGER]:r.RGB16UI,[F.RG_INTEGER]:r.RG16UI,[F.RED_INTEGER]:r.R16UI,[F.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[J.SHORT]:{[F.RGBA_INTEGER]:r.RGBA16I,[F.RGB_INTEGER]:r.RGB16I,[F.RG_INTEGER]:r.RG16I,[F.RED_INTEGER]:r.R16I},[J.UNSIGNED_INT]:{[F.RGBA_INTEGER]:r.RGBA32UI,[F.RGB_INTEGER]:r.RGB32UI,[F.RG_INTEGER]:r.RG32UI,[F.RED_INTEGER]:r.R32UI,[F.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[J.INT]:{[F.RGBA_INTEGER]:r.RGBA32I,[F.RGB_INTEGER]:r.RGB32I,[F.RG_INTEGER]:r.RG32I,[F.RED_INTEGER]:r.R32I},[J.FLOAT]:{[F.RGBA]:r.RGBA32F,[F.RGB]:r.RGB32F,[F.RG]:r.RG32F,[F.RED]:r.R32F,[F.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[J.HALF_FLOAT]:{[F.RGBA]:r.RGBA16F,[F.RGB]:r.RGB16F,[F.RG]:r.RG16F,[F.RED]:r.R16F},[J.UNSIGNED_SHORT_5_6_5]:{[F.RGB]:r.RGB565},[J.UNSIGNED_SHORT_4_4_4_4]:{[F.RGBA]:r.RGBA4},[J.UNSIGNED_SHORT_5_5_5_1]:{[F.RGBA]:r.RGB5_A1},[J.UNSIGNED_INT_2_10_10_10_REV]:{[F.RGBA]:r.RGB10_A2,[F.RGBA_INTEGER]:r.RGB10_A2UI},[J.UNSIGNED_INT_10F_11F_11F_REV]:{[F.RGB]:r.R11F_G11F_B10F},[J.UNSIGNED_INT_5_9_9_9_REV]:{[F.RGB]:r.RGB9_E5},[J.UNSIGNED_INT_24_8]:{[F.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[J.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[F.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[J.UNSIGNED_BYTE]:{[F.RGBA]:r.RGBA,[F.RGB]:r.RGB,[F.ALPHA]:r.ALPHA,[F.LUMINANCE]:r.LUMINANCE,[F.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[J.UNSIGNED_SHORT_5_6_5]:{[F.RGB]:r.RGB},[J.UNSIGNED_SHORT_4_4_4_4]:{[F.RGBA]:r.RGBA},[J.UNSIGNED_SHORT_5_5_5_1]:{[F.RGBA]:r.RGBA}},e}class tx{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ie,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=i2(e),this.samplerTypes=n2(e);const n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(let s=0;s<n;s++)this.boundTextures[s]=null;this.emptyTextures={};const i=new Kc(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Kc(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,n=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[n]=e}else this.currentLocation!==n&&(this.currentLocation=n,i.activeTexture(i.TEXTURE0+n)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[n]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:n,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)}ensureSamplerType(e){const{boundTextures:n,hasIntegerTextures:i,CONTEXT_UID:s}=this;if(i)for(let o=e-1;o>=0;--o){const a=n[o];a&&a._glTextures[s].samplerType!==W.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){const n=new Kc(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n}initTextureType(e,n){var i;n.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,n.samplerType=this.samplerTypes[n.internalFormat]??W.FLOAT,this.webGLVersion===2&&e.type===J.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=e.type}updateTexture(e){var s;const n=e._glTextures[this.CONTEXT_UID];if(!n)return;const i=this.renderer;if(this.initTextureType(e,n),(s=e.resource)==null?void 0:s.upload(i,e,n))n.samplerType!==W.FLOAT&&(this.hasIntegerTextures=!0);else{const o=e.realWidth,a=e.realHeight,l=i.gl;(n.width!==o||n.height!==a||n.dirtyId<0)&&(n.width=o,n.height=a,l.texImage2D(e.target,0,n.internalFormat,o,a,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}destroyTexture(e,n){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){const s=this.managedTextures.indexOf(e);s!==-1&&ls(this.managedTextures,s,1)}}updateTextureStyle(e){var i;const n=e._glTextures[this.CONTEXT_UID];n&&((e.mipmap===Rr.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?n.mipmap=!1:n.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?n.wrapMode=Nn.CLAMP:n.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)}setStyle(e,n){const i=this.gl;if(n.mipmap&&e.mipmap!==Rr.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,n.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===zr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===zr.LINEAR){const o=Math.min(e.anisotropicLevel,i.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===zr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===zr.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}tx.extension={type:$.RendererSystem,name:"texture"};Q.add(tx);class rx{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:i}=this,s=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,n){const{gl:i,renderer:s}=this;n&&s.shader.bind(n),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:n,renderer:i,CONTEXT_UID:s}=this,o=n.createTransformFeedback();e._glTransformFeedbacks[s]=o,n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,o);for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];l&&(i.buffer.update(l),l._glBuffers[s].refCount++,n.bindBufferBase(n.TRANSFORM_FEEDBACK_BUFFER,a,l._glBuffers[s].buffer||null))}return n.bindTransformFeedback(n.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),o}disposeTransformFeedback(e,n){const i=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const o=this.renderer.buffer;if(o)for(let a=0;a<e.buffers.length;a++){const l=e.buffers[a];if(!l)continue;const u=l._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!n&&o.dispose(l,n))}i&&(n||s.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}rx.extension={type:$.RendererSystem,name:"transformFeedback"};Q.add(rx);class ru{constructor(e){this.renderer=e}init(e){this.screen=new ae(0,0,e.width,e.height),this.element=e.view||X.ADAPTER.createCanvas(),this.resolution=e.resolution||X.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,n){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(n*this.resolution);const i=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",i,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var n;e&&((n=this.element.parentNode)==null||n.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ru.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ru.extension={type:[$.RendererSystem,$.CanvasRendererSystem],name:"_view"};Q.add(ru);X.PREFER_ENV=bi.WEBGL2;X.STRICT_TEXTURE_CACHE=!1;X.RENDER_OPTIONS={...eu.defaultOptions,...Jl.defaultOptions,...ru.defaultOptions,...tu.defaultOptions};Object.defineProperties(X,{WRAP_MODE:{get(){return ie.defaultOptions.wrapMode},set(r){le("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ie.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return ie.defaultOptions.scaleMode},set(r){le("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ie.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return ie.defaultOptions.mipmap},set(r){le("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ie.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return ie.defaultOptions.anisotropicLevel},set(r){le("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ie.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return le("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),gt.defaultResolution},set(r){gt.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return le("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),gt.defaultMultisample},set(r){gt.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return Yn.defaultMaxTextures},set(r){le("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Yn.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return Yn.defaultBatchSize},set(r){le("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Yn.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return Yn.canUploadSameBuffer},set(r){le("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Yn.canUploadSameBuffer=r}},GC_MODE:{get(){return Kn.defaultMode},set(r){le("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Kn.defaultMode=r}},GC_MAX_IDLE:{get(){return Kn.defaultMaxIdle},set(r){le("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Kn.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Kn.defaultCheckCountMax},set(r){le("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Kn.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return $r.defaultVertexPrecision},set(r){le("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),$r.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return $r.defaultFragmentPrecision},set(r){le("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),$r.defaultFragmentPrecision=r}}});var gi=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(gi||{});class qc{constructor(e,n=null,i=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=n,this.priority=i,this.once=s}match(e,n=null){return this.fn===e&&this.context===n}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const nx=class At{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new qc(null,null,1/0),this.deltaMS=1/At.targetFPMS,this.elapsedMS=1/At.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,i=gi.NORMAL){return this._addListener(new qc(e,n,i))}addOnce(e,n,i=gi.NORMAL){return this._addListener(new qc(e,n,i,!0))}_addListener(e){let n=this._head.next,i=this._head;if(!n)e.connect(i);else{for(;n;){if(e.priority>n.priority){e.connect(i);break}i=n,n=n.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,n){let i=this._head.next;for(;i;)i.match(e,n)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const o=e-this._lastFrame|0;if(o<this._minElapsedMS)return;this._lastFrame=e-o%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*At.targetFPMS;const i=this._head;let s=i.next;for(;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,n)/1e3,At.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!At._shared){const e=At._shared=new At;e.autoStart=!0,e._protected=!0}return At._shared}static get system(){if(!At._system){const e=At._system=new At;e.autoStart=!0,e._protected=!0}return At._system}};nx.targetFPMS=.06;let It=nx;Object.defineProperties(X,{TARGET_FPMS:{get(){return It.targetFPMS},set(r){le("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),It.targetFPMS=r}}});class ix{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,gi.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?It.shared:new It,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}ix.extension=$.Application;Q.add(ix);const sx=[];Q.handleByList($.Renderer,sx);function s2(r){for(const e of sx)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}var o2=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,a2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const l2=o2,ox=a2;class ax{constructor(e){this.renderer=e}contextChange(e){let n;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}n>=We.HIGH?this.multisample=We.HIGH:n>=We.MEDIUM?this.multisample=We.MEDIUM:n>=We.LOW?this.multisample=We.LOW:this.multisample=We.NONE}destroy(){}}ax.extension={type:$.RendererSystem,name:"_multisample"};Q.add(ax);class u2{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class lx{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:n,CONTEXT_UID:i}=this,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:n}=this;n.bindBuffer(e,null)}bindBufferBase(e,n){const{gl:i,CONTEXT_UID:s}=this;if(this.boundBufferBases[n]!==e){const o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[n]=e,i.bindBufferBase(i.UNIFORM_BUFFER,n,o.buffer)}}bindBufferRange(e,n,i){const{gl:s,CONTEXT_UID:o}=this;i=i||0;const a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,n||0,a.buffer,i*256,256)}update(e){const{gl:n,CONTEXT_UID:i}=this,s=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{const o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}}dispose(e,n){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),i&&(n||s.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const n=Object.keys(this.managedBuffers);for(let i=0;i<n.length;i++)this.dispose(this.managedBuffers[n[i]],e)}createGLBuffer(e){const{CONTEXT_UID:n,gl:i}=this;return e._glBuffers[n]=new u2(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]}}lx.extension={type:$.RendererSystem,name:"buffer"};Q.add(lx);class ux{constructor(e){this.renderer=e}render(e,n){const i=this.renderer;let s,o,a,l;if(n&&(s=n.renderTexture,o=n.clear,a=n.transform,l=n.skipUpdateTransform),this.renderingToScreen=!s,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=a,!i.context.isLost){if(s||(this.lastObjectRendered=e),!l){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}i.renderTexture.bind(s),i.batch.currentRenderer.start(),(o??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),s&&(n.blit&&i.framebuffer.blit(),s.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ux.extension={type:$.RendererSystem,name:"objectRenderer"};Q.add(ux);const gl=class Dd extends r2{constructor(e){super(),this.type=Qy.WEBGL,e=Object.assign({},X.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ur({projectionMatrix:new Ae},!0);const n={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Dd.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(n),"useContextAlpha"in e&&(le("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=Dd.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:RS()}render(e,n){this.objectRenderer.render(e,n)}resize(e,n){this._view.resizeView(e,n)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return le("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return le("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return le("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return le("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){le("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return le("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){le("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return le("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,n){return this.textureGenerator.generateTexture(e,n)}};gl.extension={type:$.Renderer,priority:1},gl.__plugins={},gl.__systems={};let vp=gl;Q.handleByMap($.RendererPlugin,vp.__plugins);Q.handleByMap($.RendererSystem,vp.__systems);Q.add(vp);class cx extends Xo{constructor(e,n){const{width:i,height:s}=n||{};super(i,s),this.items=[],this.itemDirtyIds=[];for(let o=0;o<e;o++){const a=new ie;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,n){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof Xo?this.addResourceAt(e[i],i):this.addResourceAt(k1(e[i],n),i))}dispose(){for(let e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,n){if(!this.items[n])throw new Error(`Index ${n} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)}unbind(e){super.unbind(e);for(let n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(e).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),this.update(),Promise.resolve(this)}),this._load}}class c2 extends cx{constructor(e,n){const{width:i,height:s}=n||{};let o,a;Array.isArray(e)?(o=e,a=e.length):a=e,super(a,{width:i,height:s}),o&&this.initFromArray(o,n)}addBaseTextureAt(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ss.TEXTURE_2D_ARRAY}upload(e,n,i){const{length:s,itemDirtyIds:o,items:a}=this,{gl:l}=e;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,s,0,n.format,i.type,null);for(let u=0;u<s;u++){const c=a[u];o[u]<c.dirtyId&&(o[u]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,n.format,i.type,c.resource.source))}return!0}}class h2 extends Zr{constructor(e){super(e)}static test(e){const{OffscreenCanvas:n}=globalThis;return n&&e instanceof n?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const hx=class ao extends cx{constructor(e,n){const{width:i,height:s,autoLoad:o,linkBaseTexture:a}=n||{};if(e&&e.length!==ao.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:s});for(let l=0;l<ao.SIDES;l++)this.items[l].target=ss.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=a!==!1,e&&this.initFromArray(e,n),o!==!1&&this.load()}bind(e){super.bind(e),e.target=ss.TEXTURE_CUBE_MAP}addBaseTextureAt(e,n,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[n])throw new Error(`Index ${n} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ss.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this}upload(e,n,i){const s=this.itemDirtyIds;for(let o=0;o<ao.SIDES;o++){const a=this.items[o];(s[o]<a.dirtyId||i.dirtyId<n.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(e,a,i),s[o]=a.dirtyId):s[o]<-1&&(e.gl.texImage2D(a.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ao.SIDES}};hx.SIDES=6;let d2=hx;class Zi extends Zr{constructor(e,n){n=n||{};let i,s,o;typeof e=="string"?(i=Zi.EMPTY,s=e,o=!0):(i=e,s=null,o=!1),super(i),this.url=s,this.crossOrigin=n.crossOrigin??!0,this.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,this.ownsImageBitmap=n.ownsImageBitmap??o,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,n)=>{if(this.url===null){e(this);return}try{const i=await X.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await i.blob();if(this.destroyed)return;const o=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===wt.UNPACK?"premultiply":"none"});if(this.destroyed){o.close();return}this.source=o,this.update(),e(this)}catch(i){if(this.destroyed)return;n(i),this.onError.emit(i)}}),this._load)}upload(e,n,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),super.upload(e,n,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Zi._EMPTY=Zi._EMPTY??X.ADAPTER.createCanvas(0,0),Zi._EMPTY}}const Fd=class vl extends Zr{constructor(e,n){n=n||{},super(X.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=n.scale||1,this._overrideWidth=n.width,this._overrideHeight=n.height,this._resolve=null,this._crossorigin=n.crossorigin,this._load=null,n.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},vl.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Zr.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=n=>{this._resolve&&(e.onerror=null,this.onError.emit(n))},e.onload=()=>{if(!this._resolve)return;const n=e.width,i=e.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=n*this.scale,o=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/i*n,o=this._overrideHeight||this._overrideWidth/n*i),s=Math.round(s),o=Math.round(o);const a=this.source;a.width=s,a.height=o,a._pixiId=`canvas_${mi()}`,a.getContext("2d").drawImage(e,0,0,n,i,0,0,s,o),this._resolve(),this._resolve=null}}static getSize(e){const n=vl.SVG_SIZE.exec(e),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,n){return n==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&vl.SVG_XML.test(e)}};Fd.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Fd.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Od=Fd;class f2 extends Zr{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const jd=class Ud extends Zr{constructor(e,n){if(n=n||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");n.autoLoad!==!1&&i.setAttribute("preload","auto"),n.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),n.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),n.loop===!0&&i.setAttribute("loop",""),n.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];Zr.crossOrigin(i,s,n.crossorigin);for(let o=0;o<e.length;++o){const a=document.createElement("source");let{src:l,mime:u}=e[o];if(l=l||e[o],l.startsWith("data:"))u=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const c=l.split("?").shift().toLowerCase(),d=c.slice(c.lastIndexOf(".")+1);u=u||Ud.MIME_TYPES[d]||`video/${d}`}a.src=l,u&&(a.type=u),i.appendChild(a)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=n.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=n.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),n.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const n=It.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((n,i)=>{this.valid?n(this):(this._resolve=n,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const n=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!n&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(It.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(It.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(It.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,n){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Ud.TYPES.includes(n)}};jd.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],jd.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let dx=jd;Td.push(Zi,F1,h2,dx,f2,Od,Bu,d2,c2);class nu{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ae.EMPTY:(e=e||new ae(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,n){const{a:i,b:s,c:o,d:a,tx:l,ty:u}=e,c=i*n.x+o*n.y+l,d=s*n.x+a*n.y+u;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let n=this.minX,i=this.minY,s=this.maxX,o=this.maxY,a=e[0],l=e[1];n=a<n?a:n,i=l<i?l:i,s=a>s?a:s,o=l>o?l:o,a=e[2],l=e[3],n=a<n?a:n,i=l<i?l:i,s=a>s?a:s,o=l>o?l:o,a=e[4],l=e[5],n=a<n?a:n,i=l<i?l:i,s=a>s?a:s,o=l>o?l:o,a=e[6],l=e[7],n=a<n?a:n,i=l<i?l:i,s=a>s?a:s,o=l>o?l:o,this.minX=n,this.minY=i,this.maxX=s,this.maxY=o}addFrame(e,n,i,s,o){this.addFrameMatrix(e.worldTransform,n,i,s,o)}addFrameMatrix(e,n,i,s,o){const a=e.a,l=e.b,u=e.c,c=e.d,d=e.tx,f=e.ty;let p=this.minX,m=this.minY,g=this.maxX,x=this.maxY,b=a*n+u*i+d,y=l*n+c*i+f;p=b<p?b:p,m=y<m?y:m,g=b>g?b:g,x=y>x?y:x,b=a*s+u*i+d,y=l*s+c*i+f,p=b<p?b:p,m=y<m?y:m,g=b>g?b:g,x=y>x?y:x,b=a*n+u*o+d,y=l*n+c*o+f,p=b<p?b:p,m=y<m?y:m,g=b>g?b:g,x=y>x?y:x,b=a*s+u*o+d,y=l*s+c*o+f,p=b<p?b:p,m=y<m?y:m,g=b>g?b:g,x=y>x?y:x,this.minX=p,this.minY=m,this.maxX=g,this.maxY=x}addVertexData(e,n,i){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;for(let u=n;u<i;u+=2){const c=e[u],d=e[u+1];s=c<s?c:s,o=d<o?d:o,a=c>a?c:a,l=d>l?d:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}addVertices(e,n,i,s){this.addVerticesMatrix(e.worldTransform,n,i,s)}addVerticesMatrix(e,n,i,s,o=0,a=o){const l=e.a,u=e.b,c=e.c,d=e.d,f=e.tx,p=e.ty;let m=this.minX,g=this.minY,x=this.maxX,b=this.maxY;for(let y=i;y<s;y+=2){const _=n[y],v=n[y+1],w=l*_+c*v+f,E=d*v+u*_+p;m=Math.min(m,w-o),x=Math.max(x,w+o),g=Math.min(g,E-a),b=Math.max(b,E+a)}this.minX=m,this.minY=g,this.maxX=x,this.maxY=b}addBounds(e){const n=this.minX,i=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<n?e.minX:n,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o}addBoundsMask(e,n){const i=e.minX>n.minX?e.minX:n.minX,s=e.minY>n.minY?e.minY:n.minY,o=e.maxX<n.maxX?e.maxX:n.maxX,a=e.maxY<n.maxY?e.maxY:n.maxY;if(i<=o&&s<=a){const l=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=i<l?i:l,this.minY=s<u?s:u,this.maxX=o>c?o:c,this.maxY=a>d?a:d}}addBoundsMatrix(e,n){this.addFrameMatrix(n,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,n){const i=e.minX>n.x?e.minX:n.x,s=e.minY>n.y?e.minY:n.y,o=e.maxX<n.x+n.width?e.maxX:n.x+n.width,a=e.maxY<n.y+n.height?e.maxY:n.y+n.height;if(i<=o&&s<=a){const l=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=i<l?i:l,this.minY=s<u?s:u,this.maxX=o>c?o:c,this.maxY=a>d?a:d}}pad(e=0,n=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n)}addFramePad(e,n,i,s,o,a){e-=o,n-=a,i+=o,s+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>s?this.maxY:s}}class Oe extends ra{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new mp,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new nu,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const n=Object.keys(e);for(let i=0;i<n.length;++i){const s=n[i];Object.defineProperty(Oe.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new ae),n=this._boundsRect),this._bounds.getRectangle(n)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ae),e=this._localBoundsRect),this._localBounds||(this._localBounds=new nu);const n=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;const a=this.getBounds(!1,e);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a}toGlobal(e,n,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)}toLocal(e,n,i,s){return n&&(e=n.toGlobal(e,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,n=0,i=1,s=1,o=0,a=0,l=0,u=0,c=0){return this.position.x=e,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=l,this.pivot.x=u,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new p2),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*oT}set angle(e){this.transform.rotation=e*aT}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=e,this._mask){const n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}}}class p2 extends Oe{constructor(){super(...arguments),this.sortDirty=null}}Oe.prototype.displayObjectUpdateTransform=Oe.prototype.updateTransform;const m2=new Ae;function g2(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const fx=class zd extends Oe{constructor(){super(),this.children=[],this.sortableChildren=zd.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let n=0;n<e.length;n++)this.addChild(e[n]);else{const n=e[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]}addChildAt(e,n){if(n<0||n>this.children.length)throw new Error(`${e}addChildAt: The index ${n} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e}swapChildren(e,n){if(e===n)return;const i=this.getChildIndex(e),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=e,this.onChildrenChange(i<s?i:s)}getChildIndex(e){const n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n}setChildIndex(e,n){if(n<0||n>=this.children.length)throw new Error(`The index ${n} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);ls(this.children,i,1),this.children.splice(n,0,e),this.onChildrenChange(n)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let n=0;n<e.length;n++)this.removeChild(e[n]);else{const n=e[0],i=this.children.indexOf(n);if(i===-1)return null;n.parent=null,n.transform._parentID=-1,ls(this.children,i,1),this._boundsID++,this.onChildrenChange(i),n.emit("removed",this),this.emit("childRemoved",n,this,i)}return e[0]}removeChildAt(e){const n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,ls(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n}removeChildren(e=0,n=this.children.length){const i=e,s=n,o=s-i;let a;if(o>0&&o<=s){a=this.children.splice(i,o);for(let l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s._lastSortedIndex=n,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(g2),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,n=this.children.length;e<n;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){const i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,n=!1){const i=super.getLocalBounds(e);if(!n)for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s];a.visible&&a.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const n=e.renderTexture.sourceFrame;if(!(n.width>0&&n.height>0))return;let i,s;this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==zd.prototype._render&&(i=this.getBounds(!0));const o=e.projection.transform;if(o&&(s?(s=m2.copyFrom(s),s.prepend(o)):s=o),i&&n.intersects(i,s))this._render(e);else if(this.cullArea)return;for(let a=0,l=this.children.length;a<l;++a){const u=this.children[a],c=u.cullable;u.cullable=c||!this.cullArea,u.render(e),u.cullable=c}}render(e){var n;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(n=this.filters)!=null&&n.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,s=this.children.length;i<s;++i)this.children[i].render(e)}}renderAdvanced(e){var o,a,l;const n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<n.length;u++)n[u].enabled&&this._enabledFilters.push(n[u])}const s=n&&((o=this._enabledFilters)==null?void 0:o.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Qe.NONE));if(s&&e.batch.flush(),n&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,c=this.children.length;u<c;++u)this.children[u].render(e)}s&&e.batch.flush(),i&&e.mask.pop(this),n&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const n=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(n)for(let s=0;s<i.length;++s)i[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e}};fx.defaultSortableChildren=!1;let hr=fx;hr.prototype.containerUpdateTransform=hr.prototype.updateTransform;Object.defineProperties(X,{SORTABLE_CHILDREN:{get(){return hr.defaultSortableChildren},set(r){le("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),hr.defaultSortableChildren=r}}});const Ys=new de,v2=new Uint16Array([0,1,2,0,2,3]);class Ms extends hr{constructor(e){super(),this._anchor=new Hr(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Se(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=te.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||q.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=v2,this.pluginName="batch",this.isSprite=!0,this._roundPixels=X.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=xn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=xn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,c=this.vertexData,d=e.trim,f=e.orig,p=this._anchor;let m=0,g=0,x=0,b=0;if(d?(g=d.x-p._x*f.width,m=g+d.width,b=d.y-p._y*f.height,x=b+d.height):(g=-p._x*f.width,m=g+f.width,b=-p._y*f.height,x=b+f.height),c[0]=i*g+o*b+l,c[1]=a*b+s*g+u,c[2]=i*m+o*b+l,c[3]=a*b+s*m+u,c[4]=i*m+o*x+l,c[5]=a*x+s*m+u,c[6]=i*g+o*x+l,c[7]=a*x+s*g+u,this._roundPixels){const y=X.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,n=this.vertexTrimmedData,i=e.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,l=o.b,u=o.c,c=o.d,d=o.tx,f=o.ty,p=-s._x*i.width,m=p+i.width,g=-s._y*i.height,x=g+i.height;if(n[0]=a*p+u*g+d,n[1]=c*g+l*p+f,n[2]=a*m+u*g+d,n[3]=c*g+l*m+f,n[4]=a*m+u*x+d,n[5]=c*x+l*m+f,n[6]=a*p+u*x+d,n[7]=c*x+l*p+f,this._roundPixels){const b=X.RESOLUTION;for(let y=0;y<n.length;++y)n[y]=Math.round(n[y]*b)/b}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new nu),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ae),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ys);const n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x;let o=0;return Ys.x>=s&&Ys.x<s+n&&(o=-i*this.anchor.y,Ys.y>=o&&Ys.y<o+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const n=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(e,n){const i=e instanceof q?e:q.from(e,n);return new Ms(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const n=xn(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const n=xn(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const px=new Ae;Oe.prototype._cacheAsBitmap=!1;Oe.prototype._cacheData=null;Oe.prototype._cacheAsBitmapResolution=null;Oe.prototype._cacheAsBitmapMultisample=null;class y2{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Oe.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(r){r!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(r){r!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=r,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(r){if(this._cacheAsBitmap===r)return;this._cacheAsBitmap=r;let e;r?(this._cacheData||(this._cacheData=new y2),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Oe.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Oe.prototype._initCachedDisplayObject=function(r){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,r.batch.flush();const n=this.getLocalBounds(new ae,!0);if((m=this.filters)!=null&&m.length){const g=this.filters[0].padding;n.pad(g)}const i=this.cacheAsBitmapResolution||r.resolution;n.ceil(i),n.width=Math.max(n.width,1/i),n.height=Math.max(n.height,1/i);const s=r.renderTexture.current,o=r.renderTexture.sourceFrame.clone(),a=r.renderTexture.destinationFrame.clone(),l=r.projection.transform,u=wi.create({width:n.width,height:n.height,resolution:i,multisample:this.cacheAsBitmapMultisample??r.multisample}),c=`cacheAsBitmap_${mi()}`;this._cacheData.textureCacheId=c,ie.addToCache(u.baseTexture,c),q.addToCache(u,c);const d=this.transform.localTransform.copyTo(px).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:u,clear:!0,transform:d,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=l,r.renderTexture.bind(s,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new Ms(u);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(n.x/n.width),f.anchor.y=-(n.y/n.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Oe.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Oe.prototype._initCachedDisplayObjectCanvas=function(r){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new ae,!0),n=this.alpha;this.alpha=1;const i=r.canvasContext.activeContext,s=r._projTransform,o=this.cacheAsBitmapResolution||r.resolution;e.ceil(o),e.width=Math.max(e.width,1/o),e.height=Math.max(e.height,1/o);const a=wi.create({width:e.width,height:e.height,resolution:o}),l=`cacheAsBitmap_${mi()}`;this._cacheData.textureCacheId=l,ie.addToCache(a.baseTexture,l),q.addToCache(a,l);const u=px;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),r.canvasContext.activeContext=i,r._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const c=new Ms(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};Oe.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Oe.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Oe.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ie.removeFromCache(this._cacheData.textureCacheId),q.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Oe.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};Oe.prototype.name=null;hr.prototype.getChildByName=function(r,e){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===r)return this.children[n];if(e)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(r,!0);if(o)return o}return null};Oe.prototype.getGlobalPosition=function(r=new de,e=!1){return this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};var x2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class _2 extends gt{constructor(e=1){super(l2,x2,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const b2={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},w2=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function E2(r){const e=b2[r],n=e.length;let i=w2,s="";const o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let a;for(let l=0;l<r;l++){let u=o.replace("%index%",l.toString());a=l,l>=n&&(a=r-l-1),u=u.replace("%value%",e[a].toString()),s+=u,s+=`
`}return i=i.replace("%blur%",s),i=i.replace("%size%",r.toString()),i}const C2=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function S2(r,e){const n=Math.ceil(r/2);let i=C2,s="",o;e?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let a=0;a<r;a++){let l=o.replace("%index%",a.toString());l=l.replace("%sampleIndex%",`${a-(n-1)}.0`),s+=l,s+=`
`}return i=i.replace("%blur%",s),i=i.replace("%size%",r.toString()),i}class Gd extends gt{constructor(e,n=8,i=4,s=gt.defaultResolution,o=5){const a=S2(o,e),l=E2(o);super(a,l),this.horizontal=e,this.resolution=s,this._quality=0,this.quality=i,this.blur=n}apply(e,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,i,s);else{const o=e.getFilterTexture(),a=e.renderer;let l=n,u=o;this.state.blend=!1,e.applyFilter(this,l,u,Cr.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(l,Cr.BLIT),this.uniforms.uSampler=u;const d=u;u=l,l=d,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,i,s),e.returnFilterTexture(o)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class T2 extends gt{constructor(e=8,n=4,i=gt.defaultResolution,s=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Gd(!0,e,n,i,s),this.blurYFilter=new Gd(!1,e,n,i,s),this.resolution=i,this.quality=n,this.blur=e,this.repeatEdgePixels=!1}apply(e,n,i,s){const o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){const l=e.getFilterTexture();this.blurXFilter.apply(e,n,l,Cr.CLEAR),this.blurYFilter.apply(e,l,i,s),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,n,i,s):this.blurXFilter.apply(e,n,i,s)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var A2=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Hd extends gt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(ox,A2,e),this.alpha=1}_loadMatrix(e,n=!1){let i=e;n&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,n,i){return e[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],e[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],e[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],e[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],e[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],e[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],e[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],e[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],e[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],e[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],e[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],e[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],e[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],e[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],e[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],e[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],e[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],e[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],e[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],e[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],e}_colorMatrix(e){const n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n}brightness(e,n){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)}tint(e,n){const[i,s,o]=Se.shared.setValue(e).toArray(),a=[i,0,0,0,0,0,s,0,0,0,0,0,o,0,0,0,0,0,1,0];this._loadMatrix(a,n)}greyscale(e,n){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)}blackAndWhite(e){const n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)}hue(e,n){e=(e||0)/180*Math.PI;const i=Math.cos(e),s=Math.sin(e),o=Math.sqrt,a=1/3,l=o(a),u=i+(1-i)*a,c=a*(1-i)-l*s,d=a*(1-i)+l*s,f=a*(1-i)+l*s,p=i+a*(1-i),m=a*(1-i)-l*s,g=a*(1-i)-l*s,x=a*(1-i)+l*s,b=i+a*(1-i),y=[u,c,d,0,0,f,p,m,0,0,g,x,b,0,0,0,0,0,1,0];this._loadMatrix(y,n)}contrast(e,n){const i=(e||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)}saturate(e=0,n){const i=e*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)}desaturate(){this.saturate(-1)}negative(e){const n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)}sepia(e){const n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)}technicolor(e){const n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)}polaroid(e){const n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)}toBGR(e){const n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)}kodachrome(e){const n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)}browni(e){const n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)}vintage(e){const n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)}colorTone(e,n,i,s,o){e=e||.2,n=n||.15,i=i||16770432,s=s||3375104;const a=Se.shared,[l,u,c]=a.setValue(i).toArray(),[d,f,p]=a.setValue(s).toArray(),m=[.3,.59,.11,0,0,l,u,c,e,0,d,f,p,n,0,l-d,u-f,c-p,0,0];this._loadMatrix(m,o)}night(e,n){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)}predator(e,n){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,n)}lsd(e){const n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Hd.prototype.grayscale=Hd.prototype.greyscale;var k2=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,N2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class I2 extends gt{constructor(e,n){const i=new Ae;e.renderable=!1,super(N2,k2,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,n==null&&(n=20),this.scale=new de(n,n)}apply(e,n,i,s){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),l=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&l!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/l,this.uniforms.rotation[3]=o.d/l),e.applyFilter(this,n,i,s)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var P2=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,R2=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class M2 extends gt{constructor(){super(R2,P2)}}var B2=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class L2 extends gt{constructor(e=.5,n=Math.random()){super(ox,B2,{uNoise:0,uSeed:0}),this.noise=e,this.seed=n}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const Vg={AlphaFilter:_2,BlurFilter:T2,BlurFilterPass:Gd,ColorMatrixFilter:Hd,DisplacementFilter:I2,FXAAFilter:M2,NoiseFilter:L2};Object.entries(Vg).forEach(([r,e])=>{Object.defineProperty(Vg,r,{get(){return le("7.1.0",`filters.${r} has moved to ${r}`),e}})});class D2{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(It.system.add(this.tickerUpdate,this,gi.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(It.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const mn=new D2;class sa{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=sa.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new de,this.page=new de,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,n,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,n,i,s,o){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class iu extends sa{constructor(){super(...arguments),this.client=new de,this.movement=new de,this.offset=new de,this.global=new de,this.screen=new de}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,n,i){return e.worldTransform.applyInverse(i||this.global,n)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,n,i,s,o,a,l,u,c,d,f,p,m,g,x){throw new Error("Method not implemented.")}}class er extends iu{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class cs extends iu{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}cs.DOM_DELTA_PIXEL=0,cs.DOM_DELTA_LINE=1,cs.DOM_DELTA_PAGE=2;const F2=2048,O2=new de,Qc=new de;class j2{constructor(e){this.dispatch=new ra,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,n){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:n,priority:0}),this.mappingTable[e].sort((i,s)=>i.priority-s.priority)}dispatchEvent(e,n){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,n),this.dispatch.emit(n||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const n=this.mappingTable[e.type];if(n)for(let i=0,s=n.length;i<s;i++)n[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,n){mn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,O2.set(e,n),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,n){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,o=i.length-1;s<o;s++)if(e.currentTarget=i[s],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,n),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=i.length-2;s>=0;s--)if(e.currentTarget=i[s],this.notifyTarget(e,n),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,n,i=this._allInteractiveElements){if(i.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(n)?n:[n];for(let o=i.length-1;o>=0;o--)s.forEach(a=>{e.currentTarget=i[o],this.notifyTarget(e,a)})}propagationPath(e){const n=[e];for(let i=0;i<F2&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");n.push(e.parent),e=e.parent}return n.reverse(),n}hitTestMoveRecursive(e,n,i,s,o,a=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(mn.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let f=d.length-1;f>=0;f--){const p=d[f],m=this.hitTestMoveRecursive(p,this._isInteractive(n)?n:p.eventMode,i,s,o,a||o(e,i));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const g=e.isInteractive();(m.length>0||g)&&(g&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),l=!0}}}const u=this._isInteractive(n),c=e.isInteractive();return u&&c&&this._allInteractiveElements.push(e),a||this._hitElements.length>0?null:l?this._hitElements:u&&!o(e,i)&&s(e,i)?c?[e]:[]:null}hitTestRecursive(e,n,i,s,o){if(this._interactivePrune(e)||o(e,i))return null;if((e.eventMode==="dynamic"||n==="dynamic")&&(mn.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let c=u.length-1;c>=0;c--){const d=u[c],f=this.hitTestRecursive(d,this._isInteractive(n)?n:d.eventMode,i,s,o);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();return(f.length>0||p)&&f.push(e),f}}}const a=this._isInteractive(n),l=e.isInteractive();return a&&s(e,i)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,n){var i;if(e.hitArea&&(e.worldTransform.applyInverse(n,Qc),!e.hitArea.contains(Qc.x,Qc.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((i=s.containsPoint)!=null&&i.call(s,n)))return!0}return!1}hitTestFn(e,n){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(n):!1}notifyTarget(e,n){var o,a;n=n??e.type;const i=`on${n}`;(a=(o=e.currentTarget)[i])==null||a.call(o,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${n}capture`:n;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,n)}mapPointerDown(e){if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerdown"),n.pointerType==="touch")this.dispatchEvent(n,"touchstart");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const s=n.button===2;this.dispatchEvent(n,s?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=n.composedPath(),this.freeEvent(n)}mapPointerMove(e){var u,c;if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const n=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i=n.pointerType==="mouse"||n.pointerType==="pen",s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.overTargets);if(((u=s.overTargets)==null?void 0:u.length)>0&&o!==n.target){const d=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,d,o);if(this.dispatchEvent(f,"pointerout"),i&&this.dispatchEvent(f,"mouseout"),!n.composedPath().includes(o)){const p=this.createPointerEvent(e,"pointerleave",o);for(p.eventPhase=p.AT_TARGET;p.target&&!n.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),i&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(o!==n.target){const d=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(n,d);this.dispatchEvent(f,"pointerover"),i&&this.dispatchEvent(f,"mouseover");let p=o==null?void 0:o.parent;for(;p&&p!==this.rootTarget.parent&&p!==n.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const m=this.clonePointerEvent(n,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==o&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),i&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}const a=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?a.push("pointermove"):this.dispatchEvent(n,"pointermove"),l&&a.push("globalpointermove"),n.pointerType==="touch"&&(this.moveOnAll?a.splice(1,0,"touchmove"):this.dispatchEvent(n,"touchmove"),l&&a.push("globaltouchmove")),i&&(this.moveOnAll?a.splice(1,0,"mousemove"):this.dispatchEvent(n,"mousemove"),l&&a.push("globalmousemove"),this.cursor=(c=n.target)==null?void 0:c.cursor),a.length>0&&this.all(n,a),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=n.composedPath(),this.freeEvent(n)}mapPointerOver(e){var a;if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),i=this.createPointerEvent(e),s=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),s&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(a=i.target)==null?void 0:a.cursor);const o=this.clonePointerEvent(i,"pointerenter");for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),s&&this.notifyTarget(o,"mouseenter"),o.target=o.target.parent;n.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(o)}mapPointerOut(e){if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId);if(n.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(n.overTargets),o=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(o),i&&this.dispatchEvent(o,"mouseout");const a=this.createPointerEvent(e,"pointerleave",s);for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseleave"),a.target=a.target.parent;n.overTargets=null,this.freeEvent(o),this.freeEvent(a)}this.cursor=null}mapPointerUp(e){if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.dispatchEvent(i,l?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),o=this.findMountedTarget(s.pressTargetsByButton[e.button]);let a=o;if(o&&!i.composedPath().includes(o)){let l=o;for(;l&&!i.composedPath().includes(l);){if(i.currentTarget=l,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const u=i.button===2;this.notifyTarget(i,u?"rightupoutside":"mouseupoutside")}l=l.parent}delete s.pressTargetsByButton[e.button],a=l}if(a){const l=this.clonePointerEvent(i,"click");l.target=a,l.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:n});const u=s.clicksByButton[e.button];if(u.target===l.target&&n-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=l.target,u.timeStamp=n,l.detail=u.clickCount,l.pointerType==="mouse"){const c=l.button===2;this.dispatchEvent(l,c?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof er)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const n=this.trackingData(e.pointerId),i=this.findMountedTarget(n.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(i){let o=i;for(;o;)s.currentTarget=o,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),o=o.parent;delete n.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof cs)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const n=this.createWheelEvent(e);this.dispatchEvent(n),this.freeEvent(n)}findMountedTarget(e){if(!e)return null;let n=e[0];for(let i=1;i<e.length&&e[i].parent===n;i++)n=e[i];return n}createPointerEvent(e,n,i){const s=this.allocateEvent(er);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=i??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof n=="string"&&(s.type=n),s}createWheelEvent(e){const n=this.allocateEvent(cs);return this.copyWheelData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=this.hitTest(n.global.x,n.global.y),n}clonePointerEvent(e,n){const i=this.allocateEvent(er);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=n??i.type,i}copyWheelData(e,n){n.deltaMode=e.deltaMode,n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ}copyPointerData(e,n){e instanceof er&&n instanceof er&&(n.pointerId=e.pointerId,n.width=e.width,n.height=e.height,n.isPrimary=e.isPrimary,n.pointerType=e.pointerType,n.pressure=e.pressure,n.tangentialPressure=e.tangentialPressure,n.tiltX=e.tiltX,n.tiltY=e.tiltY,n.twist=e.twist)}copyMouseData(e,n){e instanceof iu&&n instanceof iu&&(n.altKey=e.altKey,n.button=e.button,n.buttons=e.buttons,n.client.copyFrom(e.client),n.ctrlKey=e.ctrlKey,n.metaKey=e.metaKey,n.movement.copyFrom(e.movement),n.screen.copyFrom(e.screen),n.shiftKey=e.shiftKey,n.global.copyFrom(e.global))}copyData(e,n){n.isTrusted=e.isTrusted,n.srcElement=e.srcElement,n.timeStamp=performance.now(),n.type=e.type,n.detail=e.detail,n.view=e.view,n.which=e.which,n.layer.copyFrom(e.layer),n.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const n=this.eventPool.get(e).pop()||new e(this);return n.eventPhase=n.NONE,n.currentTarget=null,n.path=null,n.target=null,n}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const n=e.constructor;this.eventPool.has(n)||this.eventPool.set(n,[]),this.eventPool.get(n).push(e)}notifyListeners(e,n){const i=e.currentTarget._events[n];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(n,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let s=0,o=i.length;s<o&&!e.propagationImmediatelyStopped;s++)i[s].once&&e.currentTarget.removeListener(n,i[s].fn,void 0,!0),i[s].fn.call(i[s].context,e)}}const U2=1,z2={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},$d=class Vd{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new j2(null),mn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new er(null),this.rootWheelEvent=new cs(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Vd.defaultEventFeatures},{set:(n,i,s)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),n[i]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:n,resolution:i}=this.renderer;this.setTargetElement(n),this.resolution=i,Vd._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let n=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(n=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":n&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":n&&Object.assign(this.domElement.style,i);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,s=n.length;i<s;i++){const o=n[i],a=this.bootstrapEvent(this.rootPointerEvent,o);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,mn.pointerMoved();const n=this.normalizeToPointerData(e);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let n=e.target;e.composedPath&&e.composedPath().length>0&&(n=e.composedPath()[0]);const i=n!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let o=0,a=s.length;o<a;o++){const l=this.bootstrapEvent(this.rootPointerEvent,s[o]);l.type+=i,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const n=this.normalizeToPointerData(e);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const n=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(n)}setTargetElement(e){this.removeEvents(),this.domElement=e,mn.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;mn.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;mn.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,n,i){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},o=1/this.resolution;e.x=(n-s.left)*(this.domElement.width/s.width)*o,e.y=(i-s.top)*(this.domElement.height/s.height)*o}normalizeToPointerData(e){const n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,s=e.changedTouches.length;i<s;i++){const o=e.changedTouches[i];typeof o.button>"u"&&(o.button=0),typeof o.buttons>"u"&&(o.buttons=1),typeof o.isPrimary>"u"&&(o.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,n.push(o)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=U2),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,n.push(i)}else n.push(e);return n}normalizeWheelEvent(e){const n=this.rootWheelEvent;return this.transferMouseData(n,e),n.deltaX=e.deltaX,n.deltaY=e.deltaY,n.deltaZ=e.deltaZ,n.deltaMode=e.deltaMode,this.mapPositionToPoint(n.screen,e.clientX,e.clientY),n.global.copyFrom(n.screen),n.offset.copyFrom(n.screen),n.nativeEvent=e,n.type=e.type,n}bootstrapEvent(e,n){return e.originalEvent=null,e.nativeEvent=n,e.pointerId=n.pointerId,e.width=n.width,e.height=n.height,e.isPrimary=n.isPrimary,e.pointerType=n.pointerType,e.pressure=n.pressure,e.tangentialPressure=n.tangentialPressure,e.tiltX=n.tiltX,e.tiltY=n.tiltY,e.twist=n.twist,this.transferMouseData(e,n),this.mapPositionToPoint(e.screen,n.clientX,n.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=n.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=z2[e.type]||e.type),e}transferMouseData(e,n){e.isTrusted=n.isTrusted,e.srcElement=n.srcElement,e.timeStamp=performance.now(),e.type=n.type,e.altKey=n.altKey,e.button=n.button,e.buttons=n.buttons,e.client.x=n.clientX,e.client.y=n.clientY,e.ctrlKey=n.ctrlKey,e.metaKey=n.metaKey,e.movement.x=n.movementX,e.movement.y=n.movementY,e.page.x=n.pageX,e.page.y=n.pageY,e.relatedTarget=null,e.shiftKey=n.shiftKey}};$d.extension={name:"events",type:[$.RendererSystem,$.CanvasRendererSystem]},$d.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let Wd=$d;Q.add(Wd);function Wg(r){return r==="dynamic"||r==="static"}const G2={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??Wg(Wd.defaultEventMode)},set interactive(r){le("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Wd.defaultEventMode},set eventMode(r){this._internalInteractive=Wg(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,n){const i=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,s=typeof n=="object"?n.signal:void 0,o=typeof n=="object"?n.once===!0:!1,a=typeof e=="function"?void 0:e;r=i?`${r}capture`:r;const l=typeof e=="function"?e:e.handleEvent,u=this;s&&s.addEventListener("abort",()=>{u.off(r,l,a)}),o?u.once(r,l,a):u.on(r,l,a)},removeEventListener(r,e,n){const i=typeof n=="boolean"&&n||typeof n=="object"&&n.capture,s=typeof e=="function"?void 0:e;r=i?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,s)},dispatchEvent(r){if(!(r instanceof sa))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Oe.mixin(G2);const H2={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Oe.mixin(H2);const $2=9,Ua=100,V2=0,W2=0,Xg=2,Yg=1,X2=-1e3,Y2=-1e3,K2=2;class mx{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Gr.tablet||Gr.phone)&&this.createTouchHook();const n=document.createElement("div");n.style.width=`${Ua}px`,n.style.height=`${Ua}px`,n.style.position="absolute",n.style.top=`${V2}px`,n.style.left=`${W2}px`,n.style.zIndex=Xg.toString(),this.div=n,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Yg}px`,e.style.height=`${Yg}px`,e.style.position="absolute",e.style.top=`${X2}px`,e.style.left=`${Y2}px`,e.style.zIndex=K2.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const n=e.children;if(n)for(let i=0;i<n.length;i++)this.updateAccessibleObjects(n[i])}update(){const e=performance.now();if(Gr.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:n,y:i,width:s,height:o}=this.renderer.view.getBoundingClientRect(),{width:a,height:l,resolution:u}=this.renderer,c=s/a*u,d=o/l*u;let f=this.div;f.style.left=`${n}px`,f.style.top=`${i}px`,f.style.width=`${a}px`,f.style.height=`${l}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,ls(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let g=m.hitArea;const x=m.worldTransform;m.hitArea?(f.style.left=`${(x.tx+g.x*x.a)*c}px`,f.style.top=`${(x.ty+g.y*x.d)*d}px`,f.style.width=`${g.width*x.a*c}px`,f.style.height=`${g.height*x.d*d}px`):(g=m.getBounds(),this.capHitArea(g),f.style.left=`${g.x*c}px`,f.style.top=`${g.y*d}px`,f.style.width=`${g.width*c}px`,f.style.height=`${g.height*d}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:n,height:i}=this.renderer;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=`${Ua}px`,n.style.height=`${Ua}px`,n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=Xg.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=e.accessiblePointerEvents,n.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?n.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(n.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&n.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(n),e._accessibleActive=!0,e._accessibleDiv=n,n.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,n){const{displayObject:i}=e.target,s=this.renderer.events.rootBoundary,o=Object.assign(new sa(s),{target:i});s.rootTarget=this.renderer.lastObjectRendered,n.forEach(a=>s.dispatchEvent(o,a))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===$2&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}mx.extension={name:"accessibility",type:[$.RendererPlugin,$.CanvasRendererPlugin]};Q.add(mx);const gx=class Xd{constructor(e){this.stage=new hr,e=Object.assign({forceCanvas:!1},e),this.renderer=s2(e),Xd._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,n){const i=Xd._plugins.slice(0);i.reverse(),i.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};gx._plugins=[];let q2=gx;Q.handleByList($.Application,q2._plugins);class vx{static init(e){Object.defineProperty(this,"resizeTo",{set(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let n,i;if(this._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:o}=this._resizeTo;n=s,i=o}this.renderer.resize(n,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}vx.extension=$.Application;Q.add(vx);const Kg={loader:$.LoadParser,resolver:$.ResolveParser,cache:$.CacheParser,detection:$.DetectionParser};Q.handle($.Asset,r=>{const e=r.ref;Object.entries(Kg).filter(([n])=>!!e[n]).forEach(([n,i])=>Q.add(Object.assign(e[n],{extension:e[n].extension??i})))},r=>{const e=r.ref;Object.keys(Kg).filter(n=>!!e[n]).forEach(n=>Q.remove(e[n]))});class Q2{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<n;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Bs(r,e){if(Array.isArray(e)){for(const n of e)if(r.startsWith(`data:${n}`))return!0;return!1}return r.startsWith(`data:${e}`)}function On(r,e){const n=r.split("?")[0],i=it.extname(n).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const ir=(r,e,n=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(i=>typeof i=="string"||n?e(i):i):r),Yd=(r,e)=>{const n=e.split("?")[1];return n&&(r+=`?${n}`),r};function yx(r,e,n,i,s){const o=e[n];for(let a=0;a<o.length;a++){const l=o[a];n<e.length-1?yx(r.replace(i[n],l),e,n+1,i,s):s.push(r.replace(i[n],l))}}function Z2(r){const e=/\{(.*?)\}/g,n=r.match(e),i=[];if(n){const s=[];n.forEach(o=>{const a=o.substring(1,o.length-1).split(",");s.push(a)}),yx(r,s,0,n,i)}else i.push(r);return i}const su=r=>!Array.isArray(r);class J2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const i=ir(e);let s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.test(n)){s=u.getCacheableAssets(i,n);break}}s||(s={},i.forEach(l=>{s[l]=n}));const o=Object.keys(s),a={cacheKeys:o,keys:i};if(i.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==n&&console.warn("[Cache] already has key:",l),this._cache.set(l,s[l])}),n instanceof q){const l=n;i.forEach(u=>{l.baseTexture!==q.EMPTY.baseTexture&&ie.addToCache(l.baseTexture,u),q.addToCache(l,u)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Zn=new J2;class eA{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,i)=>(this._parsersValidated=!1,e[n]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){const i={promise:null,parser:null};return i.promise=(async()=>{var a,l;let s=null,o=null;if(n.loadParser&&(o=this._parserHash[n.loadParser],o||console.warn(`[Assets] specified load parser "${n.loadParser}" not found while loading ${e}`)),!o){for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.load&&((a=c.test)!=null&&a.call(c,e,n,this))){o=c;break}}if(!o)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await o.load(e,n,this),i.parser=o;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];c.parse&&c.parse&&await((l=c.testParse)==null?void 0:l.call(c,s,n,this))&&(s=await c.parse(s,n,this)||s,i.parser=c)}return s})(),i}async load(e,n){this._parsersValidated||this._validateParsers();let i=0;const s={},o=su(e),a=ir(e,c=>({alias:[c],src:c})),l=a.length,u=a.map(async c=>{const d=it.toAbsolute(c.src);if(!s[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),s[c.src]=await this.promiseCache[d].promise,n&&n(++i/l)}catch(f){throw delete this.promiseCache[d],delete s[c.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(u),o?s[a[0].src]:s}async unload(e){const n=ir(e,i=>({alias:[i],src:i})).map(async i=>{var a,l;const s=it.toAbsolute(i.src),o=this.promiseCache[s];if(o){const u=await o.promise;delete this.promiseCache[s],(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,u,i,this)}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,n)=>(e[n.name]&&console.warn(`[Assets] loadParser name conflict "${n.name}"`),{...e,[n.name]:n}),{})}}var dr=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(dr||{});const tA=".json",rA="application/json",nA={extension:{type:$.LoadParser,priority:dr.Low},name:"loadJson",test(r){return Bs(r,rA)||On(r,tA)},async load(r){return await(await X.ADAPTER.fetch(r)).json()}};Q.add(nA);const iA=".txt",sA="text/plain",oA={name:"loadTxt",extension:{type:$.LoadParser,priority:dr.Low},test(r){return Bs(r,sA)||On(r,iA)},async load(r){return await(await X.ADAPTER.fetch(r)).text()}};Q.add(oA);const aA=["normal","bold","100","200","300","400","500","600","700","800","900"],lA=[".ttf",".otf",".woff",".woff2"],uA=["font/ttf","font/otf","font/woff","font/woff2"],cA=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function hA(r){const e=it.extname(r),n=it.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1));let i=n.length>0;for(const o of n)if(!o.match(cA)){i=!1;break}let s=n.join(" ");return i||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const dA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function fA(r){return dA.test(r)?r:encodeURI(r)}const pA={extension:{type:$.LoadParser,priority:dr.Low},name:"loadWebFont",test(r){return Bs(r,uA)||On(r,lA)},async load(r,e){var i,s,o;const n=X.ADAPTER.getFontFaceSet();if(n){const a=[],l=((i=e.data)==null?void 0:i.family)??hA(r),u=((o=(s=e.data)==null?void 0:s.weights)==null?void 0:o.filter(d=>aA.includes(d)))??["normal"],c=e.data??{};for(let d=0;d<u.length;d++){const f=u[d],p=new FontFace(l,`url(${fA(r)})`,{...c,weight:f});await p.load(),n.add(p),a.push(p)}return a.length===1?a[0]:a}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>X.ADAPTER.getFontFaceSet().delete(e))}};Q.add(pA);const mA=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let hs=null,Kd=class{constructor(){hs||(hs=URL.createObjectURL(new Blob([mA],{type:"application/javascript"}))),this.worker=new Worker(hs)}};Kd.revokeObjectURL=function(){hs&&(URL.revokeObjectURL(hs),hs=null)};const gA=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ds=null;class xx{constructor(){ds||(ds=URL.createObjectURL(new Blob([gA],{type:"application/javascript"}))),this.worker=new Worker(ds)}}xx.revokeObjectURL=function(){ds&&(URL.revokeObjectURL(ds),ds=null)};let qg=0,Zc;class vA{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:n}=new Kd;n.addEventListener("message",i=>{n.terminate(),Kd.revokeObjectURL(),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Zc===void 0&&(Zc=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Zc&&(this._createdWorkers++,e=new xx().worker,e.addEventListener("message",n=>{this.complete(n.data),this.returnWorker(n.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const i=new Promise((s,o)=>{this.queue.push({id:e,arguments:n,resolve:s,reject:o})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const n=this.queue.pop(),i=n.id;this.resolveHash[qg]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:qg++,id:i})}}const Qg=new vA;function oa(r,e,n){r.resource.internal=!0;const i=new q(r),s=()=>{delete e.promiseCache[n],Zn.has(n)&&Zn.remove(n)};return i.baseTexture.once("destroyed",()=>{n in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),i.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),i}const yA=[".jpeg",".jpg",".png",".webp",".avif"],xA=["image/jpeg","image/png","image/webp","image/avif"];async function _A(r){const e=await X.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const n=await e.blob();return await createImageBitmap(n)}const ju={name:"loadTextures",extension:{type:$.LoadParser,priority:dr.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return Bs(r,xA)||On(r,yA)},async load(r,e,n){var l;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;i?this.config.preferWorkers&&await Qg.isImageBitmapSupported()?s=await Qg.loadImageBitmap(r):s=await _A(r):s=await new Promise((u,c)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=r,d.complete?u(d):(d.onload=()=>u(d),d.onerror=f=>c(f))});const o={...e.data};o.resolution??(o.resolution=Qr(r)),i&&((l=o.resourceOptions)==null?void 0:l.ownsImageBitmap)===void 0&&(o.resourceOptions={...o.resourceOptions},o.resourceOptions.ownsImageBitmap=!0);const a=new ie(s,o);return a.resource.src=r,oa(a,n,r)},unload(r){r.destroy(!0)}};Q.add(ju);const bA=".svg",wA="image/svg+xml",EA={extension:{type:$.LoadParser,priority:dr.High},name:"loadSVG",test(r){return Bs(r,wA)||On(r,bA)},async testParse(r){return Od.test(r)},async parse(r,e,n){var o;const i=new Od(r,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions);await i.load();const s=new ie(i,{resolution:Qr(r),...e==null?void 0:e.data});return s.resource.src=e.src,oa(s,n,e.src)},async load(r,e){return(await X.ADAPTER.fetch(r)).text()},unload:ju.unload};Q.add(EA);const CA=[".mp4",".m4v",".webm",".ogv"],SA=["video/mp4","video/webm","video/ogg"],TA={name:"loadVideo",extension:{type:$.LoadParser,priority:dr.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return Bs(r,SA)||On(r,CA)},async load(r,e,n){var a;let i;const s=await(await X.ADAPTER.fetch(r)).blob(),o=URL.createObjectURL(s);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions,autoLoad:!0},u=new dx(o,l);await u.load();const c=new ie(u,{alphaMode:await PS(),resolution:Qr(r),...e==null?void 0:e.data});c.resource.src=r,i=oa(c,n,r),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(o)})}catch(l){throw URL.revokeObjectURL(o),l}return i},unload(r){r.destroy(!0)}};Q.add(TA);class AA{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(n[i])}`).join("&")}}getAlias(e){const{alias:n,name:i,src:s,srcs:o}=e;return ir(n||i||s||o,a=>typeof a=="string"?a:Array.isArray(a)?a.map(l=>(l==null?void 0:l.src)??(l==null?void 0:l.srcs)??l):a!=null&&a.src||a!=null&&a.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const i=[];Array.isArray(n)?n.forEach(s=>{const o=s.src??s.srcs,a=s.alias??s.name;let l;if(typeof a=="string"){const u=this._createBundleAssetId(e,a);i.push(u),l=[a,u]}else{const u=a.map(c=>this._createBundleAssetId(e,c));i.push(...u),l=[...a,...u]}this.add({...s,alias:l,src:o})}):Object.keys(n).forEach(s=>{const o=[s,this._createBundleAssetId(e,s)];if(typeof n[s]=="string")this.add({alias:o,src:n[s]});else if(Array.isArray(n[s]))this.add({alias:o,src:n[s]});else{const a=n[s],l=a.src??a.srcs;this.add({...a,alias:o,src:Array.isArray(l)?l:[l]})}i.push(...o)}),this._bundles[e]=i}add(e,n,i,s,o){const a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(le("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:n,data:i,format:s,loadParser:o})):Array.isArray(e)?a.push(...e):a.push(e);let l;l=u=>{this.hasKey(u)&&console.warn(`[Resolver] already has key: ${u} overwriting`)},ir(a).forEach(u=>{const{src:c,srcs:d}=u;let{data:f,format:p,loadParser:m}=u;const g=ir(c||d).map(y=>typeof y=="string"?Z2(y):Array.isArray(y)?y:[y]),x=this.getAlias(u);Array.isArray(x)?x.forEach(l):l(x);const b=[];g.forEach(y=>{y.forEach(_=>{let v={};if(typeof _!="object"){v.src=_;for(let w=0;w<this._parsers.length;w++){const E=this._parsers[w];if(E.test(_)){v=E.parse(_);break}}}else f=_.data??f,p=_.format??p,m=_.loadParser??m,v={...v,..._};if(!x)throw new Error(`[Resolver] alias is undefined for this asset: ${v.src}`);v=this.buildResolvedAsset(v,{aliases:x,data:f,format:p,loadParser:m}),b.push(v)})}),x.forEach(y=>{this._assetMap[y]=b})})}resolveBundle(e){const n=su(e);e=ir(e);const i={};return e.forEach(s=>{const o=this._bundles[s];if(o){const a=this.resolve(o),l={};for(const u in a){const c=a[u];l[this._extractAssetIdFromBundle(s,u)]=c}i[s]=l}}),n?i[e[0]]:i}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const i={};for(const s in n)i[s]=n[s].src;return i}return n.src}resolve(e){const n=su(e);e=ir(e);const i={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let o=this._assetMap[s];const a=o[0],l=this._getPreferredOrder(o);l==null||l.priority.forEach(u=>{l.params[u].forEach(c=>{const d=o.filter(f=>f[u]?f[u]===c:!1);d.length&&(o=d)})}),this._resolverHash[s]=o[0]??a}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});i[s]=this._resolverHash[s]}),n?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const i=e[0],s=this._preferredOrder.find(o=>o.params.format.includes(i.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}buildResolvedAsset(e,n){const{aliases:i,data:s,loadParser:o,format:a}=n;return(this._basePath||this._rootPath)&&(e.src=it.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=i??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=o??e.loadParser,e.format=a??e.format??it.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class kA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new AA,this.loader=new eA,this.cache=Zn,this._backgroundLoader=new Q2(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const n=((o=e.texturePreference)==null?void 0:o.resolution)??1,i=typeof n=="number"?[n]:n,s=await this._detectFormats({preferredFormats:(a=e.texturePreference)==null?void 0:a.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,n,i,s,o){this.resolver.add(e,n,i,s,o)}async load(e,n){this._initialized||await this.init();const i=su(e),s=ir(e).map(l=>{if(typeof l!="string"){const u=this.resolver.getAlias(l);return u.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(u)?u[0]:u}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),o=this.resolver.resolve(s),a=await this._mapLoadToResolve(o,n);return i?a[s[0]]:a}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const s=this.resolver.resolveBundle(e),o={},a=Object.keys(s);let l=0,u=0;const c=()=>{n==null||n(++l/u)},d=a.map(f=>{const p=s[f];return u+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(m=>{o[f]=m})});return await Promise.all(d),i?o[e[0]]:o}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Zn.get(e);const n={};for(let i=0;i<e.length;i++)n[i]=Zn.get(e[i]);return n}async _mapLoadToResolve(e,n){const i=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const o=await this.loader.load(i,n);this._backgroundLoader.active=!0;const a={};return i.forEach((l,u)=>{const c=o[l.src],d=[l.src];l.alias&&d.push(...l.alias),a[s[u]]=c,Zn.set(d,c)}),a}async unload(e){this._initialized||await this.init();const n=ir(e).map(s=>typeof s!="string"?s.src:s),i=this.resolver.resolve(n);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=ir(e);const n=this.resolver.resolveBundle(e),i=Object.keys(n).map(s=>this._unloadFromResolved(n[s]));await Promise.all(i)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(i=>{Zn.remove(i.src)}),await this.loader.unload(n)}async _detectFormats(e){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||await i.test()?n=await i.add(n):e.skipDetections||(n=await i.remove(n));return n=n.filter((i,s)=>n.indexOf(i)===s),n}get detections(){return this._detections}get preferWorkers(){return ju.config.preferWorkers}set preferWorkers(e){le("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(i=>i in e).forEach(i=>{n.config[i]=e[i]})})}}const lo=new kA;Q.handleByList($.LoadParser,lo.loader.parsers).handleByList($.ResolveParser,lo.resolver.parsers).handleByList($.CacheParser,lo.cache.parsers).handleByList($.DetectionParser,lo.detections);const NA={extension:$.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof q),getCacheableAssets:(r,e)=>{const n={};return r.forEach(i=>{e.forEach((s,o)=>{n[i+(o===0?"":o+1)]=s})}),n}};Q.add(NA);async function _x(r){if("Image"in globalThis)return new Promise(e=>{const n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const IA={extension:{type:$.DetectionParser,priority:1},test:async()=>_x("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};Q.add(IA);const PA={extension:{type:$.DetectionParser,priority:0},test:async()=>_x("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};Q.add(PA);const Zg=["png","jpg","jpeg"],RA={extension:{type:$.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...Zg],remove:async r=>r.filter(e=>!Zg.includes(e))};Q.add(RA);const MA="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function yp(r){return MA?!1:document.createElement("video").canPlayType(r)!==""}const BA={extension:{type:$.DetectionParser,priority:0},test:async()=>yp("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};Q.add(BA);const LA={extension:{type:$.DetectionParser,priority:0},test:async()=>yp("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};Q.add(LA);const DA={extension:{type:$.DetectionParser,priority:0},test:async()=>yp("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};Q.add(DA);const FA={extension:$.ResolveParser,test:ju.test,parse:r=>{var e;return{resolution:parseFloat(((e=X.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:it.extname(r).slice(1),src:r}}};Q.add(FA);var st=(r=>(r[r.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",r[r.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",r[r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",r[r.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",r[r.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",r[r.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",r[r.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",r[r.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",r[r.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",r[r.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",r[r.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",r[r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",r[r.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",r[r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",r[r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",r[r.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",r[r.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",r[r.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",r[r.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",r[r.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",r[r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",r[r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",r[r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",r))(st||{});const ou={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let yr,Di;function Jg(){Di={bptc:yr.getExtension("EXT_texture_compression_bptc"),astc:yr.getExtension("WEBGL_compressed_texture_astc"),etc:yr.getExtension("WEBGL_compressed_texture_etc"),s3tc:yr.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:yr.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:yr.getExtension("WEBGL_compressed_texture_pvrtc")||yr.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:yr.getExtension("WEBGL_compressed_texture_etc1"),atc:yr.getExtension("WEBGL_compressed_texture_atc")}}const OA={extension:{type:$.DetectionParser,priority:2},test:async()=>{const r=X.ADAPTER.createCanvas().getContext("webgl");return r?(yr=r,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async r=>{Di||Jg();const e=[];for(const n in Di)Di[n]&&e.push(n);return[...e,...r]},remove:async r=>(Di||Jg(),r.filter(e=>!(e in Di)))};Q.add(OA);class jA extends Bu{constructor(e,n={width:1,height:1,autoLoad:!0}){let i,s;typeof e=="string"?(i=e,s=new Uint8Array):(i=null,s=e),super(s,n),this.origin=i,this.buffer=s?new Sd(s):null,this._load=null,this.loaded=!1,this.origin!==null&&n.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Sd(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class li extends jA{constructor(e,n){super(e,n),this.format=n.format,this.levels=n.levels||1,this._width=n.width,this._height=n.height,this._extension=li._formatToExtension(this.format),(n.levelBuffers||this.buffer)&&(this._levelBuffers=n.levelBuffers||li._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,n,i){const s=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:u,levelHeight:c,levelBuffer:d}=this._levelBuffers[o];s.compressedTexImage2D(s.TEXTURE_2D,l,this.format,u,c,0,d)}return!0}onBlobLoaded(){this._levelBuffers=li._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,n,i,s,o,a,l){const u=new Array(i);let c=e.byteOffset,d=a,f=l,p=d+s-1&~(s-1),m=f+o-1&~(o-1),g=p*m*ou[n];for(let x=0;x<i;x++)u[x]={levelID:x,levelWidth:i>1?d:p,levelHeight:i>1?f:m,levelBuffer:new Uint8Array(e.buffer,c,g)},c+=g,d=d>>1||1,f=f>>1||1,p=d+s-1&~(s-1),m=f+o-1&~(o-1),g=p*m*ou[n];return u}}const Jc=4,za=124,UA=32,e0=20,zA=542327876,Ga={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},GA={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Ha={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},HA=1,$A=2,VA=4,WA=64,XA=512,YA=131072,KA=827611204,qA=861165636,QA=894720068,ZA=808540228,JA=4,ek={[KA]:st.COMPRESSED_RGBA_S3TC_DXT1_EXT,[qA]:st.COMPRESSED_RGBA_S3TC_DXT3_EXT,[QA]:st.COMPRESSED_RGBA_S3TC_DXT5_EXT},tk={70:st.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:st.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:st.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:st.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:st.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:st.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:st.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:st.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:st.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function rk(r){const e=new Uint32Array(r);if(e[0]!==zA)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(r,0,za/Uint32Array.BYTES_PER_ELEMENT),i=n[Ga.HEIGHT],s=n[Ga.WIDTH],o=n[Ga.MIPMAP_COUNT],a=new Uint32Array(r,Ga.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,UA/Uint32Array.BYTES_PER_ELEMENT),l=a[HA];if(l&VA){const u=a[GA.FOURCC];if(u!==ZA){const _=ek[u],v=Jc+za,w=new Uint8Array(r,v);return[new li(w,{format:_,width:s,height:i,levels:o})]}const c=Jc+za,d=new Uint32Array(e.buffer,c,e0/Uint32Array.BYTES_PER_ELEMENT),f=d[Ha.DXGI_FORMAT],p=d[Ha.RESOURCE_DIMENSION],m=d[Ha.MISC_FLAG],g=d[Ha.ARRAY_SIZE],x=tk[f];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(m===JA)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const b=new Array,y=Jc+za+e0;if(g===1)b.push(new Uint8Array(r,y));else{const _=ou[x];let v=0,w=s,E=i;for(let T=0;T<o;T++){const C=Math.max(1,w+3&-4),M=Math.max(1,E+3&-4),P=C*M*_;v+=P,w=w>>>1,E=E>>>1}let k=y;for(let T=0;T<g;T++)b.push(new Uint8Array(r,k,v)),k+=v}return b.map(_=>new li(_,{format:x,width:s,height:i,levels:o}))}throw l&WA?new Error("DDSParser does not support uncompressed texture data."):l&XA?new Error("DDSParser does not supported YUV uncompressed texture data."):l&YA?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&$A?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const t0=[171,75,84,88,32,49,49,187,13,10,26,10],nk=67305985,Zt={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},qd=64,r0={[J.UNSIGNED_BYTE]:1,[J.UNSIGNED_SHORT]:2,[J.INT]:4,[J.UNSIGNED_INT]:4,[J.FLOAT]:4,[J.HALF_FLOAT]:8},ik={[F.RGBA]:4,[F.RGB]:3,[F.RG]:2,[F.RED]:1,[F.LUMINANCE]:1,[F.LUMINANCE_ALPHA]:2,[F.ALPHA]:1},sk={[J.UNSIGNED_SHORT_4_4_4_4]:2,[J.UNSIGNED_SHORT_5_5_5_1]:2,[J.UNSIGNED_SHORT_5_6_5]:2};function ok(r,e,n=!1){const i=new DataView(e);if(!ak(r,i))return null;const s=i.getUint32(Zt.ENDIANNESS,!0)===nk,o=i.getUint32(Zt.GL_TYPE,s),a=i.getUint32(Zt.GL_FORMAT,s),l=i.getUint32(Zt.GL_INTERNAL_FORMAT,s),u=i.getUint32(Zt.PIXEL_WIDTH,s),c=i.getUint32(Zt.PIXEL_HEIGHT,s)||1,d=i.getUint32(Zt.PIXEL_DEPTH,s)||1,f=i.getUint32(Zt.NUMBER_OF_ARRAY_ELEMENTS,s)||1,p=i.getUint32(Zt.NUMBER_OF_FACES,s),m=i.getUint32(Zt.NUMBER_OF_MIPMAP_LEVELS,s),g=i.getUint32(Zt.BYTES_OF_KEY_VALUE_DATA,s);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const x=4,b=4,y=u+3&-4,_=c+3&-4,v=new Array(f);let w=u*c;o===0&&(w=y*_);let E;if(o!==0?r0[o]?E=r0[o]*ik[a]:E=sk[o]:E=ou[l],E===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const k=n?uk(i,g,s):null;let T=w*E,C=u,M=c,P=y,S=_,O=qd+g;for(let A=0;A<m;A++){const B=i.getUint32(O,s);let G=O+4;for(let j=0;j<f;j++){let K=v[j];K||(K=v[j]=new Array(m)),K[A]={levelID:A,levelWidth:m>1||o!==0?C:P,levelHeight:m>1||o!==0?M:S,levelBuffer:new Uint8Array(e,G,T)},G+=T}O+=B+4,O=O%4!==0?O+4-O%4:O,C=C>>1||1,M=M>>1||1,P=C+x-1&~(x-1),S=M+b-1&~(b-1),T=P*S*E}return o!==0?{uncompressed:v.map(A=>{let B=A[0].levelBuffer,G=!1;return o===J.FLOAT?B=new Float32Array(A[0].levelBuffer.buffer,A[0].levelBuffer.byteOffset,A[0].levelBuffer.byteLength/4):o===J.UNSIGNED_INT?(G=!0,B=new Uint32Array(A[0].levelBuffer.buffer,A[0].levelBuffer.byteOffset,A[0].levelBuffer.byteLength/4)):o===J.INT&&(G=!0,B=new Int32Array(A[0].levelBuffer.buffer,A[0].levelBuffer.byteOffset,A[0].levelBuffer.byteLength/4)),{resource:new Bu(B,{width:A[0].levelWidth,height:A[0].levelHeight}),type:o,format:G?lk(a):a}}),kvData:k}:{compressed:v.map(A=>new li(null,{format:l,width:u,height:c,levels:m,levelBuffers:A})),kvData:k}}function ak(r,e){for(let n=0;n<t0.length;n++)if(e.getUint8(n)!==t0[n])return console.error(`${r} is not a valid *.ktx file!`),!1;return!0}function lk(r){switch(r){case F.RGBA:return F.RGBA_INTEGER;case F.RGB:return F.RGB_INTEGER;case F.RG:return F.RG_INTEGER;case F.RED:return F.RED_INTEGER;default:return r}}function uk(r,e,n){const i=new Map;let s=0;for(;s<e;){const o=r.getUint32(qd+s,n),a=qd+s+4,l=3-(o+3)%4;if(o===0||o>e-s){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<o&&r.getUint8(a+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(r.buffer,a,u)),d=new DataView(r.buffer,a+u+1,o-u-1);i.set(c,d),s+=4+o+l}return i}const ck={extension:{type:$.LoadParser,priority:dr.High},name:"loadDDS",test(r){return On(r,".dds")},async load(r,e,n){const i=await(await X.ADAPTER.fetch(r)).arrayBuffer(),s=rk(i).map(o=>{const a=new ie(o,{mipmap:Rr.OFF,alphaMode:wt.NO_PREMULTIPLIED_ALPHA,resolution:Qr(r),...e.data});return oa(a,n,r)});return s.length===1?s[0]:s},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};Q.add(ck);const hk={extension:{type:$.LoadParser,priority:dr.High},name:"loadKTX",test(r){return On(r,".ktx")},async load(r,e,n){const i=await(await X.ADAPTER.fetch(r)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=ok(r,i),l=s??o,u={mipmap:Rr.OFF,alphaMode:wt.NO_PREMULTIPLIED_ALPHA,resolution:Qr(r),...e.data},c=l.map(d=>{l===o&&Object.assign(u,{type:d.type,format:d.format});const f=d.resource??d,p=new ie(f,u);return p.ktxKeyValueData=a,oa(p,n,r)});return c.length===1?c[0]:c},unload(r){Array.isArray(r)?r.forEach(e=>e.destroy(!0)):r.destroy(!0)}};Q.add(hk);const dk=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],fk={extension:$.ResolveParser,test:r=>{const e=it.extname(r).slice(1);return["basis","ktx","dds"].includes(e)},parse:r=>{var i,s;const e=r.split("."),n=e.pop();if(["ktx","dds"].includes(n)){const o=e.pop();if(dk.includes(o))return{resolution:parseFloat(((i=X.RETINA_PREFIX.exec(r))==null?void 0:i[1])??"1"),format:o,src:r}}return{resolution:parseFloat(((s=X.RETINA_PREFIX.exec(r))==null?void 0:s[1])??"1"),format:n,src:r}}};Q.add(fk);const $a=new ae,pk=4,bx=class uo{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var n;const e=(n=this.renderer)==null?void 0:n.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,n,i,s){const o=new Image;return o.src=await this.base64(e,n,i,s),o}async base64(e,n,i,s){const o=this.canvas(e,s);if(o.toBlob!==void 0)return new Promise((a,l)=>{o.toBlob(u=>{if(!u){l(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>a(c.result),c.onerror=l,c.readAsDataURL(u)},n,i)});if(o.toDataURL!==void 0)return o.toDataURL(n,i);if(o.convertToBlob!==void 0){const a=await o.convertToBlob({type:n,quality:i});return new Promise((l,u)=>{const c=new FileReader;c.onload=()=>l(c.result),c.onerror=u,c.readAsDataURL(a)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,n){const{pixels:i,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,n);a&&uo._flipY(i,s,o),l&&uo._unpremultiplyAlpha(i);const u=new XS(s,o,1),c=new ImageData(new Uint8ClampedArray(i.buffer),s,o);return u.context.putImageData(c,0,0),u.canvas}pixels(e,n){const{pixels:i,width:s,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,n);return a&&uo._flipY(i,s,o),l&&uo._unpremultiplyAlpha(i),i}_rawPixels(e,n){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let s,o=!1,a=!1,l,u=!1;e&&(e instanceof wi?l=e:(l=i.generateTexture(e,{region:n,resolution:i.resolution,multisample:i.multisample}),u=!0,n&&($a.width=n.width,$a.height=n.height,n=$a)));const c=i.gl;if(l){if(s=l.baseTexture.resolution,n=n??l.frame,o=!1,a=l.baseTexture.alphaMode>0&&l.baseTexture.format===F.RGBA,!u){i.renderTexture.bind(l);const m=l.framebuffer.glFramebuffers[i.CONTEXT_UID];m.blitFramebuffer&&i.framebuffer.bind(m.blitFramebuffer)}}else s=i.resolution,n||(n=$a,n.width=i.width/s,n.height=i.height/s),o=!0,a=this._rendererPremultipliedAlpha,i.renderTexture.bind();const d=Math.max(Math.round(n.width*s),1),f=Math.max(Math.round(n.height*s),1),p=new Uint8Array(pk*d*f);return c.readPixels(Math.round(n.x*s),Math.round(n.y*s),d,f,c.RGBA,c.UNSIGNED_BYTE,p),u&&(l==null||l.destroy(!0)),{pixels:p,width:d,height:f,flipY:o,premultipliedAlpha:a}}destroy(){this.renderer=null}static _flipY(e,n,i){const s=n<<2,o=i>>1,a=new Uint8Array(s);for(let l=0;l<o;l++){const u=l*s,c=(i-l-1)*s;a.set(e.subarray(u,u+s)),e.copyWithin(u,c,c+s),e.set(a,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const n=e.length;for(let i=0;i<n;i+=4){const s=e[i+3];if(s!==0){const o=255.001/s;e[i]=e[i]*o+.5,e[i+1]=e[i+1]*o+.5,e[i+2]=e[i+2]*o+.5}}}};bx.extension={name:"extract",type:$.RendererSystem};let mk=bx;Q.add(mk);const au={build(r){const e=r.points;let n,i,s,o,a,l;if(r.type===at.CIRC){const g=r.shape;n=g.x,i=g.y,a=l=g.radius,s=o=0}else if(r.type===at.ELIP){const g=r.shape;n=g.x,i=g.y,a=g.width,l=g.height,s=o=0}else{const g=r.shape,x=g.width/2,b=g.height/2;n=g.x+x,i=g.y+b,a=l=Math.max(0,Math.min(g.radius,Math.min(x,b))),s=x-a,o=b-l}if(!(a>=0&&l>=0&&s>=0&&o>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(a+l)),c=u*8+(s?4:0)+(o?4:0);if(e.length=c,c===0)return;if(u===0){e.length=8,e[0]=e[6]=n+s,e[1]=e[3]=i+o,e[2]=e[4]=n-s,e[5]=e[7]=i-o;return}let d=0,f=u*4+(s?2:0)+2,p=f,m=c;{const g=s+a,x=o,b=n+g,y=n-g,_=i+x;if(e[d++]=b,e[d++]=_,e[--f]=_,e[--f]=y,o){const v=i-x;e[p++]=y,e[p++]=v,e[--m]=v,e[--m]=b}}for(let g=1;g<u;g++){const x=Math.PI/2*(g/u),b=s+Math.cos(x)*a,y=o+Math.sin(x)*l,_=n+b,v=n-b,w=i+y,E=i-y;e[d++]=_,e[d++]=w,e[--f]=w,e[--f]=v,e[p++]=v,e[p++]=E,e[--m]=E,e[--m]=_}{const g=s,x=o+l,b=n+g,y=n-g,_=i+x,v=i-x;e[d++]=b,e[d++]=_,e[--m]=v,e[--m]=b,s&&(e[d++]=y,e[d++]=_,e[--m]=v,e[--m]=y)}},triangulate(r,e){const n=r.points,i=e.points,s=e.indices;if(n.length===0)return;let o=i.length/2;const a=o;let l,u;if(r.type!==at.RREC){const d=r.shape;l=d.x,u=d.y}else{const d=r.shape;l=d.x+d.width/2,u=d.y+d.height/2}const c=r.matrix;i.push(r.matrix?c.a*l+c.c*u+c.tx:l,r.matrix?c.b*l+c.d*u+c.ty:u),o++,i.push(n[0],n[1]);for(let d=2;d<n.length;d+=2)i.push(n[d],n[d+1]),s.push(o++,a,o);s.push(a+1,a,o)}};function n0(r,e=!1){const n=r.length;if(n<6)return;let i=0;for(let s=0,o=r[n-2],a=r[n-1];s<n;s+=2){const l=r[s],u=r[s+1];i+=(l-o)*(u+a),o=l,a=u}if(!e&&i>0||e&&i<=0){const s=n/2;for(let o=s+s%2;o<n;o+=2){const a=n-o-2,l=n-o-1,u=o,c=o+1;[r[a],r[u]]=[r[u],r[a]],[r[l],r[c]]=[r[c],r[l]]}}}const wx={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let n=r.points;const i=r.holes,s=e.points,o=e.indices;if(n.length>=6){n0(n,!1);const a=[];for(let c=0;c<i.length;c++){const d=i[c];n0(d.points,!0),a.push(n.length/2),n=n.concat(d.points)}const l=Zw(n,a,2);if(!l)return;const u=s.length/2;for(let c=0;c<l.length;c+=3)o.push(l[c]+u),o.push(l[c+1]+u),o.push(l[c+2]+u);for(let c=0;c<n.length;c++)s.push(n[c])}}},gk={build(r){const e=r.shape,n=e.x,i=e.y,s=e.width,o=e.height,a=r.points;a.length=0,s>=0&&o>=0&&a.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate(r,e){const n=r.points,i=e.points;if(n.length===0)return;const s=i.length/2;i.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},vk={build(r){au.build(r)},triangulate(r,e){au.triangulate(r,e)}};var jt=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(jt||{}),_n=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(_n||{});const Cs={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let n=Math.ceil(r/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}};class i0{static curveTo(e,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1]-n,c=l-e,d=s-n,f=i-e,p=Math.abs(u*f-c*d);if(p<1e-8||o===0)return(a[a.length-2]!==e||a[a.length-1]!==n)&&a.push(e,n),null;const m=u*u+c*c,g=d*d+f*f,x=u*d+c*f,b=o*Math.sqrt(m)/p,y=o*Math.sqrt(g)/p,_=b*x/m,v=y*x/g,w=b*f+y*c,E=b*d+y*u,k=c*(y+_),T=u*(y+_),C=f*(b+v),M=d*(b+v),P=Math.atan2(T-E,k-w),S=Math.atan2(M-E,C-w);return{cx:w+e,cy:E+n,radius:o,startAngle:P,endAngle:S,anticlockwise:c*d>f*u}}static arc(e,n,i,s,o,a,l,u,c){const d=l-a,f=Cs._segmentsCount(Math.abs(d)*o,Math.ceil(Math.abs(d)/Zl)*40),p=d/(f*2),m=p*2,g=Math.cos(p),x=Math.sin(p),b=f-1,y=b%1/b;for(let _=0;_<=b;++_){const v=_+y*_,w=p+a+m*v,E=Math.cos(w),k=-Math.sin(w);c.push((g*E+x*k)*o+i,(g*-k+x*E)*o+s)}}}class yk{constructor(){this.reset()}begin(e,n,i){this.reset(),this.style=e,this.start=n,this.attribStart=i}end(e,n){this.attribSize=n-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class xp{static curveLength(e,n,i,s,o,a,l,u){let c=0,d=0,f=0,p=0,m=0,g=0,x=0,b=0,y=0,_=0,v=0,w=e,E=n;for(let k=1;k<=10;++k)d=k/10,f=d*d,p=f*d,m=1-d,g=m*m,x=g*m,b=x*e+3*g*d*i+3*m*f*o+p*l,y=x*n+3*g*d*s+3*m*f*a+p*u,_=w-b,v=E-y,w=b,E=y,c+=Math.sqrt(_*_+v*v);return c}static curveTo(e,n,i,s,o,a,l){const u=l[l.length-2],c=l[l.length-1];l.length-=2;const d=Cs._segmentsCount(xp.curveLength(u,c,e,n,i,s,o,a));let f=0,p=0,m=0,g=0,x=0;l.push(u,c);for(let b=1,y=0;b<=d;++b)y=b/d,f=1-y,p=f*f,m=p*f,g=y*y,x=g*y,l.push(m*u+3*p*y*e+3*f*g*i+x*o,m*c+3*p*y*n+3*f*g*s+x*a)}}function s0(r,e,n,i,s,o,a,l){const u=r-n*s,c=e-i*s,d=r+n*o,f=e+i*o;let p,m;a?(p=i,m=-n):(p=-i,m=n);const g=u+p,x=c+m,b=d+p,y=f+m;return l.push(g,x,b,y),2}function zn(r,e,n,i,s,o,a,l){const u=n-r,c=i-e;let d=Math.atan2(u,c),f=Math.atan2(s-r,o-e);l&&d<f?d+=Math.PI*2:!l&&d>f&&(f+=Math.PI*2);let p=d;const m=f-d,g=Math.abs(m),x=Math.sqrt(u*u+c*c),b=(15*g*Math.sqrt(x)/Math.PI>>0)+1,y=m/b;if(p+=y,l){a.push(r,e,n,i);for(let _=1,v=p;_<b;_++,v+=y)a.push(r,e,r+Math.sin(v)*x,e+Math.cos(v)*x);a.push(r,e,s,o)}else{a.push(n,i,r,e);for(let _=1,v=p;_<b;_++,v+=y)a.push(r+Math.sin(v)*x,e+Math.cos(v)*x,r,e);a.push(s,o,r,e)}return b*2}function xk(r,e){const n=r.shape;let i=r.points||n.points.slice();const s=e.closePointEps;if(i.length===0)return;const o=r.lineStyle,a=new de(i[0],i[1]),l=new de(i[i.length-2],i[i.length-1]),u=n.type!==at.POLY||n.closeStroke,c=Math.abs(a.x-l.x)<s&&Math.abs(a.y-l.y)<s;if(u){i=i.slice(),c&&(i.pop(),i.pop(),l.set(i[i.length-2],i[i.length-1]));const K=(a.x+l.x)*.5,R=(l.y+a.y)*.5;i.unshift(K,R),i.push(K,R)}const d=e.points,f=i.length/2;let p=i.length;const m=d.length/2,g=o.width/2,x=g*g,b=o.miterLimit*o.miterLimit;let y=i[0],_=i[1],v=i[2],w=i[3],E=0,k=0,T=-(_-w),C=y-v,M=0,P=0,S=Math.sqrt(T*T+C*C);T/=S,C/=S,T*=g,C*=g;const O=o.alignment,A=(1-O)*2,B=O*2;u||(o.cap===_n.ROUND?p+=zn(y-T*(A-B)*.5,_-C*(A-B)*.5,y-T*A,_-C*A,y+T*B,_+C*B,d,!0)+2:o.cap===_n.SQUARE&&(p+=s0(y,_,T,C,A,B,!0,d))),d.push(y-T*A,_-C*A,y+T*B,_+C*B);for(let K=1;K<f-1;++K){y=i[(K-1)*2],_=i[(K-1)*2+1],v=i[K*2],w=i[K*2+1],E=i[(K+1)*2],k=i[(K+1)*2+1],T=-(_-w),C=y-v,S=Math.sqrt(T*T+C*C),T/=S,C/=S,T*=g,C*=g,M=-(w-k),P=v-E,S=Math.sqrt(M*M+P*P),M/=S,P/=S,M*=g,P*=g;const R=v-y,H=_-w,N=v-E,L=k-w,V=R*N+H*L,se=H*N-L*R,ne=se<0;if(Math.abs(se)<.001*Math.abs(V)){d.push(v-T*A,w-C*A,v+T*B,w+C*B),V>=0&&(o.join===jt.ROUND?p+=zn(v,w,v-T*A,w-C*A,v-M*A,w-P*A,d,!1)+4:p+=2,d.push(v-M*B,w-P*B,v+M*A,w+P*A));continue}const ye=(-T+y)*(-C+w)-(-T+v)*(-C+_),oe=(-M+E)*(-P+w)-(-M+v)*(-P+k),ge=(R*oe-N*ye)/se,Pe=(L*ye-H*oe)/se,Ue=(ge-v)*(ge-v)+(Pe-w)*(Pe-w),pe=v+(ge-v)*A,me=w+(Pe-w)*A,xe=v-(ge-v)*B,re=w-(Pe-w)*B,we=Math.min(R*R+H*H,N*N+L*L),Re=ne?A:B,ke=we+Re*Re*x,Ft=Ue<=ke;let Yt=o.join;if(Yt===jt.MITER&&Ue/x>b&&(Yt=jt.BEVEL),Ft)switch(Yt){case jt.MITER:{d.push(pe,me,xe,re);break}case jt.BEVEL:{ne?d.push(pe,me,v+T*B,w+C*B,pe,me,v+M*B,w+P*B):d.push(v-T*A,w-C*A,xe,re,v-M*A,w-P*A,xe,re),p+=2;break}case jt.ROUND:{ne?(d.push(pe,me,v+T*B,w+C*B),p+=zn(v,w,v+T*B,w+C*B,v+M*B,w+P*B,d,!0)+4,d.push(pe,me,v+M*B,w+P*B)):(d.push(v-T*A,w-C*A,xe,re),p+=zn(v,w,v-T*A,w-C*A,v-M*A,w-P*A,d,!1)+4,d.push(v-M*A,w-P*A,xe,re));break}}else{switch(d.push(v-T*A,w-C*A,v+T*B,w+C*B),Yt){case jt.MITER:{ne?d.push(xe,re,xe,re):d.push(pe,me,pe,me),p+=2;break}case jt.ROUND:{ne?p+=zn(v,w,v+T*B,w+C*B,v+M*B,w+P*B,d,!0)+2:p+=zn(v,w,v-T*A,w-C*A,v-M*A,w-P*A,d,!1)+2;break}}d.push(v-M*A,w-P*A,v+M*B,w+P*B),p+=2}}y=i[(f-2)*2],_=i[(f-2)*2+1],v=i[(f-1)*2],w=i[(f-1)*2+1],T=-(_-w),C=y-v,S=Math.sqrt(T*T+C*C),T/=S,C/=S,T*=g,C*=g,d.push(v-T*A,w-C*A,v+T*B,w+C*B),u||(o.cap===_n.ROUND?p+=zn(v-T*(A-B)*.5,w-C*(A-B)*.5,v-T*A,w-C*A,v+T*B,w+C*B,d,!1)+2:o.cap===_n.SQUARE&&(p+=s0(v,w,T,C,A,B,!1,d)));const G=e.indices,j=Cs.epsilon*Cs.epsilon;for(let K=m;K<p+m-2;++K)y=d[K*2],_=d[K*2+1],v=d[(K+1)*2],w=d[(K+1)*2+1],E=d[(K+2)*2],k=d[(K+2)*2+1],!(Math.abs(y*(w-k)+v*(k-_)+E*(_-w))<j)&&G.push(K,K+1,K+2)}function _k(r,e){let n=0;const i=r.shape,s=r.points||i.points,o=i.type!==at.POLY||i.closeStroke;if(s.length===0)return;const a=e.points,l=e.indices,u=s.length/2,c=a.length/2;let d=c;for(a.push(s[0],s[1]),n=1;n<u;n++)a.push(s[n*2],s[n*2+1]),l.push(d,d+1),d++;o&&l.push(d,c)}function o0(r,e){r.lineStyle.native?_k(r,e):xk(r,e)}class _p{static curveLength(e,n,i,s,o,a){const l=e-2*i+o,u=n-2*s+a,c=2*i-2*e,d=2*s-2*n,f=4*(l*l+u*u),p=4*(l*c+u*d),m=c*c+d*d,g=2*Math.sqrt(f+p+m),x=Math.sqrt(f),b=2*f*x,y=2*Math.sqrt(m),_=p/x;return(b*g+x*p*(g-y)+(4*m*f-p*p)*Math.log((2*x+_+g)/(_+y)))/(4*b)}static curveTo(e,n,i,s,o){const a=o[o.length-2],l=o[o.length-1],u=Cs._segmentsCount(_p.curveLength(a,l,e,n,i,s));let c=0,d=0;for(let f=1;f<=u;++f){const p=f/u;c=a+(e-a)*p,d=l+(n-l)*p,o.push(c+(e+(i-e)*p-c)*p,d+(n+(s-n)*p-d)*p)}}}const eh={[at.POLY]:wx,[at.CIRC]:au,[at.ELIP]:au,[at.RECT]:gk,[at.RREC]:vk},a0=[],Va=[];class lu{constructor(e,n=null,i=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=n,this.matrix=s,this.type=e.type}clone(){return new lu(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ii=new de,Ex=class Cx extends N1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new nu,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Va.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const n=this.batches[e];n.reset(),a0.push(n)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,n=null,i=null,s=null){const o=new lu(e,n,i,s);return this.graphicsData.push(o),this.dirty++,this}drawHole(e,n=null){if(!this.graphicsData.length)return null;const i=new lu(e,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const n=this.graphicsData;for(let i=0;i<n.length;++i){const s=n[i];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,Ii):Ii.copyFrom(e),s.shape.contains(Ii.x,Ii.y))){let o=!1;if(s.holes){for(let a=0;a<s.holes.length;a++)if(s.holes[a].shape.contains(Ii.x,Ii.y)){o=!0;break}}if(!o)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,n=this.graphicsData;let i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(let u=this.shapeIndex;u<n.length;u++){this.shapeIndex++;const c=n[u],d=c.fillStyle,f=c.lineStyle;eh[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(d.visible||f.visible)&&this.processHoles(c.holes);for(let p=0;p<2;p++){const m=p===0?d:f;if(!m.visible)continue;const g=m.texture.baseTexture,x=this.indices.length,b=this.points.length/2;g.wrapMode=Nn.REPEAT,p===0?this.processFill(c):this.processLine(c);const y=this.points.length/2-b;y!==0&&(i&&!this._compareStyles(s,m)&&(i.end(x,b),i=null),i||(i=a0.pop()||new yk,i.begin(m,x,b),this.batches.push(i),s=m),this.addUvs(this.points,e,m.texture,b,y,m.matrix))}}const o=this.indices.length,a=this.points.length/2;if(i&&i.end(o,a),this.batches.length===0){this.batchable=!0;return}const l=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,n=this.graphicsData.length;e<n;e++){const i=this.graphicsData[e],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let n=0,i=e.length;n<i;n++){const s=e[n];for(let o=0;o<s.size;o++){const a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<Cx.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ie._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Va.push(this.drawCalls[f]);this.drawCalls.length=0;const n=this.colors,i=this.textureIds;let s=Va.pop();s||(s=new kd,s.texArray=new Rd),s.texArray.count=0,s.start=0,s.size=0,s.type=Ar.TRIANGLES;let o=0,a=null,l=0,u=!1,c=Ar.TRIANGLES,d=0;this.drawCalls.push(s);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,g=p.style,x=g.texture.baseTexture;u!==!!g.native&&(u=!!g.native,c=u?Ar.LINES:Ar.TRIANGLES,a=null,o=m,e++),a!==x&&(a=x,x._batchEnabled!==e&&(o===m&&(e++,o=0,s.size>0&&(s=Va.pop(),s||(s=new kd,s.texArray=new Rd),this.drawCalls.push(s)),s.start=d,s.size=0,s.texArray.count=0,s.type=c),x.touched=1,x._batchEnabled=e,x._batchLocation=o,x.wrapMode=Nn.REPEAT,s.texArray.elements[s.texArray.count++]=x,o++)),s.size+=p.size,d+=p.size,l=x._batchLocation,this.addColors(n,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,l,p.attribSize,p.attribStart)}ie._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(e.length*3*4),a=new Float32Array(o),l=new Uint32Array(o);let u=0;for(let c=0;c<e.length/2;c++)a[u++]=e[c*2],a[u++]=e[c*2+1],a[u++]=n[c*2],a[u++]=n[c*2+1],l[u++]=i[c],a[u++]=s[c];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?wx.triangulate(e,this):eh[e.type].triangulate(e,this)}processLine(e){o0(e,this);for(let n=0;n<e.holes.length;n++)o0(e.holes[n],this)}processHoles(e){for(let n=0;n<e.length;n++){const i=e[n];eh[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,n){for(let i=0;i<e.length/2;i++){const s=e[i*2],o=e[i*2+1];e[i*2]=n.a*s+n.c*o+n.tx,e[i*2+1]=n.b*s+n.d*o+n.ty}}addColors(e,n,i,s,o=0){const a=Se.shared.setValue(n).toLittleEndianNumber(),l=Se.shared.setValue(a).toPremultiplied(i);e.length=Math.max(e.length,o+s);for(let u=0;u<s;u++)e[o+u]=l}addTextureIds(e,n,i,s=0){e.length=Math.max(e.length,s+i);for(let o=0;o<i;o++)e[s+o]=n}addUvs(e,n,i,s,o,a=null){let l=0;const u=n.length,c=i.frame;for(;l<o;){let f=e[(s+l)*2],p=e[(s+l)*2+1];if(a){const m=a.a*f+a.c*p+a.tx;p=a.b*f+a.d*p+a.ty,f=m}l++,n.push(f/c.width,p/c.height)}const d=i.baseTexture;(c.width<d.width||c.height<d.height)&&this.adjustUvs(n,i,u,o)}adjustUvs(e,n,i,s){const o=n.baseTexture,a=1e-6,l=i+s*2,u=n.frame,c=u.width/o.width,d=u.height/o.height;let f=u.x/u.width,p=u.y/u.height,m=Math.floor(e[i]+a),g=Math.floor(e[i+1]+a);for(let x=i+2;x<l;x+=2)m=Math.min(m,Math.floor(e[x]+a)),g=Math.min(g,Math.floor(e[x+1]+a));f-=m,p-=g;for(let x=i;x<l;x+=2)e[x]=(e[x]+f)*c,e[x+1]=(e[x+1]+p)*d}};Ex.BATCHABLE_SIZE=100;let bk=Ex;class Uu{constructor(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Uu;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=q.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class bp extends Uu{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=_n.BUTT,this.join=jt.MITER,this.miterLimit=10}clone(){const e=new bp;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=_n.BUTT,this.join=jt.MITER,this.miterLimit=10}}const th={},Qd=class yl extends hr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Uu,this._lineStyle=new bp,this._matrix=null,this._holeMode=!1,this.state=Mr.for2d(),this._geometry=e||new bk,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Se(16777215),this.blendMode=te.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new yl(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,n=0,i,s=.5,o=!1){return typeof e=="number"&&(e={width:e,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(e)}lineTextureStyle(e){const n={width:0,texture:q.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:_n.BUTT,join:jt.MITER,miterLimit:10};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new ai,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new ai,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this}lineTo(e,n){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==e||o!==n)&&i.push(e,n),this}_initCurve(e=0,n=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,n]):this.moveTo(e,n)}quadraticCurveTo(e,n,i,s){this._initCurve();const o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),_p.curveTo(e,n,i,s,o),this}bezierCurveTo(e,n,i,s,o,a){return this._initCurve(),xp.curveTo(e,n,i,s,o,a,this.currentPath.points),this}arcTo(e,n,i,s,o){this._initCurve(e,n);const a=this.currentPath.points,l=i0.curveTo(e,n,i,s,o,a);if(l){const{cx:u,cy:c,radius:d,startAngle:f,endAngle:p,anticlockwise:m}=l;this.arc(u,c,d,f,p,m)}return this}arc(e,n,i,s,o,a=!1){if(s===o)return this;if(!a&&o<=s?o+=Zl:a&&s<=o&&(s+=Zl),o-s===0)return this;const l=e+Math.cos(s)*i,u=n+Math.sin(s)*i,c=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-l),p=Math.abs(d[d.length-1]-u);f<c&&p<c||d.push(l,u)}else this.moveTo(l,u),d=this.currentPath.points;return i0.arc(l,u,e,n,i,s,o,a,d),this}beginFill(e=0,n){return this.beginTextureFill({texture:q.WHITE,color:e,alpha:n})}normalizeColor(e){const n=Se.shared.setValue(e.color??0);e.color=n.toNumber(),e.alpha??(e.alpha=n.alpha)}beginTextureFill(e){const n={texture:q.WHITE,color:16777215,matrix:null};e=Object.assign(n,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,n,i,s){return this.drawShape(new ae(e,n,i,s))}drawRoundedRect(e,n,i,s,o){return this.drawShape(new Fu(e,n,i,s,o))}drawCircle(e,n,i){return this.drawShape(new Lu(e,n,i))}drawEllipse(e,n,i,s){return this.drawShape(new Du(e,n,i,s))}drawPolygon(...e){let n,i=!0;const s=e[0];s.points?(i=s.closeStroke,n=s.points):Array.isArray(e[0])?n=e[0]:n=e;const o=new ai(n);return o.closeStroke=i,this.drawShape(o),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===at.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,n=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let s=0;s<i;s++){const o=e.batches[s],a=o.style.color,l=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,o.start*2,o.size),d={vertexData:l,blendMode:n,indices:c,uvs:u,_batchRGB:Se.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let n=0,i=this.batches.length;n<i;n++){const s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const n=this._resolveDirectShader(e),i=this._geometry,s=this.worldAlpha,o=n.uniforms,a=i.drawCalls;o.translationMatrix=this.transform.worldTransform,Se.shared.setValue(this._tintColor).premultiply(s).toArray(o.tint),e.shader.bind(n),e.geometry.bind(i,n),e.state.set(this.state);for(let l=0,u=a.length;l<u;l++)this._renderDrawCallDirect(e,i.drawCalls[l])}_renderDrawCallDirect(e,n){const{texArray:i,type:s,size:o,start:a}=n,l=i.count;for(let u=0;u<l;u++)e.texture.bind(i.elements[u],u);e.geometry.draw(s,o,a)}_resolveDirectShader(e){let n=this.shader;const i=this.pluginName;if(!n){if(!th[i]){const{maxTextures:s}=e.plugins[i],o=new Int32Array(s);for(let u=0;u<s;u++)o[u]=u;const a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ae,default:ur.from({uSamplers:o},!0)},l=e.plugins[i]._shader.program;th[i]=new Pr(l,a)}n=th[i]}return n}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:n,minY:i,maxX:s,maxY:o}=e.bounds;this._bounds.addFrame(this.transform,n,i,s,o)}containsPoint(e){return this.worldTransform.applyInverse(e,yl._TEMP_POINT),this._geometry.containsPoint(yl._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const n=this.batches[e];n._tintRGB=Se.shared.setValue(this._tintColor).multiply(n._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,l=n.tx,u=n.ty,c=this._geometry.points,d=this.vertexData;let f=0;for(let p=0;p<c.length;p+=2){const m=c[p],g=c[p+1];d[f++]=i*m+o*g+l,d[f++]=a*g+s*m+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Qd.curves=Cs,Qd._TEMP_POINT=new de;let Sx=Qd;class wk{constructor(e,n){this.uvBuffer=e,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}}const rh=new de,l0=new ai,Tx=class Ax extends hr{constructor(e,n,i,s=Ar.TRIANGLES){super(),this.geometry=e,this.shader=n,this.state=i||Mr.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=X.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Ar.TRIANGLES&&n.length<Ax.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],n=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));const s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,d=s.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=n[p*2],g=n[p*2+1];f[p*2]=o*m+l*g+c,f[p*2+1]=a*m+u*g+d}if(this._roundPixels){const p=X.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new wk(e,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,rh);const n=this.geometry.getBuffer("aVertexPosition").data,i=l0.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1;for(let l=0;l+2<o;l+=a){const u=s[l]*2,c=s[l+1]*2,d=s[l+2]*2;if(i[0]=n[u],i[1]=n[u+1],i[2]=n[c],i[3]=n[c+1],i[4]=n[d],i[5]=n[d+1],l0.contains(rh.x,rh.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};Tx.BATCHABLE_SIZE=100;let u0=Tx;class Ek extends Rn{constructor(e,n,i){super();const s=new $e(e),o=new $e(n,!0),a=new $e(i,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,J.FLOAT).addAttribute("aTextureCoord",o,2,!1,J.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var Ck=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Sk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class c0 extends Pr{constructor(e,n){const i={uSampler:e,alpha:1,uTextureMatrix:Ae.IDENTITY,uColor:new Float32Array([1,1,1,1])};n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(i,n.uniforms),super(n.program||$r.from(Sk,Ck),i),this._colorDirty=!1,this.uvMatrix=new H1(e),this.batchable=n.program===void 0,this.pluginName=n.pluginName,this._tintColor=new Se(n.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=n.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Se.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class h0{constructor(e,n,i){this.geometry=new Rn,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let o=e[s];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||J.FLOAT,offset:o.offset},n[s]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let n=0;this.indexBuffer=new $e(VS(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];l.offset=n,n+=l.size,this.dynamicStride+=l.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new $e(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];l.offset=s,s+=l.size,this.staticStride+=l.size}const o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new $e(this.staticData,!0,!1);for(let a=0;a<this.dynamicProperties.length;++a){const l=this.dynamicProperties[a];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===J.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let a=0;a<this.staticProperties.length;++a){const l=this.staticProperties[a];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===J.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,n,i){for(let s=0;s<this.dynamicProperties.length;s++){const o=this.dynamicProperties[s];o.uploadFunction(e,n,i,o.type===J.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,n,i){for(let s=0;s<this.staticProperties.length;s++){const o=this.staticProperties[s];o.uploadFunction(e,n,i,o.type===J.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var Tk=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Ak=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class kx extends Ou{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ae,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:J.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Pr.from(Ak,Tk,{}),this.state=Mr.for2d()}render(e){const n=e.children,i=e._maxSize,s=e._batchSize,o=this.renderer;let a=n.length;if(a===0)return;a>i&&!e.autoResize&&(a=i);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const u=n[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=T1(e.blendMode,c),o.state.set(this.state);const d=o.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Se.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,g=0;m<a;m+=s,g+=1){let x=a-m;x>s&&(x=s),g>=l.length&&l.push(this._generateOneMoreBuffer(e));const b=l[g];b.uploadDynamic(n,m,x);const y=e._bufferUpdateIDs[g]||0;p=p||b._updateID<y,p&&(b._updateID=e._updateID,b.uploadStatic(n,m,x)),o.geometry.bind(b.geometry),d.drawElements(d.TRIANGLES,x*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const n=[],i=e._maxSize,s=e._batchSize,o=e._properties;for(let a=0;a<i;a+=s)n.push(new h0(this.properties,o,s));return n}_generateOneMoreBuffer(e){const n=e._batchSize,i=e._properties;return new h0(this.properties,i,n)}uploadVertices(e,n,i,s,o,a){let l=0,u=0,c=0,d=0;for(let f=0;f<i;++f){const p=e[n+f],m=p._texture,g=p.scale.x,x=p.scale.y,b=m.trim,y=m.orig;b?(u=b.x-p.anchor.x*y.width,l=u+b.width,d=b.y-p.anchor.y*y.height,c=d+b.height):(l=y.width*(1-p.anchor.x),u=y.width*-p.anchor.x,c=y.height*(1-p.anchor.y),d=y.height*-p.anchor.y),s[a]=u*g,s[a+1]=d*x,s[a+o]=l*g,s[a+o+1]=d*x,s[a+o*2]=l*g,s[a+o*2+1]=c*x,s[a+o*3]=u*g,s[a+o*3+1]=c*x,a+=o*4}}uploadPosition(e,n,i,s,o,a){for(let l=0;l<i;l++){const u=e[n+l].position;s[a]=u.x,s[a+1]=u.y,s[a+o]=u.x,s[a+o+1]=u.y,s[a+o*2]=u.x,s[a+o*2+1]=u.y,s[a+o*3]=u.x,s[a+o*3+1]=u.y,a+=o*4}}uploadRotation(e,n,i,s,o,a){for(let l=0;l<i;l++){const u=e[n+l].rotation;s[a]=u,s[a+o]=u,s[a+o*2]=u,s[a+o*3]=u,a+=o*4}}uploadUvs(e,n,i,s,o,a){for(let l=0;l<i;++l){const u=e[n+l]._texture._uvs;u?(s[a]=u.x0,s[a+1]=u.y0,s[a+o]=u.x1,s[a+o+1]=u.y1,s[a+o*2]=u.x2,s[a+o*2+1]=u.y2,s[a+o*3]=u.x3,s[a+o*3+1]=u.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}}uploadTint(e,n,i,s,o,a){for(let l=0;l<i;++l){const u=e[n+l],c=Se.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);s[a]=c,s[a+o]=c,s[a+o*2]=c,s[a+o*3]=c,a+=o*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}kx.extension={name:"particle",type:$.RendererPlugin};Q.add(kx);var zu=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(zu||{});const Wa={willReadFrequently:!0},xr=class Z{static get experimentalLetterSpacingSupported(){let e=Z._experimentalLetterSpacingSupported;if(e!==void 0){const n=X.ADAPTER.getCanvasRenderingContext2D().prototype;e=Z._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,i,s,o,a,l,u,c){this.text=e,this.style=n,this.width=i,this.height=s,this.lines=o,this.lineWidths=a,this.lineHeight=l,this.maxLineWidth=u,this.fontProperties=c}static measureText(e,n,i,s=Z._canvas){i=i??n.wordWrap;const o=n.toFontString(),a=Z.measureFont(o);a.fontSize===0&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);const l=s.getContext("2d",Wa);l.font=o;const u=(i?Z.wordWrap(e,n,s):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length);let d=0;for(let g=0;g<u.length;g++){const x=Z._measureText(u[g],n.letterSpacing,l);c[g]=x,d=Math.max(d,x)}let f=d+n.strokeThickness;n.dropShadow&&(f+=n.dropShadowDistance);const p=n.lineHeight||a.fontSize+n.strokeThickness;let m=Math.max(p,a.fontSize+n.strokeThickness*2)+n.leading+(u.length-1)*(p+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new Z(e,n,f,m,u,c,p+n.leading,d,a)}static _measureText(e,n,i){let s=!1;Z.experimentalLetterSpacingSupported&&(Z.experimentalLetterSpacing?(i.letterSpacing=`${n}px`,i.textLetterSpacing=`${n}px`,s=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let o=i.measureText(e).width;return o>0&&(s?o-=n:o+=(Z.graphemeSegmenter(e).length-1)*n),o}static wordWrap(e,n,i=Z._canvas){const s=i.getContext("2d",Wa);let o=0,a="",l="";const u=Object.create(null),{letterSpacing:c,whiteSpace:d}=n,f=Z.collapseSpaces(d),p=Z.collapseNewlines(d);let m=!f;const g=n.wordWrapWidth+c,x=Z.tokenize(e);for(let b=0;b<x.length;b++){let y=x[b];if(Z.isNewline(y)){if(!p){l+=Z.addLine(a),m=!f,a="",o=0;continue}y=" "}if(f){const v=Z.isBreakingSpace(y),w=Z.isBreakingSpace(a[a.length-1]);if(v&&w)continue}const _=Z.getFromCache(y,c,u,s);if(_>g)if(a!==""&&(l+=Z.addLine(a),a="",o=0),Z.canBreakWords(y,n.breakWords)){const v=Z.wordWrapSplit(y);for(let w=0;w<v.length;w++){let E=v[w],k=E,T=1;for(;v[w+T];){const M=v[w+T];if(!Z.canBreakChars(k,M,y,w,n.breakWords))E+=M;else break;k=M,T++}w+=T-1;const C=Z.getFromCache(E,c,u,s);C+o>g&&(l+=Z.addLine(a),m=!1,a="",o=0),a+=E,o+=C}}else{a.length>0&&(l+=Z.addLine(a),a="",o=0);const v=b===x.length-1;l+=Z.addLine(y,!v),m=!1,a="",o=0}else _+o>g&&(m=!1,l+=Z.addLine(a),a="",o=0),(a.length>0||!Z.isBreakingSpace(y)||m)&&(a+=y,o+=_)}return l+=Z.addLine(a,!1),l}static addLine(e,n=!0){return e=Z.trimRight(e),e=n?`${e}
`:e,e}static getFromCache(e,n,i,s){let o=i[e];return typeof o!="number"&&(o=Z._measureText(e,n,s)+n,i[e]=o),o}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const i=e[n];if(!Z.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Z._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:Z._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const n=[];let i="";if(typeof e!="string")return n;for(let s=0;s<e.length;s++){const o=e[s],a=e[s+1];if(Z.isBreakingSpace(o,a)||Z.isNewline(o)){i!==""&&(n.push(i),i=""),n.push(o);continue}i+=o}return i!==""&&n.push(i),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,i,s,o){return!0}static wordWrapSplit(e){return Z.graphemeSegmenter(e)}static measureFont(e){if(Z._fonts[e])return Z._fonts[e];const n={ascent:0,descent:0,fontSize:0},i=Z._canvas,s=Z._context;s.font=e;const o=Z.METRICS_STRING+Z.BASELINE_SYMBOL,a=Math.ceil(s.measureText(o).width);let l=Math.ceil(s.measureText(Z.BASELINE_SYMBOL).width);const u=Math.ceil(Z.HEIGHT_MULTIPLIER*l);if(l=l*Z.BASELINE_MULTIPLIER|0,a===0||u===0)return Z._fonts[e]=n,n;i.width=a,i.height=u,s.fillStyle="#f00",s.fillRect(0,0,a,u),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(o,0,l);const c=s.getImageData(0,0,a,u).data,d=c.length,f=a*4;let p=0,m=0,g=!1;for(p=0;p<l;++p){for(let x=0;x<f;x+=4)if(c[m+x]!==255){g=!0;break}if(!g)m+=f;else break}for(n.ascent=l-p,m=d-f,g=!1,p=u;p>l;--p){for(let x=0;x<f;x+=4)if(c[m+x]!==255){g=!0;break}if(!g)m-=f;else break}return n.descent=p-l,n.fontSize=n.ascent+n.descent,Z._fonts[e]=n,n}static clearMetrics(e=""){e?delete Z._fonts[e]:Z._fonts={}}static get _canvas(){var e;if(!Z.__canvas){let n;try{const i=new OffscreenCanvas(0,0);if((e=i.getContext("2d",Wa))!=null&&e.measureText)return Z.__canvas=i,i;n=X.ADAPTER.createCanvas()}catch{n=X.ADAPTER.createCanvas()}n.width=n.height=10,Z.__canvas=n}return Z.__canvas}static get _context(){return Z.__context||(Z.__context=Z._canvas.getContext("2d",Wa)),Z.__context}};xr.METRICS_STRING="|q",xr.BASELINE_SYMBOL="M",xr.BASELINE_MULTIPLIER=1.4,xr.HEIGHT_MULTIPLIER=2,xr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(n=>n.segment)}return r=>[...r]})(),xr.experimentalLetterSpacing=!1,xr._fonts={},xr._newlines=[10,13],xr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let dn=xr;const kk=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Nx=class co{constructor(e){this.styleID=0,this.reset(),ih(this,e,e)}clone(){const e={};return ih(e,this,co.defaultStyle),new co(e)}reset(){ih(this,co.defaultStyle,co.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const n=nh(e);this._dropShadowColor!==n&&(this._dropShadowColor=n,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const n=nh(e);this._fill!==n&&(this._fill=n,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){Nk(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const n=nh(e);this._stroke!==n&&(this._stroke=n,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(let i=n.length-1;i>=0;i--){let s=n[i].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!kk.includes(s)&&(s=`"${s}"`),n[i]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${n.join(",")}`}};Nx.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:zu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Mn=Nx;function nh(r){const e=Se.shared,n=i=>{const s=e.setValue(i);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(r)?r.map(n):n(r)}function Nk(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let n=0;n<r.length;++n)if(r[n]!==e[n])return!1;return!0}function ih(r,e,n){for(const i in n)Array.isArray(e[i])?r[i]=e[i].slice():r[i]=e[i]}const Ik={texture:!0,children:!1,baseTexture:!0},Ix=class Zd extends Ms{constructor(e,n,i){let s=!1;i||(i=X.ADAPTER.createCanvas(),s=!0),i.width=3,i.height=3;const o=q.from(i);o.orig=new ae,o.trim=new ae,super(o),this._ownCanvas=s,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=Zd.defaultResolution??X.RESOLUTION,this._autoResolution=Zd.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=n,this.localStyleID=-1}static get experimentalLetterSpacing(){return dn.experimentalLetterSpacing}static set experimentalLetterSpacing(e){le("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),dn.experimentalLetterSpacing=e}updateText(e){const n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,s=dn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,l=s.lines,u=s.lineHeight,c=s.lineWidths,d=s.maxLineWidth,f=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;let p,m;const g=n.dropShadow?2:1;for(let x=0;x<g;++x){const b=n.dropShadow&&x===0,y=b?Math.ceil(Math.max(1,a)+n.padding*2):0,_=y*this._resolution;if(b){i.fillStyle="black",i.strokeStyle="black";const w=n.dropShadowColor,E=n.dropShadowBlur*this._resolution,k=n.dropShadowDistance*this._resolution;i.shadowColor=Se.shared.setValue(w).setAlpha(n.dropShadowAlpha).toRgbaString(),i.shadowBlur=E,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*k,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*k+_}else i.fillStyle=this._generateFillStyle(n,l,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let v=(u-f.fontSize)/2;u-f.fontSize<0&&(v=0);for(let w=0;w<l.length;w++)p=n.strokeThickness/2,m=n.strokeThickness/2+w*u+f.ascent+v,n.align==="right"?p+=d-c[w]:n.align==="center"&&(p+=(d-c[w])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(l[w],p+n.padding,m+n.padding-y,!0),n.fill&&this.drawLetterSpacing(l[w],p+n.padding,m+n.padding-y)}this.updateTexture()}drawLetterSpacing(e,n,i,s=!1){const o=this._style.letterSpacing;let a=!1;if(dn.experimentalLetterSpacingSupported&&(dn.experimentalLetterSpacing?(this.context.letterSpacing=`${o}px`,this.context.textLetterSpacing=`${o}px`,a=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),o===0||a){s?this.context.strokeText(e,n,i):this.context.fillText(e,n,i);return}let l=n;const u=dn.graphemeSegmenter(e);let c=this.context.measureText(e).width,d=0;for(let f=0;f<u.length;++f){const p=u[f];s?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);let m="";for(let g=f+1;g<u.length;++g)m+=u[g];d=this.context.measureText(m).width,l+=c-d+o,c=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const a=KS(e);a.data&&(e.width=a.width,e.height=a.height,this.context.putImageData(a.data,0,0))}const n=this._texture,i=this._style,s=i.trim?0:i.padding,o=n.baseTexture;n.trim.width=n._frame.width=e.width/this._resolution,n.trim.height=n._frame.height=e.height/this._resolution,n.trim.x=-s,n.trim.y=-s,n.orig.width=n._frame.width-s*2,n.orig.height=n._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),n.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,n){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,n)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,n,i){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let o;const a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=this.canvas.width/this._resolution-a-l*2,c=this.canvas.height/this._resolution-a-l*2,d=s.slice(),f=e.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(s[0]),f.unshift(0),d.push(s[s.length-1]),f.push(1),e.fillGradientType===zu.LINEAR_VERTICAL){o=this.context.createLinearGradient(u/2,l,u/2,c+l);const p=i.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<n.length;m++){const g=i.lineHeight*(m-1)+p,x=i.lineHeight*m;let b=x;m>0&&g>x&&(b=(x+g)/2);const y=x+p,_=i.lineHeight*(m+1);let v=y;m+1<n.length&&_<y&&(v=(y+_)/2);const w=(v-b)/c;for(let E=0;E<d.length;E++){let k=0;typeof f[E]=="number"?k=f[E]:k=E/d.length;let T=Math.min(1,Math.max(0,b/c+k*w));T=Number(T.toFixed(5)),o.addColorStop(T,d[E])}}}else{o=this.context.createLinearGradient(l,c/2,u+l,c/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let x;typeof f[g]=="number"?x=f[g]:x=m/p,o.addColorStop(x,d[g]),m++}}return o}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Ik,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const n=xn(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const n=xn(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Mn?this._style=e:this._style=new Mn(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};Ix.defaultAutoResolution=!0;let Px=Ix;class Pk{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function Rk(r,e){var i;let n=!1;if((i=r==null?void 0:r._textures)!=null&&i.length){for(let s=0;s<r._textures.length;s++)if(r._textures[s]instanceof q){const o=r._textures[s].baseTexture;e.includes(o)||(e.push(o),n=!0)}}return n}function Mk(r,e){if(r.baseTexture instanceof ie){const n=r.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Bk(r,e){if(r._texture&&r._texture instanceof q){const n=r._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Lk(r,e){return e instanceof Px?(e.updateText(!0),!0):!1}function Dk(r,e){if(e instanceof Mn){const n=e.toFontString();return dn.measureFont(n),!0}return!1}function Fk(r,e){if(r instanceof Px){e.includes(r.style)||e.push(r.style),e.includes(r)||e.push(r);const n=r._texture.baseTexture;return e.includes(n)||e.push(n),!0}return!1}function Ok(r,e){return r instanceof Mn?(e.includes(r)||e.push(r),!0):!1}const Rx=class Mx{constructor(e){this.limiter=new Pk(Mx.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(Fk),this.registerFindHook(Ok),this.registerFindHook(Rk),this.registerFindHook(Mk),this.registerFindHook(Bk),this.registerUploadHook(Lk),this.registerUploadHook(Dk)}upload(e){return new Promise(n=>{e&&this.add(e),this.queue.length?(this.completes.push(n),this.ticking||(this.ticking=!0,It.system.addOnce(this.tick,this,gi.UTILITY))):n()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let n=!1;if(e&&!e._destroyed){for(let i=0,s=this.uploadHooks.length;i<s;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)It.system.addOnce(this.tick,this,gi.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let n=0,i=e.length;n<i;n++)e[n]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let n=0,i=this.addHooks.length;n<i&&!this.addHooks[n](e,this.queue);n++);if(e instanceof hr)for(let n=e.children.length-1;n>=0;n--)this.add(e.children[n]);return this}destroy(){this.ticking&&It.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};Rx.uploadsPerFrame=4;let Jd=Rx;Object.defineProperties(X,{UPLOADS_PER_FRAME:{get(){return Jd.uploadsPerFrame},set(r){le("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Jd.uploadsPerFrame=r}}});function Bx(r,e){return e instanceof ie?(e._glTextures[r.CONTEXT_UID]||r.texture.bind(e),!0):!1}function jk(r,e){if(!(e instanceof Sx))return!1;const{geometry:n}=e;e.finishPoly(),n.updateBatches();const{batches:i}=n;for(let s=0;s<i.length;s++){const{texture:o}=i[s].style;o&&Bx(r,o.baseTexture)}return n.batchable||r.geometry.bind(n,e._resolveDirectShader(r)),!0}function Uk(r,e){return r instanceof Sx?(e.push(r),!0):!1}class Lx extends Jd{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(Uk),this.registerUploadHook(Bx),this.registerUploadHook(jk)}}Lx.extension={name:"prepare",type:$.RendererSystem};Q.add(Lx);var zk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Gk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Hk=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,d0=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,$k=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Xa=new Ae;class Dx extends Ou{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new j1,this.state=Mr.for2d()}contextChange(){const e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=Pr.from(d0,$k,n),this.shader=e.context.webGLVersion>1?Pr.from(Gk,zk,n):Pr.from(d0,Hk,n)}render(e){const n=this.renderer,i=this.quad;let s=i.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const o=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,i.invalidate();const l=e._texture,u=l.baseTexture,c=u.alphaMode>0,d=e.tileTransform.localTransform,f=e.uvMatrix;let p=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;p&&(u._glTextures[n.CONTEXT_UID]?p=u.wrapMode!==Nn.CLAMP:u.wrapMode===Nn.CLAMP&&(u.wrapMode=Nn.REPEAT));const m=p?this.simpleShader:this.shader,g=l.width,x=l.height,b=e._width,y=e._height;Xa.set(d.a*g/b,d.b*g/y,d.c*x/b,d.d*x/y,d.tx/b,d.ty/y),Xa.invert(),p?Xa.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=Xa.toArray(!0),m.uniforms.uColor=Se.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=l,n.shader.bind(m),n.geometry.bind(i),this.state.blendMode=T1(e.blendMode,c),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Dx.extension={name:"tilingSprite",type:$.RendererPlugin};Q.add(Dx);const Fx=class ho{constructor(e,n,i){this.linkedSheets=[],(e instanceof ie||e instanceof q)&&(e={texture:e,data:n,resolutionFilename:i});const{texture:s,data:o,resolutionFilename:a=null,cachePrefix:l=""}=e;this.cachePrefix=l,this._texture=s instanceof q?s:null,this.baseTexture=s instanceof ie?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=o;const u=this.baseTexture.resource;this.resolution=this._updateResolution(a||(u?u.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:n}=this.data.meta;let i=Qr(e,null);return i===null&&(i=typeof n=="number"?n:parseFloat(n??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=ho.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const i=ho.BATCH_SIZE;for(;n-e<i&&n<this._frameKeys.length;){const s=this._frameKeys[n],o=this._frames[s],a=o.frame;if(a){let l=null,u=null;const c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,d=new ae(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?l=new ae(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):l=new ae(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(u=new ae(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[s]=new q(this.baseTexture,l,d,u,o.rotated?2:0,o.anchor,o.borders),q.addToCache(this.textures[s],this.cachePrefix+s.toString())}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let i=0;i<e[n].length;i++){const s=e[n][i];this.animations[n].push(this.textures[s])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*ho.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*ho.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var n;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((n=this._texture)==null||n.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};Fx.BATCH_SIZE=1e3;let f0=Fx;const Vk=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function Ox(r,e,n){const i={};if(r.forEach(s=>{i[s]=e}),Object.keys(e.textures).forEach(s=>{i[`${e.cachePrefix}${s}`]=e.textures[s]}),!n){const s=it.dirname(r[0]);e.linkedSheets.forEach((o,a)=>{Object.assign(i,Ox([`${s}/${e.data.meta.related_multi_packs[a]}`],o,!0))})}return i}const Wk={extension:$.Asset,cache:{test:r=>r instanceof f0,getCacheableAssets:(r,e)=>Ox(r,e,!1)},resolver:{test:r=>{const e=r.split("?")[0].split("."),n=e.pop(),i=e.pop();return n==="json"&&Vk.includes(i)},parse:r=>{var n;const e=r.split(".");return{resolution:parseFloat(((n=X.RETINA_PREFIX.exec(r))==null?void 0:n[1])??"1"),format:e[e.length-2],src:r}}},loader:{name:"spritesheetLoader",extension:{type:$.LoadParser,priority:dr.Normal},async testParse(r,e){return it.extname(e.src).toLowerCase()===".json"&&!!r.frames},async parse(r,e,n){var d,f;const{texture:i,imageFilename:s,cachePrefix:o}=(e==null?void 0:e.data)??{};let a=it.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(i&&i.baseTexture)l=i;else{const p=Yd(a+(s??r.meta.image),e.src);l=(await n.load([p]))[p]}const u=new f0({texture:l.baseTexture,data:r,resolutionFilename:e.src,cachePrefix:o});await u.parse();const c=(d=r==null?void 0:r.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(c)){const p=[];for(const g of c){if(typeof g!="string")continue;let x=a+g;(f=e.data)!=null&&f.ignoreMultiPack||(x=Yd(x,e.src),p.push(n.load({src:x,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(p);u.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[u].concat(u.linkedSheets.filter(x=>x!==g))})}return u},unload(r){r.destroy(!0)}}};Q.add(Wk);class uu{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class xl{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const n=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const o in n){const a=n[o].match(/^[a-z]+/gm)[0],l=n[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const c in l){const d=l[c].split("="),f=d[0],p=d[1].replace(/"/gm,""),m=parseFloat(p),g=isNaN(m)?p:m;u[f]=g}i[a].push(u)}const s=new uu;return i.info.forEach(o=>s.info.push({face:o.face,size:parseInt(o.size,10)})),i.common.forEach(o=>s.common.push({lineHeight:parseInt(o.lineHeight,10)})),i.page.forEach(o=>s.page.push({id:parseInt(o.id,10),file:o.file})),i.char.forEach(o=>s.char.push({id:parseInt(o.id,10),page:parseInt(o.page,10),x:parseInt(o.x,10),y:parseInt(o.y,10),width:parseInt(o.width,10),height:parseInt(o.height,10),xoffset:parseInt(o.xoffset,10),yoffset:parseInt(o.yoffset,10),xadvance:parseInt(o.xadvance,10)})),i.kerning.forEach(o=>s.kerning.push({first:parseInt(o.first,10),second:parseInt(o.second,10),amount:parseInt(o.amount,10)})),i.distanceField.forEach(o=>s.distanceField.push({distanceRange:parseInt(o.distanceRange,10),fieldType:o.fieldType})),s}}class ef{static test(e){const n=e;return typeof e!="string"&&"getElementsByTagName"in e&&n.getElementsByTagName("page").length&&n.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const n=new uu,i=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),o=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)n.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<s.length;c++)n.common.push({lineHeight:parseInt(s[c].getAttribute("lineHeight"),10)});for(let c=0;c<o.length;c++)n.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(let c=0;c<a.length;c++){const d=a[c];n.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let c=0;c<l.length;c++)n.kerning.push({first:parseInt(l[c].getAttribute("first"),10),second:parseInt(l[c].getAttribute("second"),10),amount:parseInt(l[c].getAttribute("amount"),10)});for(let c=0;c<u.length;c++)n.distanceField.push({fieldType:u[c].getAttribute("fieldType"),distanceRange:parseInt(u[c].getAttribute("distanceRange"),10)});return n}}class tf{static test(e){return typeof e=="string"&&e.includes("<font>")?ef.test(X.ADAPTER.parseXML(e)):!1}static parse(e){return ef.parse(X.ADAPTER.parseXML(e))}}const sh=[xl,ef,tf];function Xk(r){for(let e=0;e<sh.length;e++)if(sh[e].test(r))return sh[e];return null}function Yk(r,e,n,i,s,o){const a=n.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;let l;const u=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,d=r.width/i-u-c*2,f=r.height/i-u-c*2,p=a.slice(),m=n.fillGradientStops.slice();if(!m.length){const g=p.length+1;for(let x=1;x<g;++x)m.push(x/g)}if(p.unshift(a[0]),m.unshift(0),p.push(a[a.length-1]),m.push(1),n.fillGradientType===zu.LINEAR_VERTICAL){l=e.createLinearGradient(d/2,c,d/2,f+c);let g=0;const x=(o.fontProperties.fontSize+n.strokeThickness)/f;for(let b=0;b<s.length;b++){const y=o.lineHeight*b;for(let _=0;_<p.length;_++){let v=0;typeof m[_]=="number"?v=m[_]:v=_/p.length;const w=y/f+v*x;let E=Math.max(g,w);E=Math.min(E,1),l.addColorStop(E,p[_]),g=E}}}else{l=e.createLinearGradient(c,f/2,d+c,f/2);const g=p.length+1;let x=1;for(let b=0;b<p.length;b++){let y;typeof m[b]=="number"?y=m[b]:y=x/g,l.addColorStop(y,p[b]),x++}}return l}function Kk(r,e,n,i,s,o,a){const l=n.text,u=n.fontProperties;e.translate(i,s),e.scale(o,o);const c=a.strokeThickness/2,d=-(a.strokeThickness/2);if(e.font=a.toFontString(),e.lineWidth=a.strokeThickness,e.textBaseline=a.textBaseline,e.lineJoin=a.lineJoin,e.miterLimit=a.miterLimit,e.fillStyle=Yk(r,e,a,o,[l],n),e.strokeStyle=a.stroke,a.dropShadow){const f=a.dropShadowColor,p=a.dropShadowBlur*o,m=a.dropShadowDistance*o;e.shadowColor=Se.shared.setValue(f).setAlpha(a.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(a.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(a.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;a.stroke&&a.strokeThickness&&e.strokeText(l,c,d+n.lineHeight-u.descent),a.fill&&e.fillText(l,c,d+n.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function _l(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function jx(r){return Array.from?Array.from(r):r.split("")}function qk(r){typeof r=="string"&&(r=[r]);const e=[];for(let n=0,i=r.length;n<i;n++){const s=r[n];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const o=s[0].charCodeAt(0),a=s[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(let l=o,u=a;l<=u;l++)e.push(String.fromCharCode(l))}else e.push(...jx(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const an=class _r{constructor(e,n,i){var d;const[s]=e.info,[o]=e.common,[a]=e.page,[l]=e.distanceField,u=Qr(a.file),c={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/u,this.chars={},this.pageTextures=c;for(let f=0;f<e.page.length;f++){const{id:p,file:m}=e.page[f];c[p]=n instanceof Array?n[f]:n[m],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[p].baseTexture.alphaMode=wt.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=Rr.OFF)}for(let f=0;f<e.char.length;f++){const{id:p,page:m}=e.char[f];let{x:g,y:x,width:b,height:y,xoffset:_,yoffset:v,xadvance:w}=e.char[f];g/=u,x/=u,b/=u,y/=u,_/=u,v/=u,w/=u;const E=new ae(g+c[m].frame.x/u,x+c[m].frame.y/u,b,y);this.chars[p]={xOffset:_,yOffset:v,xAdvance:w,kerning:{},texture:new q(c[m].baseTexture,E),page:m}}for(let f=0;f<e.kerning.length;f++){let{first:p,second:m,amount:g}=e.kerning[f];p/=u,m/=u,g/=u,this.chars[m]&&(this.chars[m].kerning[p]=g)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((d=l==null?void 0:l.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,n,i){let s;if(e instanceof uu)s=e;else{const a=Xk(e);if(!a)throw new Error("Unrecognized data format for font.");s=a.parse(e)}n instanceof q&&(n=[n]);const o=new _r(s,n,i);return _r.available[o.font]=o,o}static uninstall(e){const n=_r.available[e];if(!n)throw new Error(`No font found named '${e}'`);n.destroy(),delete _r.available[e]}static from(e,n,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:o,resolution:a,textureWidth:l,textureHeight:u,...c}=Object.assign({},_r.defaultOptions,i),d=qk(s),f=n instanceof Mn?n:new Mn(n),p=l,m=new uu;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let g=0,x=0,b,y,_,v=0;const w=[];for(let k=0;k<d.length;k++){b||(b=X.ADAPTER.createCanvas(),b.width=l,b.height=u,y=b.getContext("2d"),_=new ie(b,{resolution:a,...c}),w.push(new q(_)),m.page.push({id:w.length-1,file:""}));const T=d[k],C=dn.measureText(T,f,!1,b),M=C.width,P=Math.ceil(C.height),S=Math.ceil((f.fontStyle==="italic"?2:1)*M);if(x>=u-P*a){if(x===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${T}')`);--k,b=null,y=null,_=null,x=0,g=0,v=0;continue}if(v=Math.max(P+C.fontProperties.descent,v),S*a+g>=p){if(g===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${T}')`);--k,x+=v*a,x=Math.ceil(x),g=0,v=0;continue}Kk(b,y,C,g,x,a,f);const O=_l(C.text);m.char.push({id:O,page:w.length-1,x:g/a,y:x/a,width:S,height:P,xoffset:0,yoffset:0,xadvance:M-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),g+=(S+2*o)*a,g=Math.ceil(g)}if(!(i!=null&&i.skipKerning))for(let k=0,T=d.length;k<T;k++){const C=d[k];for(let M=0;M<T;M++){const P=d[M],S=y.measureText(C).width,O=y.measureText(P).width,A=y.measureText(C+P).width-(S+O);A&&m.kerning.push({first:_l(C),second:_l(P),amount:A})}}const E=new _r(m,w,!0);return _r.available[e]!==void 0&&_r.uninstall(e),_r.available[e]=E,E}};an.ALPHA=[["a","z"],["A","Z"]," "],an.NUMERIC=[["0","9"]],an.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],an.ASCII=[[" ","~"]],an.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:an.ALPHANUMERIC},an.available={};let ln=an;var Qk=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,Zk=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const p0=[],m0=[],g0=[],Jk=class Ux extends hr{constructor(e,n={}){super();const{align:i,tint:s,maxWidth:o,letterSpacing:a,fontName:l,fontSize:u}=Object.assign({},Ux.styleDefaults,n);if(!ln.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new Se(s),this._font=void 0,this._fontName=l,this._fontSize=u,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new Hr(()=>{this.dirty=!0},this,0,0),this._roundPixels=X.ROUND_PIXELS,this.dirty=!0,this._resolution=X.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var S;const e=ln.available[this._fontName],n=this.fontSize,i=n/e.size,s=new de,o=[],a=[],l=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=jx(u),d=this._maxWidth*e.size/n,f=e.distanceFieldType==="none"?p0:m0;let p=null,m=0,g=0,x=0,b=-1,y=0,_=0,v=0,w=0;for(let O=0;O<c.length;O++){const A=c[O],B=_l(A);if(/(?:\s)/.test(A)&&(b=O,y=m,w++),A==="\r"||A===`
`){a.push(m),l.push(-1),g=Math.max(g,m),++x,++_,s.x=0,s.y+=e.lineHeight,p=null,w=0;continue}const G=e.chars[B];if(!G)continue;p&&G.kerning[p]&&(s.x+=G.kerning[p]);const j=g0.pop()||{texture:q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new de};j.texture=G.texture,j.line=x,j.charCode=B,j.position.x=Math.round(s.x+G.xOffset+this._letterSpacing/2),j.position.y=Math.round(s.y+G.yOffset),j.prevSpaces=w,o.push(j),m=j.position.x+Math.max(G.xAdvance-G.xOffset,G.texture.orig.width),s.x+=G.xAdvance+this._letterSpacing,v=Math.max(v,G.yOffset+G.texture.height),p=B,b!==-1&&d>0&&s.x>d&&(++_,ls(o,1+b-_,1+O-b),O=b,b=-1,a.push(y),l.push(o.length>0?o[o.length-1].prevSpaces:0),g=Math.max(g,y),x++,s.x=0,s.y+=e.lineHeight,p=null,w=0)}const E=c[c.length-1];E!=="\r"&&E!==`
`&&(/(?:\s)/.test(E)&&(m=y),a.push(m),g=Math.max(g,m),l.push(-1));const k=[];for(let O=0;O<=x;O++){let A=0;this._align==="right"?A=g-a[O]:this._align==="center"?A=(g-a[O])/2:this._align==="justify"&&(A=l[O]<0?0:(g-a[O])/l[O]),k.push(A)}const T=o.length,C={},M=[],P=this._activePagesMeshData;f.push(...P);for(let O=0;O<T;O++){const A=o[O].texture,B=A.baseTexture.uid;if(!C[B]){let G=f.pop();if(!G){const K=new Ek;let R,H;e.distanceFieldType==="none"?(R=new c0(q.EMPTY),H=te.NORMAL):(R=new c0(q.EMPTY,{program:$r.from(Zk,Qk),uniforms:{uFWidth:0}}),H=te.NORMAL_NPM);const N=new u0(K,R);N.blendMode=H,G={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:N,vertices:null,uvs:null,indices:null}}G.index=0,G.indexCount=0,G.vertexCount=0,G.uvsCount=0,G.total=0;const{_textureCache:j}=this;j[B]=j[B]||new q(A.baseTexture),G.mesh.texture=j[B],G.mesh.tint=this._tintColor.value,M.push(G),C[B]=G}C[B].total++}for(let O=0;O<P.length;O++)M.includes(P[O])||this.removeChild(P[O].mesh);for(let O=0;O<M.length;O++)M[O].mesh.parent!==this&&this.addChild(M[O].mesh);this._activePagesMeshData=M;for(const O in C){const A=C[O],B=A.total;if(!(((S=A.indices)==null?void 0:S.length)>6*B)||A.vertices.length<u0.BATCHABLE_SIZE*2)A.vertices=new Float32Array(4*2*B),A.uvs=new Float32Array(4*2*B),A.indices=new Uint16Array(6*B);else{const G=A.total,j=A.vertices;for(let K=G*4*2;K<j.length;K++)j[K]=0}A.mesh.size=6*B}for(let O=0;O<T;O++){const A=o[O];let B=A.position.x+k[A.line]*(this._align==="justify"?A.prevSpaces:1);this._roundPixels&&(B=Math.round(B));const G=B*i,j=A.position.y*i,K=A.texture,R=C[K.baseTexture.uid],H=K.frame,N=K._uvs,L=R.index++;R.indices[L*6+0]=0+L*4,R.indices[L*6+1]=1+L*4,R.indices[L*6+2]=2+L*4,R.indices[L*6+3]=0+L*4,R.indices[L*6+4]=2+L*4,R.indices[L*6+5]=3+L*4,R.vertices[L*8+0]=G,R.vertices[L*8+1]=j,R.vertices[L*8+2]=G+H.width*i,R.vertices[L*8+3]=j,R.vertices[L*8+4]=G+H.width*i,R.vertices[L*8+5]=j+H.height*i,R.vertices[L*8+6]=G,R.vertices[L*8+7]=j+H.height*i,R.uvs[L*8+0]=N.x0,R.uvs[L*8+1]=N.y0,R.uvs[L*8+2]=N.x1,R.uvs[L*8+3]=N.y1,R.uvs[L*8+4]=N.x2,R.uvs[L*8+5]=N.y2,R.uvs[L*8+6]=N.x3,R.uvs[L*8+7]=N.y3}this._textWidth=g*i,this._textHeight=(s.y+e.lineHeight)*i;for(const O in C){const A=C[O];if(this.anchor.x!==0||this.anchor.y!==0){let K=0;const R=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let N=0;N<A.total;N++)A.vertices[K++]-=R,A.vertices[K++]-=H,A.vertices[K++]-=R,A.vertices[K++]-=H,A.vertices[K++]-=R,A.vertices[K++]-=H,A.vertices[K++]-=R,A.vertices[K++]-=H}this._maxLineHeight=v*i;const B=A.mesh.geometry.getBuffer("aVertexPosition"),G=A.mesh.geometry.getBuffer("aTextureCoord"),j=A.mesh.geometry.getIndex();B.data=A.vertices,G.data=A.uvs,j.data=A.indices,B.update(),G.update(),j.update()}for(let O=0;O<o.length;O++)g0.push(o[O]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:n,distanceFieldType:i,size:s}=ln.available[this._fontName];if(i!=="none"){const{a:o,b:a,c:l,d:u}=this.worldTransform,c=Math.sqrt(o*o+a*a),d=Math.sqrt(l*l+u*u),f=(Math.abs(c)+Math.abs(d))/2,p=this.fontSize/s,m=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=f*n*p*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ln.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ln.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ln.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:n}=this,i=ln.available[this._fontName].distanceFieldType==="none"?p0:m0;i.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],i.filter(s=>n[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=q.EMPTY});for(const s in n)n[s].destroy(),delete n[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};Jk.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const eN=[".xml",".fnt"],tN={extension:{type:$.LoadParser,priority:dr.Normal},name:"loadBitmapFont",test(r){return eN.includes(it.extname(r).toLowerCase())},async testParse(r){return xl.test(r)||tf.test(r)},async parse(r,e,n){const i=xl.test(r)?xl.parse(r):tf.parse(r),{src:s}=e,{page:o}=i,a=[];for(let c=0;c<o.length;++c){const d=o[c].file;let f=it.join(it.dirname(s),d);f=Yd(f,s),a.push(f)}const l=await n.load(a),u=a.map(c=>l[c]);return ln.install(i,u,!0)},async load(r,e){return(await X.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};Q.add(tN);const rf=class Fi extends Mn{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Fi(Object.keys(Fi.defaultOptions).reduce((n,i)=>({...n,[i]:e[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Fi.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,n={}){const{availableFonts:i}=Fi;if(i[e]){const s=i[e];return this._fonts.push(s),s.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return X.ADAPTER.fetch(e).then(s=>s.blob()).then(async s=>new Promise((o,a)=>{const l=URL.createObjectURL(s),u=new FileReader;u.onload=()=>o([l,u.result]),u.onerror=a,u.readAsDataURL(s)})).then(async([s,o])=>{const a=Object.assign({family:it.basename(e,it.extname(e)),weight:"normal",style:"normal",display:"auto",src:s,dataSrc:o,refs:1,originalUrl:e,fontFace:null},n);i[e]=a,this._fonts.push(a),this.styleID++;const l=new FontFace(a.family,`url(${a.src})`,{weight:a.weight,style:a.style,display:a.display});a.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const n=e.filter(i=>!this._overrides.includes(i));n.length>0&&(this._overrides.push(...n),this.styleID++)}removeOverride(...e){const n=e.filter(i=>this._overrides.includes(i));n.length>0&&(this._overrides=this._overrides.filter(i=>!n.includes(i)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,n)=>`${e}
            @font-face {
                font-family: "${n.family}";
                src: url('${n.dataSrc}');
                font-weight: ${n.weight};
                font-style: ${n.style};
                font-display: ${n.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=HS(e)),typeof e=="number"?GS(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const n=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&n<1&&(e+=(n*255|0).toString(16).padStart(2,"0"));const o=`${i}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${o} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${o} ${e}`}reset(){Object.assign(this,Fi.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(n=>setTimeout(n,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=X.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};rf.availableFonts={},rf.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let oh=rf;const Ya=class Oi extends Ms{constructor(e="",n={}){super(q.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,s=q.from(i,{scaleMode:X.SCALE_MODE,resourceOptions:{autoLoad:!1}});s.orig=new ae,s.trim=new ae,this.texture=s;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),u=document.createElementNS(o,"foreignObject"),c=document.createElementNS(a,"div"),d=document.createElementNS(a,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",l.appendChild(u),this.maxWidth=Oi.defaultMaxWidth,this.maxHeight=Oi.defaultMaxHeight,this._domElement=c,this._styleElement=d,this._svgRoot=l,this._foreignObject=u,this._foreignObject.appendChild(d),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=Oi.defaultAutoResolution,this._resolution=Oi.defaultResolution??X.RESOLUTION,this.text=e,this.style=n}measureText(e){var d,f;const{text:n,style:i,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:n,style:i.toCSS(s)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const o=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:a,height:l}=o;(a>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const u=Math.min(this.maxWidth,Math.ceil(a)),c=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",u.toString()),this._svgRoot.setAttribute("height",c.toString()),n!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(s)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:u+i.padding*2,height:c+i.padding*2}}async updateText(e=!0){const{style:n,_image:i,_loadImage:s}=this;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!this.dirty&&e)return;const{width:o,height:a}=this.measureText();i.width=s.width=Math.ceil(Math.max(1,o)),i.height=s.height=Math.ceil(Math.max(1,a)),this._updateID++;const l=this._updateID;await new Promise(u=>{s.onload=async()=>{if(l<this._updateID){u();return}await n.onBeforeDraw(),i.src=s.src,s.onload=null,s.src="",this.updateTexture(),u()};const c=new XMLSerializer().serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:n,_image:i,resolution:s}=this,{padding:o}=e,{baseTexture:a}=n;n.trim.width=n._frame.width=i.width/s,n.trim.height=n._frame.height=i.height/s,n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-o*2,n.orig.height=n._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(i.width,i.height,s),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var i,s,o,a,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Oi.defaultDestroyOptions,e),super.destroy(e);const n=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=n,(s=this._svgRoot)==null||s.remove(),this._svgRoot=n,(o=this._domElement)==null||o.remove(),this._domElement=n,(a=this._foreignObject)==null||a.remove(),this._foreignObject=n,(l=this._styleElement)==null||l.remove(),this._styleElement=n,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=n,this._image.src="",this._image=n}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const n=xn(this.scale.x)||1;this.scale.x=n*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const n=xn(this.scale.y)||1;this.scale.y=n*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof oh?(this.ownsStyle=!1,this._style=e):e instanceof Mn?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=oh.from(e)):(this.ownsStyle=!0,this._style=new oh(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ya.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ya.defaultMaxWidth=2024,Ya.defaultMaxHeight=2024,Ya.defaultAutoResolution=!0;function rN(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[i,s]of r)if(!Object.is(s,e.get(i)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const i of r)if(!e.has(i))return!1;return!0}const n=Object.keys(r);if(n.length!==Object.keys(e).length)return!1;for(const i of n)if(!Object.prototype.hasOwnProperty.call(e,i)||!Object.is(r[i],e[i]))return!1;return!0}const{useRef:nN}=Jn;function iN(r){const e=nN();return n=>{const i=r(n);return rN(e.current,i)?e.current:e.current=i}}const sN=r=>{const e=()=>!!r.match(/Android/i),n=()=>!!r.match(/iPhone|iPad|iPod/i),i=()=>!!r.match(/Opera Mini/i),s=()=>!!r.match(/IEMobile/i),o=()=>!!r.match(/SSR/i),a=()=>!!(e()||n()||i()||s());return{isMobile:a,isDesktop:()=>!a()&&!o(),isAndroid:e,isIos:n,isSSR:o}},Gu=()=>{const r=typeof navigator>"u"?"SSR":navigator.userAgent;return sN(r)};var oN={VITE_SERVER_API_URL:"http://localhost:8000",VITE_SERVER_SOCKET_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const v0=r=>{let e;const n=new Set,i=(d,f)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(g=>g(e,m))}},s=()=>e,u={setState:i,getState:s,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(oN?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=r(i,s,u);return u},aN=r=>r?v0(r):v0;var zx={exports:{}},Gx={},Hx={exports:{}},$x={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=U;function lN(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var uN=typeof Object.is=="function"?Object.is:lN,cN=Ss.useState,hN=Ss.useEffect,dN=Ss.useLayoutEffect,fN=Ss.useDebugValue;function pN(r,e){var n=e(),i=cN({inst:{value:n,getSnapshot:e}}),s=i[0].inst,o=i[1];return dN(function(){s.value=n,s.getSnapshot=e,ah(s)&&o({inst:s})},[r,n,e]),hN(function(){return ah(s)&&o({inst:s}),r(function(){ah(s)&&o({inst:s})})},[r]),fN(n),n}function ah(r){var e=r.getSnapshot;r=r.value;try{var n=e();return!uN(r,n)}catch{return!0}}function mN(r,e){return e()}var gN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?mN:pN;$x.useSyncExternalStore=Ss.useSyncExternalStore!==void 0?Ss.useSyncExternalStore:gN;Hx.exports=$x;var vN=Hx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=U,yN=vN;function xN(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var _N=typeof Object.is=="function"?Object.is:xN,bN=yN.useSyncExternalStore,wN=Hu.useRef,EN=Hu.useEffect,CN=Hu.useMemo,SN=Hu.useDebugValue;Gx.useSyncExternalStoreWithSelector=function(r,e,n,i,s){var o=wN(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=CN(function(){function u(m){if(!c){if(c=!0,d=m,m=i(m),s!==void 0&&a.hasValue){var g=a.value;if(s(g,m))return f=g}return f=m}if(g=f,_N(d,m))return g;var x=i(m);return s!==void 0&&s(g,x)?g:(d=m,f=x)}var c=!1,d,f,p=n===void 0?null:n;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,n,i,s]);var l=bN(r,o[0],o[1]);return EN(function(){a.hasValue=!0,a.value=l},[l]),SN(l),l};zx.exports=Gx;var TN=zx.exports;const AN=mu(TN);var Vx={VITE_SERVER_API_URL:"http://localhost:8000",VITE_SERVER_SOCKET_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:kN}=Jn,{useSyncExternalStoreWithSelector:NN}=AN;let y0=!1;const IN=r=>r;function PN(r,e=IN,n){(Vx?"production":void 0)!=="production"&&n&&!y0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),y0=!0);const i=NN(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,n);return kN(i),i}const x0=r=>{(Vx?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof r=="function"?aN(r):r,n=(i,s)=>PN(e,i,s);return Object.assign(n,e),n},Wx=r=>r?x0(r):x0,Xx=Wx(r=>({dimension:{width:window.innerWidth,height:window.innerHeight},orientation:window.innerWidth>window.innerHeight?"landscape":"portrait",setDimension:(e,n)=>r({dimension:{width:e,height:n},orientation:e>n?"landscape":"portrait"})}));var Yx=Symbol.for("immer-nothing"),_0=Symbol.for("immer-draftable"),Mt=Symbol.for("immer-state");function sr(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Ts=Object.getPrototypeOf;function As(r){return!!r&&!!r[Mt]}function vi(r){var e;return r?Kx(r)||Array.isArray(r)||!!r[_0]||!!((e=r.constructor)!=null&&e[_0])||Vu(r)||Wu(r):!1}var RN=Object.prototype.constructor.toString();function Kx(r){if(!r||typeof r!="object")return!1;const e=Ts(r);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===RN}function cu(r,e){$u(r)===0?Reflect.ownKeys(r).forEach(n=>{e(n,r[n],r)}):r.forEach((n,i)=>e(i,n,r))}function $u(r){const e=r[Mt];return e?e.type_:Array.isArray(r)?1:Vu(r)?2:Wu(r)?3:0}function nf(r,e){return $u(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function qx(r,e,n){const i=$u(r);i===2?r.set(e,n):i===3?r.add(n):r[e]=n}function MN(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Vu(r){return r instanceof Map}function Wu(r){return r instanceof Set}function qn(r){return r.copy_||r.base_}function sf(r,e){if(Vu(r))return new Map(r);if(Wu(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);if(!e&&Kx(r))return Ts(r)?{...r}:Object.assign(Object.create(null),r);const n=Object.getOwnPropertyDescriptors(r);delete n[Mt];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],a=n[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(n[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:r[o]})}return Object.create(Ts(r),n)}function wp(r,e=!1){return Xu(r)||As(r)||!vi(r)||($u(r)>1&&(r.set=r.add=r.clear=r.delete=BN),Object.freeze(r),e&&Object.entries(r).forEach(([n,i])=>wp(i,!0))),r}function BN(){sr(2)}function Xu(r){return Object.isFrozen(r)}var LN={};function yi(r){const e=LN[r];return e||sr(0,r),e}var Yo;function Qx(){return Yo}function DN(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function b0(r,e){e&&(yi("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function of(r){af(r),r.drafts_.forEach(FN),r.drafts_=null}function af(r){r===Yo&&(Yo=r.parent_)}function w0(r){return Yo=DN(Yo,r)}function FN(r){const e=r[Mt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function E0(r,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return r!==void 0&&r!==n?(n[Mt].modified_&&(of(e),sr(4)),vi(r)&&(r=hu(e,r),e.parent_||du(e,r)),e.patches_&&yi("Patches").generateReplacementPatches_(n[Mt].base_,r,e.patches_,e.inversePatches_)):r=hu(e,n,[]),of(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==Yx?r:void 0}function hu(r,e,n){if(Xu(e))return e;const i=e[Mt];if(!i)return cu(e,(s,o)=>C0(r,i,e,s,o,n)),e;if(i.scope_!==r)return e;if(!i.modified_)return du(r,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,a=!1;i.type_===3&&(o=new Set(s),s.clear(),a=!0),cu(o,(l,u)=>C0(r,i,s,l,u,n,a)),du(r,s,!1),n&&r.patches_&&yi("Patches").generatePatches_(i,n,r.patches_,r.inversePatches_)}return i.copy_}function C0(r,e,n,i,s,o,a){if(As(s)){const l=o&&e&&e.type_!==3&&!nf(e.assigned_,i)?o.concat(i):void 0,u=hu(r,s,l);if(qx(n,i,u),As(u))r.canAutoFreeze_=!1;else return}else a&&n.add(s);if(vi(s)&&!Xu(s)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;hu(r,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&du(r,s)}}function du(r,e,n=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&wp(e,n)}function ON(r,e){const n=Array.isArray(r),i={type_:n?1:0,scope_:e?e.scope_:Qx(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,o=Ep;n&&(s=[i],o=Ko);const{revoke:a,proxy:l}=Proxy.revocable(s,o);return i.draft_=l,i.revoke_=a,l}var Ep={get(r,e){if(e===Mt)return r;const n=qn(r);if(!nf(n,e))return jN(r,n,e);const i=n[e];return r.finalized_||!vi(i)?i:i===lh(r.base_,e)?(uh(r),r.copy_[e]=uf(i,r)):i},has(r,e){return e in qn(r)},ownKeys(r){return Reflect.ownKeys(qn(r))},set(r,e,n){const i=Zx(qn(r),e);if(i!=null&&i.set)return i.set.call(r.draft_,n),!0;if(!r.modified_){const s=lh(qn(r),e),o=s==null?void 0:s[Mt];if(o&&o.base_===n)return r.copy_[e]=n,r.assigned_[e]=!1,!0;if(MN(n,s)&&(n!==void 0||nf(r.base_,e)))return!0;uh(r),lf(r)}return r.copy_[e]===n&&(n!==void 0||e in r.copy_)||Number.isNaN(n)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=n,r.assigned_[e]=!0),!0},deleteProperty(r,e){return lh(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,uh(r),lf(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const n=qn(r),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){sr(11)},getPrototypeOf(r){return Ts(r.base_)},setPrototypeOf(){sr(12)}},Ko={};cu(Ep,(r,e)=>{Ko[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ko.deleteProperty=function(r,e){return Ko.set.call(this,r,e,void 0)};Ko.set=function(r,e,n){return Ep.set.call(this,r[0],e,n,r[0])};function lh(r,e){const n=r[Mt];return(n?qn(n):r)[e]}function jN(r,e,n){var s;const i=Zx(e,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(r.draft_):void 0}function Zx(r,e){if(!(e in r))return;let n=Ts(r);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Ts(n)}}function lf(r){r.modified_||(r.modified_=!0,r.parent_&&lf(r.parent_))}function uh(r){r.copy_||(r.copy_=sf(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var UN=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const a=this;return function(u=o,...c){return a.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&sr(6),i!==void 0&&typeof i!="function"&&sr(7);let s;if(vi(e)){const o=w0(this),a=uf(e,void 0);let l=!0;try{s=n(a),l=!1}finally{l?of(o):af(o)}return b0(o,i),E0(s,o)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===Yx&&(s=void 0),this.autoFreeze_&&wp(s,!0),i){const o=[],a=[];yi("Patches").generateReplacementPatches_(e,s,o,a),i(o,a)}return s}else sr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,u=>e(u,...l));let i,s;return[this.produce(e,n,(a,l)=>{i=a,s=l}),i,s]},typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof(r==null?void 0:r.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){vi(r)||sr(8),As(r)&&(r=zN(r));const e=w0(this),n=uf(r,void 0);return n[Mt].isManual_=!0,af(e),n}finishDraft(r,e){const n=r&&r[Mt];(!n||!n.isManual_)&&sr(9);const{scope_:i}=n;return b0(i,e),E0(void 0,i)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}n>-1&&(e=e.slice(n+1));const i=yi("Patches").applyPatches_;return As(r)?i(r,e):this.produce(r,s=>i(s,e))}};function uf(r,e){const n=Vu(r)?yi("MapSet").proxyMap_(r,e):Wu(r)?yi("MapSet").proxySet_(r,e):ON(r,e);return(e?e.scope_:Qx()).drafts_.push(n),n}function zN(r){return As(r)||sr(10,r),Jx(r)}function Jx(r){if(!vi(r)||Xu(r))return r;const e=r[Mt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=sf(r,e.scope_.immer_.useStrictShallowCopy_)}else n=sf(r,!0);return cu(n,(i,s)=>{qx(n,i,Jx(s))}),e&&(e.finalized_=!1),n}var Bt=new UN,br=Bt.produce;Bt.produceWithPatches.bind(Bt);Bt.setAutoFreeze.bind(Bt);Bt.setUseStrictShallowCopy.bind(Bt);Bt.applyPatches.bind(Bt);Bt.createDraft.bind(Bt);Bt.finishDraft.bind(Bt);const GN=r=>(e,n,i)=>(i.setState=(s,o,...a)=>{const l=typeof s=="function"?br(s):s;return e(l,o,...a)},r(i.setState,n,i)),HN=GN;var ch={VITE_SERVER_API_URL:"http://localhost:8000",VITE_SERVER_SOCKET_URL:"http://localhost:8000",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const cf=new Map,Ka=r=>{const e=cf.get(r);return e?Object.fromEntries(Object.entries(e.stores).map(([n,i])=>[n,i.getState()])):{}},$N=(r,e,n)=>{if(r===void 0)return{type:"untracked",connection:e.connect(n)};const i=cf.get(n.name);if(i)return{type:"tracked",store:r,...i};const s={connection:e.connect(n),stores:{}};return cf.set(n.name,s),{type:"tracked",store:r,...s}},VN=(r,e={})=>(n,i,s)=>{const{enabled:o,anonymousActionType:a,store:l,...u}=e;let c;try{c=(o??(ch?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return(ch?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),r(n,i,s);const{connection:d,...f}=$N(l,c,u);let p=!0;s.setState=(x,b,y)=>{const _=n(x,b);if(!p)return _;const v=y===void 0?{type:a||"anonymous"}:typeof y=="string"?{type:y}:y;return l===void 0?(d==null||d.send(v,i()),_):(d==null||d.send({...v,type:`${l}/${v.type}`},{...Ka(u.name),[l]:s.getState()}),_)};const m=(...x)=>{const b=p;p=!1,n(...x),p=b},g=r(s.setState,i,s);if(f.type==="untracked"?d==null||d.init(g):(f.stores[f.store]=s,d==null||d.init(Object.fromEntries(Object.entries(f.stores).map(([x,b])=>[x,x===f.store?g:b.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let x=!1;const b=s.dispatch;s.dispatch=(...y)=>{(ch?"production":void 0)!=="production"&&y[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),b(...y)}}return d.subscribe(x=>{var b;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return hh(x.payload,y=>{if(y.type==="__setState"){if(l===void 0){m(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const _=y.state[l];if(_==null)return;JSON.stringify(s.getState())!==JSON.stringify(_)&&m(_);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(y)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(g),l===void 0?d==null?void 0:d.init(s.getState()):d==null?void 0:d.init(Ka(u.name));case"COMMIT":if(l===void 0){d==null||d.init(s.getState());return}return d==null?void 0:d.init(Ka(u.name));case"ROLLBACK":return hh(x.state,y=>{if(l===void 0){m(y),d==null||d.init(s.getState());return}m(y[l]),d==null||d.init(Ka(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return hh(x.state,y=>{if(l===void 0){m(y);return}JSON.stringify(s.getState())!==JSON.stringify(y[l])&&m(y[l])});case"IMPORT_STATE":{const{nextLiftedState:y}=x.payload,_=(b=y.computedStates.slice(-1)[0])==null?void 0:b.state;if(!_)return;m(l===void 0?_:_[l]),d==null||d.send(null,y);return}case"PAUSE_RECORDING":return p=!p}return}}),g},WN=VN,hh=(r,e)=>{let n;try{n=JSON.parse(r)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}n!==void 0&&e(n)},XN={isAssetLoading:!0,isSocketConnected:!1,isSoundMuted:!1,isHelpModalOpened:!1,isStatisticsModalOpened:!1,errorMessage:"",betLimits:{min:0,max:0},rtp:0,alerts:[]},YN=r=>({...XN,setToggleValue:(e,n)=>r(()=>({[e]:n})),setBetLimits:e=>r(()=>({betLimits:e})),setErrorMessage:e=>r(()=>({errorMessage:e})),setRTP:e=>r(()=>({rtp:e})),addAlert:e=>r(n=>({alerts:[...n.alerts,e]})),removeAlert:e=>r(n=>({alerts:n.alerts.filter(i=>i.id!==e)}))}),KN={roundNo:0,phase:"BET",multiplier:1,players:0,timeOffset:0,betTime:0},qN=r=>({...KN,setRoundInfo:e=>r(()=>({...e})),setBetTime:e=>r(n=>({betTime:n.betTime+e}))}),QN={userId:0,userName:"",balance:0,currency:""},ZN=r=>({...QN,setUser:e=>r({...e})}),JN={flag:"allbet",allBets:[],myBets:[],highest:[],statistics:[],myBetsPages:0},e3=r=>({...JN,setTabFlag:e=>r({flag:e}),setAllBets:e=>r({allBets:e}),setMyBets:e=>r({myBets:e}),setHighest:e=>r({highest:e}),setStatistics:e=>r({statistics:e}),setMyBetsPages:e=>r({myBetsPages:e})}),t3={first:{betAmount:0,autoCashoutX:"",numOfAutoBet:-1,isAutoBet:!1,isBetted:!1,isBetPending:!1,isCashouted:!1,isModalOpened:!1,isServerPending:!1},second:{betAmount:0,autoCashoutX:"",numOfAutoBet:-1,isAutoBet:!1,isBetted:!1,isBetPending:!1,isCashouted:!1,isModalOpened:!1,isServerPending:!1}},r3=r=>({...t3,setBetAmount:(e,n)=>r(br(i=>{i[e].betAmount=n})),setAutoCashoutX:(e,n)=>r(br(i=>{i[e].autoCashoutX=n})),setNumOfBet:(e,n)=>r(br(i=>{i[e].numOfAutoBet=n})),setAutoBet:(e,n)=>r(br(i=>{i[e].isAutoBet=n})),setBetPending:(e,n)=>r(br(i=>{i[e].isBetPending=n})),setBetted:(e,n)=>r(br(i=>{i[e].isBetted=n})),setCashouted:(e,n)=>r(br(i=>{i[e].isCashouted=n})),setModalOpened:(e,n)=>r(br(i=>{i[e].isModalOpened=n})),setServerPending:(e,n)=>r(br(i=>{i[e].isServerPending=n}))}),Xe=Wx()(WN(HN((...r)=>({...YN(...r),...qN(...r),...ZN(...r),...e3(...r),...r3(...r)})))),qa={WIDTH:1280,HEIGHT:720},S0=10;function qo(r,e=!0){const n=r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return e?n:n.split(".")[0]}const n3=r=>{if(r!==void 0){const e=new Date(Number(r));return""+String(e.getDate()).padStart(2,"0")+"."+String(e.getMonth()+1).padStart(2,"0")+" "+String(e.getHours()).padStart(2,"0")+":"+String(e.getMinutes()).padStart(2,"0")}else return""},i3=()=>{const r=Xe(e=>e.balance);return h.jsxs("div",{children:[h.jsx("div",{className:"text-xs",children:"Balance"}),h.jsx("div",{className:"text-base text-sky-400 font-bold",children:qo(r)})]})};function s3({title:r,titleId:e,...n},i){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),r?U.createElement("title",{id:e},r):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const o3=U.forwardRef(s3),T0=o3;function a3({title:r,titleId:e,...n},i){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),r?U.createElement("title",{id:e},r):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const l3=U.forwardRef(a3),u3=l3;function c3({title:r,titleId:e,...n},i){return U.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},n),r?U.createElement("title",{id:e},r):null,U.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const h3=U.forwardRef(c3),d3=h3,A0=({children:r,onClick:e})=>h.jsx("button",{className:"btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]",onClick:e,children:r}),f3=()=>{const r=Xe(i=>i.setTabFlag),e=Xe(i=>i.flag),n=i=>{r(i)};return h.jsxs("div",{role:"tablist",className:"tabs tabs-boxed h-[40px] bg-sky-950 rounded-none rounded-t-lg",children:[h.jsx("a",{role:"tab",className:e==="allbet"?"tab tab-active":"tab",onClick:()=>r("allbet"),children:"All Bets"}),h.jsx("a",{role:"tab",className:e==="mybet"?"tab tab-active":"tab",onClick:()=>n("mybet"),children:"My Bets"}),h.jsx("a",{role:"tab",className:e==="highest"?"tab tab-active":"tab",onClick:()=>n("highest"),children:"Highest"})]})},p3=()=>{const r=Xe(e=>e.allBets);return h.jsx("div",{className:"overflow-y-auto h-[calc(100%-24px)]",children:r.map((e,n)=>h.jsxs("div",{className:`flex justify-around p-1 mt-1 mr-1 rounded-md text-sm bg-gray-900 border ${e.winAmount>0?"border-opacity-30 border-primary":"border-transparent"}`,children:[h.jsx("div",{className:"w-full text-left pl-1",children:e.userName}),h.jsx("div",{className:"w-full text-center",children:e.betAmount}),h.jsx("div",{className:"w-full text-center",children:e.result>0?e.result:"-"}),h.jsx("div",{className:"w-full text-right pr-1",children:e.winAmount>-1?qo(e.winAmount):"-"})]},n))})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var hf=function(r,e){return hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])},hf(r,e)};function m3(r,e){hf(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var To=function(){return To=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},To.apply(this,arguments)};function g3(r,e,n,i){var s,o=!1,a=0;function l(){s&&clearTimeout(s)}function u(){l(),o=!0}typeof e!="boolean"&&(i=n,n=e,e=void 0);function c(){var d=this,f=Date.now()-a,p=arguments;if(o)return;function m(){a=Date.now(),n.apply(d,p)}function g(){s=void 0}i&&!s&&m(),l(),i===void 0&&f>r?m():e!==!0&&(s=setTimeout(i?g:m,i===void 0?r-f:r))}return c.cancel=u,c}var fs={Pixel:"Pixel",Percent:"Percent"},k0={unit:fs.Percent,value:.8};function N0(r){return typeof r=="number"?{unit:fs.Percent,value:r*100}:typeof r=="string"?r.match(/^(\d*(\.\d+)?)px$/)?{unit:fs.Pixel,value:parseFloat(r)}:r.match(/^(\d*(\.\d+)?)%$/)?{unit:fs.Percent,value:parseFloat(r)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),k0):(console.warn("scrollThreshold should be string or number"),k0)}var v3=function(r){m3(e,r);function e(n){var i=r.call(this,n)||this;return i.lastScrollTop=0,i.actionTriggered=!1,i.startY=0,i.currentY=0,i.dragging=!1,i.maxPullDownDistance=0,i.getScrollableTarget=function(){return i.props.scrollableTarget instanceof HTMLElement?i.props.scrollableTarget:typeof i.props.scrollableTarget=="string"?document.getElementById(i.props.scrollableTarget):(i.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},i.onStart=function(s){i.lastScrollTop||(i.dragging=!0,s instanceof MouseEvent?i.startY=s.pageY:s instanceof TouchEvent&&(i.startY=s.touches[0].pageY),i.currentY=i.startY,i._infScroll&&(i._infScroll.style.willChange="transform",i._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},i.onMove=function(s){i.dragging&&(s instanceof MouseEvent?i.currentY=s.pageY:s instanceof TouchEvent&&(i.currentY=s.touches[0].pageY),!(i.currentY<i.startY)&&(i.currentY-i.startY>=Number(i.props.pullDownToRefreshThreshold)&&i.setState({pullToRefreshThresholdBreached:!0}),!(i.currentY-i.startY>i.maxPullDownDistance*1.5)&&i._infScroll&&(i._infScroll.style.overflow="visible",i._infScroll.style.transform="translate3d(0px, "+(i.currentY-i.startY)+"px, 0px)")))},i.onEnd=function(){i.startY=0,i.currentY=0,i.dragging=!1,i.state.pullToRefreshThresholdBreached&&(i.props.refreshFunction&&i.props.refreshFunction(),i.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){i._infScroll&&(i._infScroll.style.overflow="auto",i._infScroll.style.transform="none",i._infScroll.style.willChange="unset")})},i.onScrollListener=function(s){typeof i.props.onScroll=="function"&&setTimeout(function(){return i.props.onScroll&&i.props.onScroll(s)},0);var o=i.props.height||i._scrollableNode?s.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!i.actionTriggered){var a=i.props.inverse?i.isElementAtTop(o,i.props.scrollThreshold):i.isElementAtBottom(o,i.props.scrollThreshold);a&&i.props.hasMore&&(i.actionTriggered=!0,i.setState({showLoader:!0}),i.props.next&&i.props.next()),i.lastScrollTop=o.scrollTop}},i.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},i.throttledOnScrollListener=g3(150,i.onScrollListener).bind(i),i.onStart=i.onStart.bind(i),i.onMove=i.onMove.bind(i),i.onEnd=i.onEnd.bind(i),i}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,i){var s=n.dataLength!==i.prevDataLength;return s?To(To({},i),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,i){i===void 0&&(i=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=N0(i);return o.unit===fs.Pixel?n.scrollTop<=o.value+s-n.scrollHeight+1:n.scrollTop<=o.value/100+s-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,i){i===void 0&&(i=.8);var s=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=N0(i);return o.unit===fs.Pixel?n.scrollTop+s>=n.scrollHeight-o.value:n.scrollTop+s>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,i=To({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return Jn.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},Jn.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(a){return n._infScroll=a},style:i},this.props.pullDownToRefresh&&Jn.createElement("div",{style:{position:"relative"},ref:function(a){return n._pullDown=a}},Jn.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(U.Component);const y3=()=>{const r=Xe(f=>f.myBets),e=Xe(f=>f.myBetsPages),[n,i]=U.useState(0),[s,o]=U.useState(!0),[a,l]=U.useState(Array.from({length:30})),u=()=>{if(e===n){o(!1);return}else o(!0),i(n+1),l([...a,...Array.from({length:30})])},c=h.jsx("div",{className:"loader",children:"Loading ..."},"loader"),d=f=>{if(f!==void 0){const p=new Date(Number(f));return""+String(p.getDate()).padStart(2,"0")+"."+String(p.getMonth()+1).padStart(2,"0")+" "+String(p.getHours()).padStart(2,"0")+":"+String(p.getMinutes()).padStart(2,"0")}else return""};return h.jsxs("div",{className:"infinite-scroll-wrapper h-[calc(100%-24px)]",children:[h.jsxs("div",{className:"bg-sky-950 flex pb-1",children:[h.jsx("div",{className:"w-2/5 text-left pl-2",children:"Date"}),h.jsx("div",{className:"w-1/5 text-center pr-4",children:"Bet"}),h.jsx("div",{className:"w-1/5 text-center pr-4",children:"X"}),h.jsx("div",{className:"w-1/5 text-right pr-4",children:"Win"})]}),h.jsx(v3,{dataLength:a.length,next:u,hasMore:s,loader:c,height:"100%",children:r.map((f,p)=>h.jsxs("div",{className:`flex justify-around p-1 mt-1 mr-1 rounded-md bg-gray-900 text-sm border ${f.winAmount>0?" border-opacity-30 border-primary":"border-transparent"}`,children:[h.jsx("div",{className:"w-2/5 text-left pl-1",children:d(f.date)}),h.jsx("div",{className:"w-1/5 text-center",children:f.betAmount}),h.jsx("div",{className:"w-1/5 text-center",children:f.result}),h.jsx("div",{className:`w-1/5 text-right pr-1 ${f.winAmount>0?"text-primary":""}`,children:qo(f.winAmount)})]},p))})]})},x3=()=>{const r=Xe(e=>e.highest);return h.jsx("div",{className:"overflow-y-auto h-[calc(100%-24px)]",children:r.map((e,n)=>h.jsxs("div",{className:"flex justify-around p-1 mt-1 mr-1 rounded-md bg-gray-900 text-sm border border-transparent",children:[h.jsx("div",{className:"w-full text-left pl-1",children:n3(e.date)}),h.jsx("div",{className:"w-full text-right pr-2",children:e.result})]},n))})},_3=()=>{const r=Xe(e=>e.flag);return h.jsx("div",{className:"rounded-none rounded-b-lg h-full min-h-0 text-sm",children:r==="allbet"?h.jsxs("div",{className:"h-full min-h-0",children:[h.jsxs("div",{className:"bg-sky-950 flex justify-around pb-1",children:[h.jsx("div",{className:"w-full text-left pl-2",children:"Player"}),h.jsx("div",{className:"w-full text-center",children:"Bet"}),h.jsx("div",{className:"w-full text-center",children:"X"}),h.jsx("div",{className:"w-full text-right pr-3",children:"Win"})]}),h.jsx(p3,{})]}):r==="mybet"?h.jsx(y3,{}):h.jsxs("div",{className:"h-full min-h-0",children:[h.jsxs("div",{className:"bg-sky-950 flex pb-1",children:[h.jsx("div",{className:"w-full text-left pl-2",children:"Date"}),h.jsx("div",{className:"w-full text-right pr-6",children:"X"})]}),h.jsx(x3,{})]})})},b3=()=>h.jsx("div",{className:"bg-primary-content rounded-lg p-2 min-h-0",children:h.jsxs("div",{className:"grid grid-rows-[auto_11fr] items-start w-full h-full min-h-0",children:[h.jsx(f3,{}),h.jsx(_3,{})]})}),w3=()=>{const r=Xe(f=>f.isSoundMuted),e=Xe(f=>f.setToggleValue),n=Xe(f=>f.betLimits.min),i=Xe(f=>f.betLimits.max),s=Xe(f=>f.currency),o=Xe(f=>f.rtp),a=Gu(),l=U.useRef(null),u=U.useRef(null),c=()=>{l.current&&l.current.showModal()},d=window.matchMedia("(orientation: landscape)");return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(A0,{onClick:()=>e("isSoundMuted",!r),children:r?h.jsx(d3,{className:"w-6 h-6"}):h.jsx(u3,{className:"w-6 h-6"})}),h.jsx(A0,{onClick:c,children:h.jsx(T0,{className:"w-6 h-6"})})]}),h.jsx("dialog",{ref:l,className:"modal top-[50%] left-[50%] translate-y-[-50%] translate-x-[-50%] md:w-2/5 md:h-4/5 "+(d.matches?"w-[50%] h-[90%]":""),children:h.jsxs("div",{className:`mt-0 modal-box overflow-y-[auto] ${a.isMobile()&&"pl-4 pr-1"}`,children:[h.jsx("form",{method:"dialog",children:h.jsx("button",{className:"absolute btn btn-sm btn-circle btn-ghost right-2 top-2",children:""})}),h.jsxs("h3",{className:"flex items-center text-lg font-bold uppercase",children:[h.jsx(T0,{className:"w-6 h-6 mr-2 text-success"})," Game Rule"]}),h.jsxs("div",{className:`p-4 pl-1 ${a.isDesktop()?"":d.matches?"h-[calc(147vh-1rem)]":"h-[calc(90vh-4rem)]"} overflow-auto`,children:[h.jsx("p",{children:h.jsx("strong",{children:"How to play?"})}),h.jsx("p",{children:"Roulette is a classic table game of chance with simple rules where the player spins a wheel numbered 0-36 and places chips on where the ball lands within the wheel."}),h.jsx("p",{children:"The objective of the game is to strategically cashout before the multiplier crashes."}),h.jsx("p",{children:"If you cashout before the multiplier crashes you receive a payout based on your original stake and the final multiplier."}),h.jsx("p",{children:"If the multiplier crashes before you cashout, the stake is lost."}),h.jsx("p",{children:" "}),h.jsx("p",{children:h.jsx("strong",{children:"General Information"})}),h.jsx("p",{children:"Game Type: Crash Game"}),h.jsxs("p",{children:["The minimum stake is ",s+" "+qo(n)]}),h.jsxs("p",{children:["The minimum stake is ",s+" "+qo(i)]}),h.jsxs("p",{children:["RTP: ",o,"%"]}),h.jsx("p",{children:"Max Multiplier: 10,000x"}),h.jsx("p",{children:""}),h.jsx("p",{children:h.jsx("strong",{children:"How to play"})}),h.jsx("p",{children:"Select the stake amount."}),h.jsx("p",{children:"Place the stake before the round starts."}),h.jsx("p",{children:"Watch the multiplier increase."}),h.jsx("p",{children:"Cashout at any time before the multiplier crashes."}),h.jsx("p",{children:""}),h.jsx("p",{children:h.jsx("strong",{children:"Auto"})}),h.jsx("p",{children:"The game features auto stake and cash-out functionality. Switch on Auto, and starting from the next round, stakes will be placed automatically. Switch off Auto during the round, the win will be cashed out immediately. "}),h.jsx("p",{children:"For cashing out automatically, select your target multiplier and switch on the auto cashout."}),h.jsx("p",{children:""}),h.jsx("p",{children:h.jsx("strong",{children:"Controls"})}),h.jsx("p",{children:"Start buttons are used to place stakes. "}),h.jsx("p",{children:"- + or suggested stake amounts can be used to change the stake amount."}),h.jsx("p",{children:'"Sound" button allows you to change the in-game sound settings.'}),h.jsx("p",{children:"History opens your stake history."}),h.jsx("p",{children:'"Information" button opens the game rules and controls section.'}),h.jsx("p",{children:'"Balance" label shows the current balance.'})]})]})}),a.isMobile()&&h.jsx("dialog",{ref:u,className:"modal",children:h.jsxs("div",{className:"px-2 overflow-hidden modal-box",children:[h.jsx("form",{method:"dialog",children:h.jsx("button",{className:"absolute btn btn-sm btn-circle btn-ghost right-2 top-2",children:""})}),h.jsx("h3",{className:"ml-2 text-lg font-bold uppercase",children:"History"}),h.jsx("div",{className:"py-4 h-[calc(100vh-9rem)] overflow-auto",children:h.jsx(b3,{})})]})})]})},e_=()=>h.jsxs("div",{className:"rounded-lg flex justify-between items-center w-full p-2 main-square",children:[h.jsx(i3,{}),h.jsx(w3,{})]}),t_=()=>{window.matchMedia("(max-width: 768px) and (orientation: landscape)");const[r,e]=U.useState([["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/04 23:20","20","200"],["22/05 23:20","20","20"]]),[n,i]=U.useState([["0","0","0"]]),[s,o]=U.useState("mybets"),[a,l]=U.useState(0);var u=["0","0","0"];return U.useEffect(()=>{var c,d;for(d=u.length,c=0;c<d;c++)u.pop();for(c=0;c<r.length;c++)u.push(r[c]);u.length==1&&u.push(["","",""]),i(u)},[a]),h.jsx("div",{className:"overflow-hidden table-wrapper layout-wrap main-square rounded-bl-[10px] rounded-br-[10px]",children:h.jsx("div",{className:"max-h-[240px] overflow-y-auto relative",children:h.jsxs("table",{className:"table w-full text-left border-separate table-fixed border-spacing-0 stripey animate slideDownOdd",children:[h.jsx("thead",{slot:"thead",className:" top-0 bg-[#1b3249] border rounded-[10px] z-[100] inline-block sticky w-[300%]",children:h.jsxs("tr",{className:"grid grid-cols-12 border-0",children:[h.jsx("td",{className:"col-span-4",children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",children:s=="mybets"?"Date":"Player"})})}),h.jsx("td",{className:"col-span-4",children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",children:"Bet"})})}),h.jsx("td",{className:"col-span-4",children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",children:"Win"})})})]})}),h.jsx("tbody",{className:"layout-wrap",children:n?n.map((c,d)=>h.jsxs("tr",{children:[h.jsx("td",{children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",children:c[0]})})}),h.jsx("td",{children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",children:c[1]})})}),h.jsx("td",{children:h.jsx("div",{className:"text-left initial-column ",children:h.jsx("span",{className:"line chromatic-ignore ",style:{color:"#01afcf"},children:c[2]})})})]},d)):h.jsx("tr",{children:h.jsx("td",{colSpan:3,children:"No data available."})})})]})})})},E3=({isStacked:r,IsStartedAutoBet:e,amountMulti:n,setamountMulti:i,changeMulti:s,finished:o,resetFinished:a,selLossmulti:l,selWinmulti:u,selectBetCount:c,selectBetUnit:d,selectStopLoss:f,selectStopWin:p,changedBetCount:m,startAutoBet:g,startBet:x,stopAutoBet:b,totalBet:y,setIsUndo:_,setIsClear:v})=>{const w=Gu(),E=U.useRef(null),k=U.useRef({betcount:0,stopWin:0 .toFixed(8),stopLoss:0 .toFixed(8)}),T=window.matchMedia("(orientation: landscape)"),[C,M]=U.useState(!1),[P,S]=U.useState(!1),[O,A]=U.useState(!1);U.useRef(null),U.useRef(null),U.useRef(null),U.useRef(null),U.useRef(null);const[B,G]=U.useState(0),[j,K]=U.useState(["selected","","","","","",""]),[R,H]=U.useState(.5);U.useState(!1),U.useState(!0);const[N,L]=U.useState(!1),[V,se]=U.useState(!0);U.useState(0),U.useState(0);const ne=re=>{L(re)},ye=re=>{se(re)},oe=()=>{let re=document.getElementById("chip-scroll"),we=[0,48,96,113];if(re.scrollLeft!=0){let Re=0;we.reverse(),we.forEach(ke=>{setTimeout(()=>{re.scrollLeft=ke},Re),Re+=50})}},ge=()=>{let re=document.getElementById("chip-scroll"),we=[0,48,96,113];if(re.scrollLeft!=113){let Re=0;we.forEach(ke=>{setTimeout(()=>{re.scrollLeft=ke},Re),Re+=50})}},Pe=()=>{i(1),s(n),b(),console.log(e)},Ue=re=>{c(parseInt(re.target.value))},pe=re=>{let we=["","","","","","",""];we[re]="selected",K(we);let ke=[.5,1,5,10,25,50,100][re];H(ke),d(ke)},me=()=>{s(.5),G(B/2>.5?B/2:.5)},xe=()=>{G(B*2),s(2)};return U.useEffect(()=>{G(y)},[y]),U.useEffect(()=>{k.betcount=m},[m]),h.jsxs("div",{className:"game-sidebar sidebar-setting top-spacing",children:[r?"":h.jsx(e_,{}),h.jsxs("div",{className:"rounded-tl-[10px] rounded-tr-[10px] main-square mt-[13px]",children:[N?h.jsx("div",{className:"labelContent sidebar-content",children:h.jsx("span",{className:"label-content full-width sidebar-label-content",children:h.jsx("div",{className:"label-left-wrapper sidebar-wrap-content",children:h.jsx("span",{className:"span-label",children:"Number Of Bets"})})})}):"",N?h.jsxs("div",{prop:"betcount",className:"stacked sidebar-stack",style:{display:"flex"},children:[h.jsx("label",{className:"stacked sidebar-stack",style:{width:"-webkit-fill-available"},children:h.jsx("div",{className:"input-wrap sidebar-wrap-content",children:h.jsx("div",{className:"input-content sidebar-wrap-content square-right-border",children:h.jsx("input",{id:"numberofbetCount",disabled:C||e,value:m,onChange:re=>Ue(re),className:"input spacing-expanded input-icon-after sidebar-wrap-content",type:"number","data-test":"limit-input",min:"1",max:"99999",step:"1"})})})}),h.jsx("button",{style:{width:"-webkit-fill-available"},disabled:O,loading:"loading",className:"start-spin",onClick:e?Pe:g,children:h.jsx("span",{style:{margin:"auto"},children:e?"Stop":"Start"})})]}):"",h.jsx("div",{className:"labelContent sidebar-content",children:h.jsx("span",{className:"span-label",children:"Chip Value"})}),h.jsx("div",{prop:"chip",className:"stacked sidebar-stack",children:h.jsx("div",{className:"label stacked sidebar-content","data-balance":"0",children:h.jsxs("div",{className:"wrap setting-label-wrap inner-square","data-test":"chip-select",children:[h.jsx("a",{className:"left-arrow",onClick:oe}),h.jsx("div",{className:"scroll-wrap setting-label-wrap",children:h.jsxs("div",{className:"content setting-label-wrap",id:"chip-scroll",children:[h.jsx("button",{"data-test":"chip-select-1e-8",disabled:C,className:`chiplevel0 wrap chip-temp chip-back ${j[0]}`,value:"0.5","data-selected":"true",onClick:()=>pe(0),children:h.jsx("div",{className:"content chip-temp",children:"0.5"})}),h.jsx("button",{"data-test":"chip-select-1e-7",disabled:C,className:`chiplevel1 wrap chip-temp chip-back ${j[1]}`,value:"1","data-selected":"false",onClick:()=>pe(1),children:h.jsx("div",{className:"content chip-temp",children:"1"})}),h.jsx("button",{"data-test":"chip-select-0.000001",disabled:C,className:`chiplevel2 wrap chip-temp chip-back ${j[2]}`,value:"5","data-selected":"false",onClick:()=>pe(2),children:h.jsx("div",{className:"content chip-temp",children:"5"})}),h.jsx("button",{"data-test":"chip-select-0.00001",disabled:C,className:`chiplevel3 wrap chip-temp chip-back ${j[3]}`,value:"10","data-selected":"false",onClick:()=>pe(3),children:h.jsx("div",{className:"content chip-temp",children:"10"})}),h.jsx("button",{"data-test":"chip-select-0.0001",disabled:C,className:`chiplevel4 wrap chip-temp chip-back ${j[4]}`,value:"25","data-selected":"false",onClick:()=>pe(4),children:h.jsx("div",{className:"content chip-temp",children:"25"})}),h.jsx("button",{"data-test":"chip-select-0.001",disabled:C,className:`chiplevel5 wrap chip-temp chip-back ${j[5]}`,value:"50","data-selected":"false",onClick:()=>pe(5),children:h.jsx("div",{className:"content chip-temp",children:"50"})}),h.jsx("button",{"data-test":"chip-select-0.01",disabled:C,className:`chiplevel6 wrap chip-temp chip-back ${j[6]}`,value:"100","data-selected":"false",onClick:()=>pe(6),children:h.jsx("div",{className:"content chip-temp",children:"100"})})]})}),h.jsx("a",{className:"right-arrow",onClick:ge})]})})}),h.jsx("div",{className:"labelContent sidebar-content",children:h.jsx("span",{className:"label-content full-width sidebar-label-content",children:h.jsx("div",{className:"label-left-wrapper sidebar-wrap-content",children:h.jsx("span",{className:"span-label",children:"Total Amount"})})})}),h.jsx("div",{prop:"total",className:"stacked sidebar-stack",children:h.jsx("label",{className:"stacked sidebar-stack",style:{width:"100%"},children:h.jsxs("div",{className:"input-wrap sidebar-wrap-content",children:[h.jsx("div",{className:"input-content sidebar-wrap-content square-right-border",children:h.jsx("input",{autoComplete:"off",readOnly:!0,className:"input spacing-expanded input-icon-after sidebar-wrap-content",type:"number","data-test":"total-bet-amount-input",value:B})}),h.jsxs("div",{className:"input-button-wrap sidebar-wrap-content inner-square",children:[h.jsx("button",{className:"variant-game line-height-150pct text-size-sm spacing-input weight-semibold align-left no-shadow square btn-inc-red",disabled:P,weight:"bold",onClick:me,children:h.jsx("span",{className:"content-or-loader content-loader multiple",children:"1/2"})}),h.jsx("button",{className:"variant-game line-height-150pct text-size-sm spacing-input weight-semibold align-left no-shadow square btn-inc-red",disabled:P,weight:"bold",onClick:xe,children:h.jsx("span",{className:"content-or-loader content-loader multiple",children:"2X"})})]})]})})}),N?"":h.jsx("div",{children:h.jsx("button",{loading:"roulette_betloading",disabled:P,className:"start-spin",onClick:x,children:h.jsx("span",{style:{margin:"auto"},children:"Spin"})})}),h.jsxs("div",{className:"wrap sidebar-wrap",ref:E,children:[h.jsxs("button",{className:"undo-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]",onClick:()=>_(!0),disabled:C,children:[h.jsx("div",{className:"undo-icon"}),h.jsx("span",{children:"Undo"})]}),h.jsxs("button",{className:"clear-btn  btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]",onClick:()=>v(!0),disabled:C,children:[h.jsx("div",{className:"clear-icon"}),h.jsx("span",{children:"Clear"})]})]})]}),h.jsx("div",{className:"tabs-wrapper scrollX fullWidth normal-com",children:h.jsx("div",{className:"slider variant-dark normal-com",children:h.jsxs("div",{className:"content-wrapper normal-com",children:[h.jsx("button",{name:"ActiveManual",disabled:C,className:"tab-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(N==!1?" tab-selected":""),onClick:()=>ne(!1),children:h.jsx("span",{className:"content-or-loader content-loader",children:"Manual"})}),h.jsx("button",{name:"ActiveAuto",disabled:C,className:"tab-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(N==!0?" tab-selected":""),onClick:()=>ne(!0),children:h.jsx("span",{className:"content-or-loader content-loader",children:"Auto"})})]})})}),h.jsx("div",{className:"tabs-wrapper section-history"+(w.isMobile()&&T.matches?" hidden":""),children:h.jsx("div",{className:"slider variant-dark normal-com",children:h.jsxs("div",{className:"content-wrapper normal-com",children:[h.jsx("button",{name:"ActiveMyBets",disabled:C,className:"history-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(V==!0?" history-selected":""),onClick:()=>ye(!0),children:h.jsx("span",{className:"content-or-loader content-loader",children:"My Bets"})}),h.jsx("button",{name:"ActiveBigWins",disabled:C,className:"history-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(V==!1?" history-selected":""),onClick:()=>ye(!1),children:h.jsx("span",{className:"content-or-loader content-loader",children:"Big Wins"})})]})})}),h.jsx("div",{className:w.isMobile()&&T.matches?" hidden":"",children:h.jsx(t_,{})})]})},I0=({isStacked:r})=>h.jsxs("div",{className:"wrap headinfo",children:[h.jsx("div",{"data-test":"button-undo",className:"variant-link line-height-150pct text-size-large spacing-none weight-semibold align-center headinfo-rl",children:h.jsx("span",{className:"rl-header content-loader",children:"ROULETTE"})}),r?"":h.jsx("div",{"data-test":"button-clear",className:"variant-link line-height-150pct text-size-large spacing-none weight-semibold align-center headinfo-mm",children:h.jsx("span",{className:"content-or-loader content-loader",children:"MIN: 0.5  MAX: 50,000"})})]});var C3=Object.defineProperty,S3=Object.defineProperties,T3=Object.getOwnPropertyDescriptors,P0=Object.getOwnPropertySymbols,A3=Object.prototype.hasOwnProperty,k3=Object.prototype.propertyIsEnumerable,R0=(r,e,n)=>e in r?C3(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,M0=(r,e)=>{for(var n in e||(e={}))A3.call(e,n)&&R0(r,n,e[n]);if(P0)for(var n of P0(e))k3.call(e,n)&&R0(r,n,e[n]);return r},B0=(r,e)=>S3(r,T3(e));const{abs:Ks,cos:Dr,sin:Pi,acos:N3,atan2:qs,sqrt:rn,pow:Ot}=Math;function Qs(r){return r<0?-Ot(-r,1/3):Ot(r,1/3)}const r_=Math.PI,Qa=2*r_,nn=r_/2,I3=1e-6,dh=Number.MAX_SAFE_INTEGER||9007199254740991,fh=Number.MIN_SAFE_INTEGER||-9007199254740991,P3={x:0,y:0,z:0},z={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(r,e){const n=e(r);let i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),rn(i)},compute:function(r,e,n){if(r===0)return e[0].t=0,e[0];const i=e.length-1;if(r===1)return e[i].t=1,e[i];const s=1-r;let o=e;if(i===0)return e[0].t=r,e[0];if(i===1){const l={x:s*o[0].x+r*o[1].x,y:s*o[0].y+r*o[1].y,t:r};return n&&(l.z=s*o[0].z+r*o[1].z),l}if(i<4){let l=s*s,u=r*r,c,d,f,p=0;i===2?(o=[o[0],o[1],o[2],P3],c=l,d=s*r*2,f=u):i===3&&(c=l*s,d=l*r*3,f=s*u*3,p=r*u);const m={x:c*o[0].x+d*o[1].x+f*o[2].x+p*o[3].x,y:c*o[0].y+d*o[1].y+f*o[2].y+p*o[3].y,t:r};return n&&(m.z=c*o[0].z+d*o[1].z+f*o[2].z+p*o[3].z),m}const a=JSON.parse(JSON.stringify(e));for(;a.length>1;){for(let l=0;l<a.length-1;l++)a[l]={x:a[l].x+(a[l+1].x-a[l].x)*r,y:a[l].y+(a[l+1].y-a[l].y)*r},typeof a[l].z<"u"&&(a[l]=a[l].z+(a[l+1].z-a[l].z)*r);a.splice(a.length-1,1)}return a[0].t=r,a[0]},computeWithRatios:function(r,e,n,i){const s=1-r,o=n,a=e;let l=o[0],u=o[1],c=o[2],d=o[3],f;if(l*=s,u*=r,a.length===2)return f=l+u,{x:(l*a[0].x+u*a[1].x)/f,y:(l*a[0].y+u*a[1].y)/f,z:i?(l*a[0].z+u*a[1].z)/f:!1,t:r};if(l*=s,u*=2*s,c*=r*r,a.length===3)return f=l+u+c,{x:(l*a[0].x+u*a[1].x+c*a[2].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y)/f,z:i?(l*a[0].z+u*a[1].z+c*a[2].z)/f:!1,t:r};if(l*=s,u*=1.5*s,c*=3*s,d*=r*r*r,a.length===4)return f=l+u+c+d,{x:(l*a[0].x+u*a[1].x+c*a[2].x+d*a[3].x)/f,y:(l*a[0].y+u*a[1].y+c*a[2].y+d*a[3].y)/f,z:i?(l*a[0].z+u*a[1].z+c*a[2].z+d*a[3].z)/f:!1,t:r}},derive:function(r,e){const n=[];for(let i=r,s=i.length,o=s-1;s>1;s--,o--){const a=[];for(let l=0,u;l<o;l++)u={x:o*(i[l+1].x-i[l].x),y:o*(i[l+1].y-i[l].y)},e&&(u.z=o*(i[l+1].z-i[l].z)),a.push(u);n.push(a),i=a}return n},between:function(r,e,n){return e<=r&&r<=n||z.approximately(r,e)||z.approximately(r,n)},approximately:function(r,e,n){return Ks(r-e)<=(n||I3)},length:function(r){const n=z.Tvalues.length;let i=0;for(let s=0,o;s<n;s++)o=.5*z.Tvalues[s]+.5,i+=z.Cvalues[s]*z.arcfn(o,r);return .5*i},map:function(r,e,n,i,s){const o=n-e,a=s-i,l=r-e,u=l/o;return i+a*u},lerp:function(r,e,n){const i={x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)};return e.z&&n.z&&(i.z=e.z+r*(n.z-e.z)),i},pointToString:function(r){let e=r.x+"/"+r.y;return typeof r.z<"u"&&(e+="/"+r.z),e},pointsToString:function(r){return"["+r.map(z.pointToString).join(", ")+"]"},copy:function(r){return JSON.parse(JSON.stringify(r))},angle:function(r,e,n){const i=e.x-r.x,s=e.y-r.y,o=n.x-r.x,a=n.y-r.y,l=i*a-s*o,u=i*o+s*a;return qs(l,u)},round:function(r,e){const n=""+r,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+e))},dist:function(r,e){const n=r.x-e.x,i=r.y-e.y;return rn(n*n+i*i)},closest:function(r,e){let n=Ot(2,63),i,s;return r.forEach(function(o,a){s=z.dist(e,o),s<n&&(n=s,i=a)}),{mdist:n,mpos:i}},abcratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=Ot(r,e)+Ot(1-r,e),i=n-1;return Ks(i/n)},projectionratio:function(r,e){if(e!==2&&e!==3)return!1;if(typeof r>"u")r=.5;else if(r===0||r===1)return r;const n=Ot(1-r,e),i=Ot(r,e)+n;return n/i},lli8:function(r,e,n,i,s,o,a,l){const u=(r*i-e*n)*(s-a)-(r-n)*(s*l-o*a),c=(r*i-e*n)*(o-l)-(e-i)*(s*l-o*a),d=(r-n)*(o-l)-(e-i)*(s-a);return d==0?!1:{x:u/d,y:c/d}},lli4:function(r,e,n,i){const s=r.x,o=r.y,a=e.x,l=e.y,u=n.x,c=n.y,d=i.x,f=i.y;return z.lli8(s,o,a,l,u,c,d,f)},lli:function(r,e){return z.lli4(r,r.c,e,e.c)},findbbox:function(r){let e=dh,n=dh,i=fh,s=fh;return r.forEach(function(o){const a=o.bbox();e>a.x.min&&(e=a.x.min),n>a.y.min&&(n=a.y.min),i<a.x.max&&(i=a.x.max),s<a.y.max&&(s=a.y.max)}),{x:{min:e,mid:(e+i)/2,max:i,size:i-e},y:{min:n,mid:(n+s)/2,max:s,size:s-n}}},shapeintersections:function(r,e,n,i,s){if(!z.bboxoverlap(e,i))return[];const o=[],a=[r.startcap,r.forward,r.back,r.endcap],l=[n.startcap,n.forward,n.back,n.endcap];return a.forEach(function(u){u.virtual||l.forEach(function(c){if(c.virtual)return;const d=u.intersects(c,s);d.length>0&&(d.c1=u,d.c2=c,d.s1=r,d.s2=n,o.push(d))})}),o},getminmax:function(r,e,n){if(!n)return{min:0,max:0};let i=dh,s=fh,o,a;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let l=0,u=n.length;l<u;l++)o=n[l],a=r.get(o),a[e]<i&&(i=a[e]),a[e]>s&&(s=a[e]);return{min:i,mid:(i+s)/2,max:s,size:s-i}},align:function(r,e){const n=e.p1.x,i=e.p1.y,s=-qs(e.p2.y-i,e.p2.x-n),o=function(a){return{x:(a.x-n)*Dr(s)-(a.y-i)*Pi(s),y:(a.x-n)*Pi(s)+(a.y-i)*Dr(s)}};return r.map(o)},roots:function(r,e){e=e||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=r.length-1,i=z.align(r,e),s=function(T){return 0<=T&&T<=1};if(n===2){const T=i[0].y,C=i[1].y,M=i[2].y,P=T-2*C+M;if(P!==0){const S=-rn(C*C-T*M),O=-T+C,A=-(S+O)/P,B=-(-S+O)/P;return[A,B].filter(s)}else if(C!==M&&P===0)return[(2*C-M)/(2*C-2*M)].filter(s);return[]}const o=i[0].y,a=i[1].y,l=i[2].y,u=i[3].y;let c=-o+3*a-3*l+u,d=3*o-6*a+3*l,f=-3*o+3*a,p=o;if(z.approximately(c,0)){if(z.approximately(d,0))return z.approximately(f,0)?[]:[-p/f].filter(s);const T=rn(f*f-4*d*p),C=2*d;return[(T-f)/C,(-f-T)/C].filter(s)}d/=c,f/=c,p/=c;const m=(3*f-d*d)/3,g=m/3,x=(2*d*d*d-9*d*f+27*p)/27,b=x/2,y=b*b+g*g*g;let _,v,w,E,k;if(y<0){const T=-m/3,C=T*T*T,M=rn(C),P=-x/(2*M),S=P<-1?-1:P>1?1:P,O=N3(S),A=Qs(M),B=2*A;return w=B*Dr(O/3)-d/3,E=B*Dr((O+Qa)/3)-d/3,k=B*Dr((O+2*Qa)/3)-d/3,[w,E,k].filter(s)}else{if(y===0)return _=b<0?Qs(-b):-Qs(b),w=2*_-d/3,E=-_-d/3,[w,E].filter(s);{const T=rn(y);return _=Qs(-b+T),v=Qs(b+T),[_-v-d/3].filter(s)}}},droots:function(r){if(r.length===3){const e=r[0],n=r[1],i=r[2],s=e-2*n+i;if(s!==0){const o=-rn(n*n-e*i),a=-e+n,l=-(o+a)/s,u=-(-o+a)/s;return[l,u]}else if(n!==i&&s===0)return[(2*n-i)/(2*(n-i))];return[]}if(r.length===2){const e=r[0],n=r[1];return e!==n?[e/(e-n)]:[]}return[]},curvature:function(r,e,n,i,s){let o,a,l,u,c=0,d=0;const f=z.compute(r,e),p=z.compute(r,n),m=f.x*f.x+f.y*f.y;if(i?(o=rn(Ot(f.y*p.z-p.y*f.z,2)+Ot(f.z*p.x-p.z*f.x,2)+Ot(f.x*p.y-p.x*f.y,2)),a=Ot(m+f.z*f.z,3/2)):(o=f.x*p.y-f.y*p.x,a=Ot(m,3/2)),o===0||a===0)return{k:0,r:0};if(c=o/a,d=a/o,!s){const g=z.curvature(r-.001,e,n,i,!0).k,x=z.curvature(r+.001,e,n,i,!0).k;u=(x-c+(c-g))/2,l=(Ks(x-c)+Ks(c-g))/2}return{k:c,r:d,dk:u,adk:l}},inflections:function(r){if(r.length<4)return[];const e=z.align(r,{p1:r[0],p2:r.slice(-1)[0]}),n=e[2].x*e[1].y,i=e[3].x*e[1].y,s=e[1].x*e[2].y,o=e[3].x*e[2].y,a=18*(-3*n+2*i+3*s-o),l=18*(3*n-i-3*s),u=18*(s-n);if(z.approximately(a,0)){if(!z.approximately(l,0)){let p=-u/l;if(0<=p&&p<=1)return[p]}return[]}const c=l*l-4*a*u,d=Math.sqrt(c),f=2*a;return z.approximately(f,0)?[]:[(d-l)/f,-(l+d)/f].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(r,e){const n=["x","y"],i=n.length;for(let s=0,o,a,l,u;s<i;s++)if(o=n[s],a=r[o].mid,l=e[o].mid,u=(r[o].size+e[o].size)/2,Ks(a-l)>=u)return!1;return!0},expandbox:function(r,e){e.x.min<r.x.min&&(r.x.min=e.x.min),e.y.min<r.y.min&&(r.y.min=e.y.min),e.z&&e.z.min<r.z.min&&(r.z.min=e.z.min),e.x.max>r.x.max&&(r.x.max=e.x.max),e.y.max>r.y.max&&(r.y.max=e.y.max),e.z&&e.z.max>r.z.max&&(r.z.max=e.z.max),r.x.mid=(r.x.min+r.x.max)/2,r.y.mid=(r.y.min+r.y.max)/2,r.z&&(r.z.mid=(r.z.min+r.z.max)/2),r.x.size=r.x.max-r.x.min,r.y.size=r.y.max-r.y.min,r.z&&(r.z.size=r.z.max-r.z.min)},pairiteration:function(r,e,n){const i=r.bbox(),s=e.bbox(),o=1e5,a=n||.5;if(i.x.size+i.y.size<a&&s.x.size+s.y.size<a)return[(o*(r._t1+r._t2)/2|0)/o+"/"+(o*(e._t1+e._t2)/2|0)/o];let l=r.split(.5),u=e.split(.5),c=[{left:l.left,right:u.left},{left:l.left,right:u.right},{left:l.right,right:u.right},{left:l.right,right:u.left}];c=c.filter(function(f){return z.bboxoverlap(f.left.bbox(),f.right.bbox())});let d=[];return c.length===0||(c.forEach(function(f){d=d.concat(z.pairiteration(f.left,f.right,a))}),d=d.filter(function(f,p){return d.indexOf(f)===p})),d},getccenter:function(r,e,n){const i=e.x-r.x,s=e.y-r.y,o=n.x-e.x,a=n.y-e.y,l=i*Dr(nn)-s*Pi(nn),u=i*Pi(nn)+s*Dr(nn),c=o*Dr(nn)-a*Pi(nn),d=o*Pi(nn)+a*Dr(nn),f=(r.x+e.x)/2,p=(r.y+e.y)/2,m=(e.x+n.x)/2,g=(e.y+n.y)/2,x=f+l,b=p+u,y=m+c,_=g+d,v=z.lli8(f,p,x,b,m,g,y,_),w=z.dist(v,r);let E=qs(r.y-v.y,r.x-v.x),k=qs(e.y-v.y,e.x-v.x),T=qs(n.y-v.y,n.x-v.x),C;return E<T?((E>k||k>T)&&(E+=Qa),E>T&&(C=T,T=E,E=C)):T<k&&k<E?(C=T,T=E,E=C):T+=Qa,v.s=E,v.e=T,v.r=w,v},numberSort:function(r,e){return r-e}};class fu{constructor(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(e){return z.pointsToString(e.points)}).join(", ")+"]"}addCurve(e){this.curves.push(e),this._3d=this._3d||e._3d}length(){return this.curves.map(function(e){return e.length()}).reduce(function(e,n){return e+n})}curve(e){return this.curves[e]}bbox(){const e=this.curves;for(var n=e[0].bbox(),i=1;i<e.length;i++)z.expandbox(n,e[i].bbox());return n}offset(e){const n=[];return this.curves.forEach(function(i){n.push(...i.offset(e))}),new fu(n)}}const{abs:Zs,min:L0,max:D0,cos:R3,sin:M3,acos:B3,sqrt:Js}=Math,L3=Math.PI;class He{constructor(e){let n=e&&e.forEach?e:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;const p=[];n.forEach(function(m){["x","y","z"].forEach(function(g){typeof m[g]<"u"&&p.push(m[g])})}),n=p}let s=!1;const o=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");s=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const a=this._3d=!s&&(o===9||o===12)||e&&e[0]&&typeof e[0].z<"u",l=this.points=[];for(let p=0,m=a?3:2;p<o;p+=m){var u={x:n[p],y:n[p+1]};a&&(u.z=n[p+2]),l.push(u)}const c=this.order=l.length-1,d=this.dims=["x","y"];a&&d.push("z"),this.dimlen=d.length;const f=z.align(l,{p1:l[0],p2:l[c]});this._linear=!f.some(p=>Zs(p.y)>1e-4),this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(e,n,i,s){if(typeof s>"u"&&(s=.5),s===0)return new He(n,n,i);if(s===1)return new He(e,n,n);const o=He.getABC(2,e,n,i,s);return new He(e,o.A,i)}static cubicFromPoints(e,n,i,s,o){typeof s>"u"&&(s=.5);const a=He.getABC(3,e,n,i,s);typeof o>"u"&&(o=z.dist(n,a.C));const l=o*(1-s)/s,u=z.dist(e,i),c=(i.x-e.x)/u,d=(i.y-e.y)/u,f=o*c,p=o*d,m=l*c,g=l*d,x={x:n.x-f,y:n.y-p},b={x:n.x+m,y:n.y+g},y=a.A,_={x:y.x+(x.x-y.x)/(1-s),y:y.y+(x.y-y.y)/(1-s)},v={x:y.x+(b.x-y.x)/s,y:y.y+(b.y-y.y)/s},w={x:e.x+(_.x-e.x)/s,y:e.y+(_.y-e.y)/s},E={x:i.x+(v.x-i.x)/(1-s),y:i.y+(v.y-i.y)/(1-s)};return new He(e,w,E,i)}static getUtils(){return z}getUtils(){return He.getUtils()}static get PolyBezier(){return fu}valueOf(){return this.toString()}toString(){return z.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const e=this.points,n=e[0].x,i=e[0].y,s=["M",n,i,this.order===2?"Q":"C"];for(let o=1,a=e.length;o<a;o++)s.push(e[o].x),s.push(e[o].y);return s.join(" ")}setRatios(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}verify(){const e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}coordDigest(){return this.points.map(function(e,n){return""+n+e.x+e.y+(e.z?e.z:0)}).join("")}update(){this._lut=[],this.dpoints=z.derive(this.points,this._3d),this.computedirection()}computedirection(){const e=this.points,n=z.angle(e[0],e[this.order],e[1]);this.clockwise=n>0}length(){return z.length(this.derivative.bind(this))}static getABC(e=2,n,i,s,o=.5){const a=z.projectionratio(o,e),l=1-a,u={x:a*n.x+l*s.x,y:a*n.y+l*s.y},c=z.abcratio(o,e);return{A:{x:i.x+(i.x-u.x)/c,y:i.y+(i.y-u.y)/c},B:i,C:u,S:n,E:s}}getABC(e,n){n=n||this.get(e);let i=this.points[0],s=this.points[this.order];return He.getABC(this.order,i,n,s,e)}getLUT(e){if(this.verify(),e=e||100,this._lut.length===e)return this._lut;this._lut=[],e--;for(let n=0,i,s;n<e;n++)s=n/(e-1),i=this.compute(s),i.t=s,this._lut.push(i);return this._lut}on(e,n){n=n||5;const i=this.getLUT(),s=[];for(let o=0,a,l=0;o<i.length;o++)a=i[o],z.dist(a,e)<n&&(s.push(a),l+=o/i.length);return s.length?t/=s.length:!1}project(e){const n=this.getLUT(),i=n.length-1,s=z.closest(n,e),o=s.mpos,a=(o-1)/i,l=(o+1)/i,u=.1/i;let c=s.mdist,d=a,f=d,p;c+=1;for(let m;d<l+u;d+=u)p=this.compute(d),m=z.dist(e,p),m<c&&(c=m,f=d);return f=f<0?0:f>1?1:f,p=this.compute(f),p.t=f,p.d=c,p}get(e){return this.compute(e)}point(e){return this.points[e]}compute(e){return this.ratios?z.computeWithRatios(e,this.points,this.ratios,this._3d):z.compute(e,this.points,this._3d,this.ratios)}raise(){const e=this.points,n=[e[0]],i=e.length;for(let s=1,o,a;s<i;s++)o=e[s],a=e[s-1],n[s]={x:(i-s)/i*o.x+s/i*a.x,y:(i-s)/i*o.y+s/i*a.y};return n[i]=e[i-1],new He(n)}derivative(e){return z.compute(e,this.dpoints[0],this._3d)}dderivative(e){return z.compute(e,this.dpoints[1],this._3d)}align(){let e=this.points;return new He(z.align(e,{p1:e[0],p2:e[e.length-1]}))}curvature(e){return z.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return z.inflections(this.points)}normal(e){return this._3d?this.__normal3(e):this.__normal2(e)}__normal2(e){const n=this.derivative(e),i=Js(n.x*n.x+n.y*n.y);return{x:-n.y/i,y:n.x/i}}__normal3(e){const n=this.derivative(e),i=this.derivative(e+.01),s=Js(n.x*n.x+n.y*n.y+n.z*n.z),o=Js(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=s,n.y/=s,n.z/=s,i.x/=o,i.y/=o,i.z/=o;const a={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},l=Js(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=l,a.y/=l,a.z/=l;const u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(e){let n=this.points,i=[],s=[],o=0;for(s[o++]=n[0],s[o++]=n[1],s[o++]=n[2],this.order===3&&(s[o++]=n[3]);n.length>1;){i=[];for(let a=0,l,u=n.length-1;a<u;a++)l=z.lerp(e,n[a],n[a+1]),s[o++]=l,i.push(l);n=i}return s}split(e,n){if(e===0&&n)return this.split(n).left;if(n===1)return this.split(e).right;const i=this.hull(e),s={left:this.order===2?new He([i[0],i[3],i[5]]):new He([i[0],i[4],i[7],i[9]]),right:this.order===2?new He([i[5],i[4],i[2]]):new He([i[9],i[8],i[6],i[3]]),span:i};return s.left._t1=z.map(0,0,1,this._t1,this._t2),s.left._t2=z.map(e,0,1,this._t1,this._t2),s.right._t1=z.map(e,0,1,this._t1,this._t2),s.right._t2=z.map(1,0,1,this._t1,this._t2),n?(n=z.map(n,e,1,0,1),s.right.split(n).left):s}extrema(){const e={};let n=[];return this.dims.forEach((function(i){let s=function(a){return a[i]},o=this.dpoints[0].map(s);e[i]=z.droots(o),this.order===3&&(o=this.dpoints[1].map(s),e[i]=e[i].concat(z.droots(o))),e[i]=e[i].filter(function(a){return a>=0&&a<=1}),n=n.concat(e[i].sort(z.numberSort))}).bind(this)),e.values=n.sort(z.numberSort).filter(function(i,s){return n.indexOf(i)===s}),e}bbox(){const e=this.extrema(),n={};return this.dims.forEach((function(i){n[i]=z.getminmax(this,i,e[i])}).bind(this)),n}overlaps(e){const n=this.bbox(),i=e.bbox();return z.bboxoverlap(n,i)}offset(e,n){if(typeof n<"u"){const i=this.get(e),s=this.normal(e),o={c:i,n:s,x:i.x+s.x*n,y:i.y+s.y*n};return this._3d&&(o.z=i.z+s.z*n),o}if(this._linear){const i=this.normal(0),s=this.points.map(function(o){const a={x:o.x+e*i.x,y:o.y+e*i.y};return o.z&&i.z&&(a.z=o.z+e*i.z),a});return[new He(s)]}return this.reduce().map(function(i){return i._linear?i.offset(e)[0]:i.scale(e)})}simple(){if(this.order===3){const s=z.angle(this.points[0],this.points[3],this.points[1]),o=z.angle(this.points[0],this.points[3],this.points[2]);if(s>0&&o<0||s<0&&o>0)return!1}const e=this.normal(0),n=this.normal(1);let i=e.x*n.x+e.y*n.y;return this._3d&&(i+=e.z*n.z),Zs(B3(i))<L3/3}reduce(){let e,n=0,i=0,s=.01,o,a=[],l=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],e=1;e<u.length;e++)i=u[e],o=this.split(n,i),o._t1=n,o._t2=i,a.push(o),n=i;return a.forEach(function(c){for(n=0,i=0;i<=1;)for(i=n+s;i<=1+s;i+=s)if(o=c.split(n,i),!o.simple()){if(i-=s,Zs(n-i)<s)return[];o=c.split(n,i),o._t1=z.map(n,0,1,c._t1,c._t2),o._t2=z.map(i,0,1,c._t1,c._t2),l.push(o),n=i;break}n<1&&(o=c.split(n,1),o._t1=z.map(n,0,1,c._t1,c._t2),o._t2=c._t2,l.push(o))}),l}scale(e){const n=this.order;let i=!1;if(typeof e=="function"&&(i=e),i&&n===2)return this.raise().scale(i);const s=this.clockwise,o=i?i(0):e,a=i?i(1):e,l=[this.offset(0,10),this.offset(1,10)],u=this.points,c=[],d=z.lli4(l[0],l[0].c,l[1],l[1].c);if(!d)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const p=c[f*n]=z.copy(u[f*n]);p.x+=(f?a:o)*l[f].n.x,p.y+=(f?a:o)*l[f].n.y}),i?([0,1].forEach(function(f){if(!(n===2&&f)){var p=u[f+1],m={x:p.x-d.x,y:p.y-d.y},g=i?i((f+1)/n):e;i&&!s&&(g=-g);var x=Js(m.x*m.x+m.y*m.y);m.x/=x,m.y/=x,c[f+1]={x:p.x+g*m.x,y:p.y+g*m.y}}}),new He(c)):([0,1].forEach(f=>{if(n===2&&f)return;const p=c[f*n],m=this.derivative(f),g={x:p.x+m.x,y:p.y+m.y};c[f+1]=z.lli4(p,g,d,u[f+1])}),new He(c))}outline(e,n,i,s){n=typeof n>"u"?e:n;const o=this.reduce(),a=o.length,l=[];let u=[],c,d=0,f=this.length();const p=typeof i<"u"&&typeof s<"u";function m(E,k,T,C,M){return function(P){const S=C/T,O=(C+M)/T,A=k-E;return z.map(P,0,1,E+S*A,E+O*A)}}o.forEach(function(E){const k=E.length();p?(l.push(E.scale(m(e,i,f,d,k))),u.push(E.scale(m(-n,-s,f,d,k)))):(l.push(E.scale(e)),u.push(E.scale(-n))),d+=k}),u=u.map(function(E){return c=E.points,c[3]?E.points=[c[3],c[2],c[1],c[0]]:E.points=[c[2],c[1],c[0]],E}).reverse();const g=l[0].points[0],x=l[a-1].points[l[a-1].points.length-1],b=u[a-1].points[u[a-1].points.length-1],y=u[0].points[0],_=pu(b,g),v=pu(x,y),w=[_].concat(l).concat([v]).concat(u);return w.length,new fu(w)}outlineshapes(e,n,i){n=n||e;const s=this.outline(e,n).curves,o=[];for(let a=1,l=s.length;a<l/2;a++){const u=D3(s[a],s[l-a],i);u.startcap.virtual=a>1,u.endcap.virtual=a<l/2-1,o.push(u)}return o}intersects(e,n){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof He&&(e=e.reduce()),this.curveintersects(this.reduce(),e,n)):this.selfintersects(n)}lineIntersects(e){const n=L0(e.p1.x,e.p2.x),i=L0(e.p1.y,e.p2.y),s=D0(e.p1.x,e.p2.x),o=D0(e.p1.y,e.p2.y);return z.roots(this.points,e).filter(a=>{var l=this.get(a);return z.between(l.x,n,s)&&z.between(l.y,i,o)})}selfintersects(e){const n=this.reduce(),i=n.length-2,s=[];for(let o=0,a,l,u;o<i;o++)l=n.slice(o,o+1),u=n.slice(o+2),a=this.curveintersects(l,u,e),s.push(...a);return s}curveintersects(e,n,i){const s=[];e.forEach(function(a){n.forEach(function(l){a.overlaps(l)&&s.push({left:a,right:l})})});let o=[];return s.forEach(function(a){const l=z.pairiteration(a.left,a.right,i);l.length>0&&(o=o.concat(l))}),o}arcs(e){return e=e||.5,this._iterate(e,[])}_error(e,n,i,s){const o=(s-i)/4,a=this.get(i+o),l=this.get(s-o),u=z.dist(e,n),c=z.dist(e,a),d=z.dist(e,l);return Zs(c-u)+Zs(d-u)}_iterate(e,n){let i=0,s=1,o;do{o=0,s=1;let a=this.get(i),l,u,c,d,f=!1,p=!1,m,g=s,x=1;do if(p=f,d=c,g=(i+s)/2,l=this.get(g),u=this.get(s),c=z.getccenter(a,l,u),c.interval={start:i,end:s},f=this._error(c,a,i,s)<=e,m=p&&!f,m||(x=s),f){if(s>=1){if(c.interval.end=x=1,d=c,s>1){let b={x:c.x+c.r*R3(c.e),y:c.y+c.r*M3(c.e)};c.e+=z.angle({x:c.x,y:c.y},b,this.get(1))}break}s=s+(s-i)/2}else s=g;while(!m&&o++<100);if(o>=100)break;d=d||c,n.push(d),i=x}while(s<1);return n}}const pu=(r,e)=>{const n=r.x,i=r.y,s=e.x,o=e.y,a=(s-n)/3,l=(o-i)/3;return new He(n,i,n+a,i+l,n+2*a,i+2*l,s,o)},D3=(r,e,n)=>{const i=e.points.length,s=r.points.length,o=pu(e.points[i-1],r.points[0]),a=pu(r.points[s-1],e.points[0]),l={startcap:o,forward:r,back:e,endcap:a,bbox:z.findbbox([o,r,e,a])};return l.intersections=function(u){return z.shapeintersections(l,l.bbox,u,u.bbox,n)},l};class F3{constructor({degrees:e,time:n,handle:i,x:s,y:o,nextCurve:a}){this._getDegrees=()=>this.degrees,this._drawHandlePoint=l=>{const{handle:{x:u,y:c}}=this,d=5;l.fillStyle="blue",l.fillRect(u-d/2,c-d/2,d,d),l.fillStyle="#fff",l.fillRect(u-d/4,c-d/4,d/2,d/2)},this._getQuadraticCurve=()=>{const{handle:l,x:u,y:c,nextCurve:d}=this;return[u,c,l.x,l.y,d.x,d.y]},this._getQuadraticXY=l=>{const{nextCurve:u}=this;return new He(...this._getQuadraticCurve(u)).get(l/100)},this.render=l=>{l.save(),l.restore()},this.degrees=e,this.x=s,this.y=o,this.nextCurve=a,this.time=n,this.handle=i}}const F0=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],O3=({ballRotation:r,number:e})=>{const n=F0.findIndex(s=>s===e),i=F0.length;return n/i*360-r},sn=r=>Math.round(Math.random()*r)-r/2,j3=({collisions:r,sizes:e})=>{const{mid:{x:n,y:i},wheelRadius:s,innerWheelRadius:o,ballRadius:a,circleInnerPadding:l}=e;let u=50+Math.random()*70;const c=r.map((d,f)=>{const p=r[f+1],m=p!==void 0,g=m&&Math.cos(Math.radians((p.degrees+d.degrees)/2)),x=m&&Math.sin(Math.radians((p.degrees+d.degrees)/2)),b=m&&{x:n+g*(o+a+u),y:i+x*(o+a+u)},y=Math.cos(Math.radians(d.degrees)),_=Math.sin(Math.radians(d.degrees)),v={x:n+y*(f!==0?o+a:s-l/2),y:i+_*(f!==0?o+a:s-l/2)};return u/=1+Math.random()*.5,B0(M0({},v),{degrees:d.degrees,time:d.time,handle:b})});return c.map((d,f)=>{const p=c[f+1],m=p!==void 0;return new F3(B0(M0({},d),{nextCurve:m&&{x:p.x,y:p.y}}))})};class U3{constructor({ctx:e,radius:n,wheelSizes:i,startY:s,ballStartDropCallback:o}){this._changePlayAnimation=a=>{this.playAnimation!==a&&(this.playAnimation=a,a&&this.ballStartDropCallback())},this._changeAnimationCoordinates=a=>{this.animationCoordinates=a},this.render=a=>{const{wheelSizes:l,radius:u,ctx:c,startY:d,playAnimation:f,animationCoordinates:p}=this;c.save(),c.fillStyle="#fff",f?(c.beginPath(),c.arc(p.x,p.y,u,0,Math.PI*2),c.fill(),c.closePath()):(c.translate(l.x,l.y),c.rotate(Math.radians(a)),c.translate(-l.x,-l.y),c.beginPath(),c.arc(l.x,d,u,0,Math.PI*2),c.fill(),c.closePath()),c.restore()},this.radius=n,this.ctx=e,this.wheelSizes=i,this.startY=s,this.playAnimation=!1,this.ballStartDropCallback=o,this.animationCoordinates={x:0,y:0}}}Math.radians=r=>r*Math.PI/180;const on={wheel:{default:0,accelerated:0},ball:{default:7}};class z3{constructor({ctx:e,width:n,height:i,ballStartDropCallback:s}){this._rotate=()=>{const{ctx:l,width:u,height:c,rotationIncreasements:d}=this;if(this.rotations.wheel+=d.wheel,this.rotations.wheel=this.rotations.wheel-Math.ceil(this.rotations.wheel/360)*360,l.translate(u/2,c/2),l.rotate(Math.radians(d.wheel)),l.translate(-u/2,-c/2),typeof this.result=="number"){const f=this.curves[this.curves.length-2]._getQuadraticXY(100);if(this.instantResult)this.Ball._changePlayAnimation(!0),this.Ball._changeAnimationCoordinates(f),this.hasDropped||this.dropCallback();else if(this.restOfRotation>360){const p=this.rotationIncreasements.ball;this.restOfRotation-=p,this.rotations.ball+=p,this.rotations.ball=this.rotations.ball-Math.floor(this.rotations.ball/360)*360}else{const p=this._getCurrentCurveXY(this.time,2.5),m=p===void 0||isNaN(p.x)?this.curves[this.curves.length-2]._getQuadraticXY(100):p;this.Ball._changePlayAnimation(!0),this.Ball._changeAnimationCoordinates(m),this.time+=.035,m.x===f.x&&m.y===f.y&&!this.hasDropped&&this.dropCallback()}}else this.rotations.ball+=d.ball,this.rotations.ball=this.rotations.ball-Math.floor(this.rotations.ball/360)*360},this._clean=()=>{const{ctx:l,width:u,height:c}=this;l.clearRect(0,0,u,c)},this._changeResult=(l,u)=>{if(this.result=l,this.instantResult=u,typeof l=="number"){this.time=0;const c=O3({ballRotation:0,number:l}),d=720+c-this.rotations.ball;this.totalRotation=d,this.restOfRotation=d,this.hasDropped=!1,this._changeStartAnimationAtDegrees(c);const{curves:f,curveTimeline:p}=this._generateCurves();this.curves=f,this.curveTimeline=p}else this.Ball._changePlayAnimation(!1)},this._addDropCallBack=l=>{this.dropCallback=()=>{this.hasDropped=!0,l()}},this._drawBall=()=>{const{rotations:l,hasBall:u,result:c}=this;(u||typeof c=="number")&&this.Ball.render(l.ball)},this._changeHasBall=l=>{this.hasBall=l;const u=1e3/60;if(l){clearInterval(this.interval);let c=0;const d=300;this.interval=setInterval(()=>{c+=u;const f=c/d;f<1?this.rotationIncreasements.wheel=on.wheel.default+f*(on.wheel.accelerated-on.wheel.default):clearInterval(this.interval)},u)}else{clearInterval(this.interval);let c=0;const d=1e3;this.interval=setInterval(()=>{c+=u;const f=c/d;c<d?this.rotationIncreasements.wheel=on.wheel.default+(1-f)*(on.wheel.accelerated-on.wheel.default):clearInterval(this.interval)},u)}},this._changeStartAnimationAtDegrees=l=>{this.startAnimationAtDegrees=l-90},this._generateCurves=()=>{const{width:l,height:u,ballRadius:c,wheelSizes:d,innerWheelSizes:f,startAnimationAtDegrees:p,circleInnerPadding:m}=this,g=[{degrees:p,time:.2},{degrees:p+110+sn(30),time:.18},{degrees:p+170+sn(20),time:.16},{degrees:p+225+sn(15),time:.2},{degrees:p+250+sn(15),time:.2},{degrees:p+280+sn(15),time:.2},{degrees:p+310+sn(12),time:.22},{degrees:p+335+sn(8),time:.22},{degrees:p+350+sn(7),time:.22},{degrees:p+360,time:.22}],x={mid:{x:l/2,y:u/2},innerWheelRadius:f.solidRadius,wheelRadius:d.radius,ballRadius:c,circleInnerPadding:m},b=g.map((y,_)=>g.slice(0,_+1).reduce((v,w)=>v+w.time,0));return{curves:j3({collisions:g,sizes:x}),curveTimeline:b}},this._getCurrentCurveXY=(l,u)=>{const{curveTimeline:c}=this,d=l/u;for(let f=0;f<c.length;f+=1){const p=c[f],m=f===0?0:c[f-1];if(p>d){const g=p-m,x=(d-m)/g;return this.curves[f]._getQuadraticXY(x*100)}}return 0},this.render=()=>{this._clean(),this._rotate(),this._drawBall()},this.ctx=e,this.width=n,this.height=i,this.circleInnerPadding=20,this.time=0,this._changeStartAnimationAtDegrees(0),this.rotations={wheel:0,ball:0},this.stopRotationAt=!1,this.rotationIncreasements={wheel:on.wheel.default,ball:on.ball.default},this.instantResult=!1,this.result=!1,this.hasBall=!1,this.wheelSizes={x:n/2,y:i/2,radius:i/2},this.innerWheelSizes={shadowRadius:this.wheelSizes.radius-this.circleInnerPadding-20,solidRadius:this.wheelSizes.radius-this.circleInnerPadding-40},this.ballRadius=Math.round(this.circleInnerPadding/3.5),this.Ball=new U3({ctx:e,wheelSizes:this.wheelSizes,radius:this.ballRadius,startY:(this.circleInnerPadding-2)/2,ballStartDropCallback:s});const{curves:o,curveTimeline:a}=this._generateCurves();this.curves=o,this.curveTimeline=a}}const G3="./assets/spin-6587b785-CyU0-M-n.mp3",H3="./assets/win-9b94c6bb-BpDMfFMt.mp3",$3="./assets/lose-adaf6ba5-CSJf_1E1.mp3",V3="./assets/place-7fa5504d-Zwv_lXxO.mp3",W3="./assets/drop-735b817c-Cmameef7.mp3",X3=()=>h.jsxs(h.Fragment,{children:[h.jsx("audio",{id:"audio-spin",children:h.jsx("source",{src:G3,type:"audio/mpeg"})}),h.jsx("audio",{id:"audio-win",children:h.jsx("source",{src:H3,type:"audio/mpeg"})}),h.jsx("audio",{id:"audio-lose",children:h.jsx("source",{src:$3,type:"audio/mpeg"})}),h.jsx("audio",{id:"audio-place",children:h.jsx("source",{src:V3,type:"audio/mpeg"})}),h.jsx("audio",{id:"audio-drop",children:h.jsx("source",{src:W3,type:"audio/mpeg"})})]}),Y3="./assets/chip0.5-BZsJSCfd.png",K3="./assets/chip1-C82BpNIS.png",q3="./assets/chip5-D8yTEQ4H.png",Q3="./assets/chip10-OUpegtcE.png",Z3="./assets/chip25-heErsZHd.png",J3="./assets/chip50-BNpeOs9a.png",eI="./assets/chip100-DiAOdLt7.png",tI=({ChangedlossMulti:r,ChangedwinMulti:e,amountMulti:n,setamountMulti:i,IsStartedAutoBet:s,IsStartedBet:o,IsUndo:a,IsClear:l,setIsUndo:u,setIsClear:c,StopLoss:d,StopWin:f,addChip:p,changedBetCount:m,changedBetUnit:g,betAmount:x,changedMulti:b,changeMulti:y,clearChip:_,finished:v,isStacked:w,removeChip:E,resetBet:k,resetMulti:T,selectBetCount:C,stopAutoBet:M})=>{const P=Gu(),[S,O]=U.useState(!1),A=U.useRef(null),B=U.useRef(null);U.useState(!1);const[G]=U.useState([]),[j,K]=U.useState({colors:[],numbers:[],parties:[],ranges:[],rows:[]});let R=null,H=null;const[N,L]=U.useState(-1);let V=0,se=0;const[ne,ye]=U.useState(0);let oe="manual",ge=0,Pe=0,Ue=0,pe=0,me=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],xe=[{unit:.5,background:Y3},{unit:1,background:K3},{unit:5,background:q3},{unit:10,background:Q3},{unit:25,background:Z3},{unit:50,background:J3},{unit:100,background:eI}];const re=window.matchMedia("(orientation: landscape)"),we=document;let Re=we.getElementsByClassName("roll-up")[0],ke=we.getElementById("betContainer");we.getElementById("numberofbetCount");let Ft=new z3({ctx:document.getElementById("myCanvas")?document.getElementById("myCanvas").getContext("2d"):null,width:270,height:270,ballStartDropCallback:()=>{document.getElementById("audio-spin").pause(),document.getElementById("audio-drop").load(),document.getElementById("audio-drop").play()}});const Yt=()=>{console.log(j.numbers);let he={rat:1,money:999,totalWin:Math.floor(Math.random()*200-100),betResult:Math.floor(Math.random()*36)};{let ee=he.betResult;se=he.totalWin,V=ee,P.isMobile()&&re.matches&&(B.current.style.display="flex"),w&&(B.current.style.display="flex"),Yu()}},Ls=()=>{R=window.requestAnimationFrame(()=>{Ls(),Ft&&Ft.render()})},Yu=()=>{if(s&&m==0){s=!1;return}R===null&&(R=window.requestAnimationFrame(()=>{Ls(),Ft&&Ft.render()})),Ft._addDropCallBack(()=>{if(window.cancelAnimationFrame(R),R=null,Kt(),oe=="auto"){if(se>0?(Ue+=se,i(1)):(pe-=se,i(1)),pe>=Pe&&Pe!=0||Ue>=ge&&ge!=0){oe="manual",i(1),M();return}ne==0?setTimeout(()=>{Yt()},1e3):(console.log(m),C(ne),ne<=0?(oe="manual",i(1),M()):setTimeout(()=>{Yt()},1e3))}P.isMobile()&&re.matches&&(B.current.style.display="none"),w&&oe!="auto"&&(B.current.style.display="none"),v(),k()}),Ft._changeResult(!1,!1),Ft._changeResult(V,!1)},I=(he,ee)=>{if(oe==="auto")return;if(N>-1&&(document.getElementsByClassName("number"+N)[0].style.border="none"),p(g),j[he].length>0){let ze=j[he].findIndex(Ke=>Ke.value==ee);if(ze==-1){let Ke={amount:g,value:ee};console.log("newBet==",Ke),j[he].push(Ke),Ei(Ke.amount,Ke.value)}else{let Ke=j[he][ze];Ke.amount+=g,j[he][ze]=Ke,Ei(Ke.amount,Ke.value)}}else{let ze={amount:g,value:ee};j[he].push(ze),Ei(ze.amount,ze.value)}let Ne={key:he,value:ee,amount:g};G.push(Ne),x=x+g;let Ee=JSON.stringify({status:j,command:G,chipValue:g});localStorage.setItem("rouletteBetData",Ee),console.log(j)},Kt=()=>{if(ke.children.length>=5&&ke.removeChild(ke.lastChild),me.indexOf(V)>=0){let Ee='<button data-last-bet-index="1" class="history-score" style="background-color:#ae0f05;"><span style="margin: auto;">'+V+"</span></button>";ke.innerHTML=Ee+ke.innerHTML}else if(V==0){let Ee='<button data-last-bet-index="1" class="history-score" style="background-color:#1da71a"><span style="margin: auto;">'+V+"</span></button>";ke.innerHTML=Ee+ke.innerHTML}else{let Ee='<button data-last-bet-index="1" class="history-score" style="background-color:#030712"><span style="margin: auto;">'+V+"</span></button>";ke.innerHTML=Ee+ke.innerHTML}Re.innerHTML=V;let he="";V==0?he="#1da71a":me.includes(V)&&(he="#ae0f05"),Re.style.background=he,w||setTimeout(()=>{Re.style.transform="translateY(0%)"},200);let ee;if(N>-1){ee="number"+N;let Ee=document.getElementsByClassName(ee);Ee[0].style.border="none"}let Ne=document.getElementsByClassName("number"+V);Ne[0].style.border="3px solid #1fff20",L(V),s&&(m--,C(m),m==0&&M())},_e=he=>{const ee=he;return ee<1?ee:ee<1e3?ee>ee?ee+"+":ee:ee<1e6?`${ee/1e3>Math.floor(ee/1e3)?Math.floor(ee/1e3)+"K+":Math.floor(ee/1e3)+"K"}`:ee<1e9?`${ee/1e6>Math.floor(ee/1e6)?Math.floor(ee/1e6)+"M+":Math.floor(ee/1e6)+"M"}`:ee<1e12?`${ee/1e9>Math.floor(ee/1e9)?Math.floor(ee/1e9)+"B+":Math.floor(ee/1e9)+"B"}`:ee<1e15?`${ee/1e12>Math.floor(ee/1e12)?Math.floor(ee/1e12)+"T+":Math.floor(ee/1e12)+"T"}`:ee},Ei=(he,ee)=>{let Ne=he,Ee=document.getElementsByClassName(ee);if(typeof Ee>"u")return;let ze=Ee[Ee.length-1]?Ee[Ee.length-1].getElementsByClassName("btn-normal-sm"):null,Ke="";const aa=xe.slice().reverse(),fr=[];aa.map((Tt,jn)=>{if(Ne/Tt.unit>=1){const Cp=Math.floor(Ne/Tt.unit);fr.push({unit:Tt.unit,count:Cp,background:Tt.background}),Ne=Ne-Tt.unit*Cp}});const Ci=[];for(let Tt=0;Tt<fr.length;Tt++){for(let jn=0;jn<fr[Tt].count&&Ci.length<5;jn++)Ci.push({background:fr[Tt].background});if(Ci.length>=5)break}Ci.map((Tt,jn)=>{jn==0?Ke=`<div><button class="chip-bet wrap" style="background-image: url(${Tt.background}); display: list-item;"><div className="content chip-temp">${_e(he)}</div></button></div>`:jn<5&&(Ke+=`<div style="position: absolute; top: 0; left: 0; transform: translate(0%, -${15*jn}%)"><button class="chip-bet wrap" style="background-image: url(${Tt.background}); display: list-item;"><div className="content chip-temp">${_e(he)}</div></button></div>`)}),ze[0].innerHTML=Ke},n_=()=>{if(G.length>0){let he=G.pop(),ee=he.key,Ne=he.value;if(E(he.amount),j[ee].length>0){let Ee=j[ee].findIndex(Ke=>Ke.value==Ne),ze=j[ee][Ee];ze&&(ze.amount=ze.amount-he.amount,j[ee][Ee]=ze,Ei(ze.amount,ze.value))}x=x-he.amount>0?x-he.amount:0,G.length==0}},i_=()=>{let he=G.length;for(let Ne=0;Ne<he;Ne++){let Ee=G[Ne],ze=Ee.key,Ke=Ee.value;if(j[ze].length>0){let aa=j[ze].findIndex(Ci=>Ci.value==Ke),fr=j[ze][aa];fr&&(fr.amount=0,j[ze][aa]=fr,Ei(fr.amount,fr.value))}}x=0;for(let Ne=0;Ne<he;Ne++)G.pop();K({colors:[],numbers:[],parties:[],ranges:[],rows:[]}),_();let ee=JSON.stringify({status:j,command:G,chipValue:g});localStorage.setItem("rouletteBetData",ee)},s_=()=>{window.innerWidth<450?w="stacked":w=""};return U.useEffect(()=>{o&&(oe="manual",Yt())},[o]),U.useEffect(()=>{a&&(n_(),u(!1))},[a]),U.useEffect(()=>{l&&(i_(),c(!1))},[l]),U.useEffect(()=>{s?(Ue=0,pe=0,oe="auto",Yt(),A.current.classList.add("disabled")):(A.current.classList.remove("disabled"),oe="manual",w&&(B.current.style.display="none"),P.isMobile()&&re.matches&&(B.current.style.display="none")),s||M()},[s]),U.useEffect(()=>{let he=JSON.stringify({status:j,command:G,chipValue:g});localStorage.setItem("rouletteBetData",he)},[g]),U.useEffect(()=>{if(b>0){x=x*b,console.log("====>changedMulti",b,x);for(let ee in j)for(let Ne=0;Ne<j[ee].length;Ne++){const Ee=j[ee][Ne].amount;j[ee][Ne].amount=Ee*b>.5?Ee*b==1.25?1:Ee*b:.5,Ei(j[ee][Ne].amount,j[ee][Ne].value)}let he=JSON.stringify({status:j,command:G,chipValue:g});localStorage.setItem("rouletteBetData",he),T()}},[b]),s_(),H=we.getElementById("myCanvas"),H&&H.getContext("2d"),h.jsxs("div",{className:"game-content bg-pan "+(P.isMobile()&&re.matches," "),children:[h.jsx(X3,{}),w?h.jsx(I0,{isStacked:w}):"",h.jsx("div",{className:"wrap game-wrap roulette-pan py-[5px]",children:h.jsxs("div",{className:(w?"stacked ":"unstacked ")+"game-wrap"+(P.isMobile()&&re.matches?" landscape-row":" "),children:[w?"":h.jsx(I0,{isStacked:w}),h.jsxs("div",{className:"wrap game-content-wrap"+(P.isMobile()&&re.matches?" ":"pb-[1.5rem] flex flex-col justify-center items-center"),children:[h.jsx("span",{className:"rl-result content-loader",children:"Result"}),h.jsx("div",{className:"content game-content-wrap",children:h.jsx("span",{className:"roll-up game-content-wrap",style:{background:"none",duration:"200ms"}})})]}),h.jsxs("div",{className:"wrap wrap-history",children:[h.jsx("span",{className:"rl-result content-loader",children:"History"}),h.jsx("div",{className:"content wrap-history"+(P.isMobile()&&re.matches?" landscape":""),"data-test":"last-bets",style:{duration:"300ms"},id:"betContainer"})]}),h.jsx("div",{className:"wheel-house game-wrap",style:{display:w||P.isMobile()&&re.matches?"none":" flex"},ref:B,children:h.jsx("div",{className:"wrap wheel-house-wrap-content",children:h.jsx("div",{className:`content wheel-house-wrap-content ${P.isMobile()&&re.matches?"mobilelandscape":"stacked "} `,children:h.jsx("canvas",{id:"myCanvas",className:"canvas-main",width:"270",height:"270",style:{duration:"9000ms"}})})})}),h.jsxs("div",{className:(w?"stacked ":"unstacked ")+"wrap number-pan button-layout",ref:A,children:[h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1936"),className:`pocket range1936 btn-normal colorFalse ${w?" mt-[5px] mr-[2.5px]":" mt-[5px] "}`,"data-test":"range1936","data-amount":"0",style:{gridArea:"range1936",zIndex:"49","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"19 to 36"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("parties","parityOdd"),className:`pocket parityOdd btn-normal colorFalse ${w?" mt-[5px] mr-[2.5px]":"mt-[5px] mr-[5px]"}`,"data-test":"parityOdd","data-amount":"0",style:{gridArea:"parityOdd",zIndex:"48","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"Odd"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("colors","colorBlack"),className:`pocket colorBlack btn-normal colorTrue  ${w?"mt-[5px] mr-[2.5px]":"mt-[5px] mr-[5px]"}`,"data-test":"colorBlack","data-amount":"0",style:{gridArea:"colorBlack",zIndex:"47","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("colors","colorRed"),className:`pocket colorRed btn-normal colorTrue ${w?" mt-[5px] mr-[2.5px]":"mt-[5px] mr-[5px]"}  `,"data-test":"colorRed","data-amount":"0",style:{gridArea:"colorRed",zIndex:"46","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("parties","parityEven"),className:`pocket parityEven btn-normal colorFalse ${w?"  mr-[2.5px]":"mt-[5px] ml-[5px] mr-[5px]"} `,"data-test":"parityEven","data-amount":"0",style:{gridArea:"parityEven",zIndex:"45","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"Even"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0118"),className:`pocket range0118 btn-normal colorFalse ${w?" mr-[2.5px] mb-[5px]":" mt-[5px]"} `,"data-test":"range0118","data-amount":"0",style:{gridArea:"range0118",zIndex:"44","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal ",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"1 to 18"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2536"),className:`pocket range2536 btn-normal colorFalse  ${w?" mr-[5px] ml-[2.5px]":" mt-[5px]"}  `,"data-test":"range2536","data-amount":"0",style:{gridArea:"range2536",zIndex:"43","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"25 to 36"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1324"),className:`pocket range1324 btn-normal colorFalse ${w?" mr-[5px] ml-[2.5px] mb-[5px] mt-[5px]":" mt-[5px] mx-[5px]"} `,"data-test":"range1324","data-amount":"0",style:{gridArea:"range1324",zIndex:"42","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range rotate-z-90",children:"13 to 24"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0112"),className:`pocket range0112 btn-normal colorFalse ${w?" mr-[5px] ml-[2.5px]":"mt-[5px]"} `,"data-test":"range0112","data-amount":"0",style:{gridArea:"range0112",zIndex:"41","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:h.jsx("span",{className:"btn-range",children:"1 to 12"})})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("rows","row3"),className:`pocket row3 btn-normal colorFalse ${w?"mt-[5px]":"ml-[5px]"} `,"data-test":"row3","data-amount":"0",style:{gridArea:"row3",zIndex:"40","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"2:1"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("rows","row2"),className:`pocket row2 btn-normal colorFalse ${w?"mt-[5px]":"ml-[5px]"}`,"data-test":"row2","data-amount":"0",style:{gridArea:"row2",zIndex:"39","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"2:1"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("rows","row1"),className:`pocket row1 btn-normal colorFalse hasIdRow1 ${w?"mt-[5px]":"ml-[5px]"}`,"data-test":"row1","data-amount":"0",style:{gridArea:"row1",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"2:1"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0102"),className:"range0102 start-btn ","data-test":"range0102","data-amount":"0",style:{position:"relative",gridArea:"range0102",zIndex:"38",position:"relative","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0405"),className:"range0405","data-test":"range0405","data-amount":"0",style:{position:"relative",gridArea:"range0405",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0708"),className:"range0708","data-test":"range0708","data-amount":"0",style:{position:"relative",gridArea:"range0708",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1011"),className:"range1011","data-test":"range1011","data-amount":"0",style:{position:"relative",gridArea:"range1011",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1314"),className:"range1314","data-test":"range1314","data-amount":"0",style:{position:"relative",gridArea:"range1314",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1617"),className:"range1617","data-test":"range1617","data-amount":"0",style:{position:"relative",gridArea:"range1617",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1920"),className:"range1920","data-test":"range1920","data-amount":"0",style:{position:"relative",gridArea:"range1920",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2223"),className:"range2223","data-test":"range2223","data-amount":"0",style:{position:"relative",gridArea:"range2223",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2526"),className:"range2526","data-test":"range2526","data-amount":"0",style:{position:"relative",gridArea:"range2526",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2829"),className:"range2829","data-test":"range2829","data-amount":"0",style:{position:"relative",gridArea:"range2829",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsx("button",{disabled:S,onClick:()=>I("ranges","range3132"),className:"range3132","data-test":"range3132","data-amount":"0",style:{position:"relative",gridArea:"range3132",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"}}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3435"),className:"range3435","data-test":"range3435","data-amount":"0",style:{position:"relative",gridArea:"range3435",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0203"),className:"range0203 ","data-test":"range0203","data-amount":"0",style:{position:"relative",gridArea:"range0203",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0506"),className:"range0506 ","data-test":"range0506","data-amount":"0",style:{position:"relative",gridArea:"range0506",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0809"),className:"range0809","data-test":"range0809","data-amount":"0",style:{position:"relative",gridArea:"range0809",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1112"),className:"range1112","data-test":"range1112","data-amount":"0",style:{position:"relative",gridArea:"range1112",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1415"),className:"range1415 ","data-test":"range1415","data-amount":"0",style:{position:"relative",gridArea:"range1415",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1718"),className:"range1718","data-test":"range1718","data-amount":"0",style:{position:"relative",gridArea:"range1718",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2021"),className:"range2021","data-test":"range2021","data-amount":"0",style:{position:"relative",gridArea:"range2021",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2324"),className:"range2324","data-test":"range2324","data-amount":"0",style:{position:"relative",gridArea:"range2324",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2627"),className:"range2627","data-test":"range2627","data-amount":"0",style:{position:"relative",gridArea:"range2627",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2930"),className:"range2930","data-test":"range2930","data-amount":"0",style:{position:"relative",gridArea:"range2930",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3233"),className:"range3233","data-test":"range3233","data-amount":"0",style:{position:"relative",gridArea:"range3233",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3536"),className:"range3536","data-test":"range3536","data-amount":"0",style:{position:"relative",gridArea:"range3536",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0306"),className:"range0306","data-test":"range0306","data-amount":"0",style:{position:"relative",gridArea:"range0306",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0609"),className:"range0609","data-test":"range0609","data-amount":"0",style:{position:"relative",gridArea:"range0609",zIndex:"39","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0912"),className:"range0912","data-test":"range0912","data-amount":"0",style:{position:"relative",gridArea:"range0912",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1215"),className:"range1215","data-test":"range1215","data-amount":"0",style:{position:"relative",gridArea:"range1215",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1518"),className:"range1518","data-test":"range1518","data-amount":"0",style:{position:"relative",gridArea:"range1518",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1821"),className:"range1821","data-test":"range1821","data-amount":"0",style:{position:"relative",gridArea:"range1821",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2124"),className:"range2124","data-test":"range2124","data-amount":"0",style:{position:"relative",gridArea:"range2124",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2427"),className:"range2427","data-test":"range2427","data-amount":"0",style:{position:"relative",gridArea:"range2427",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2730"),className:"range2730","data-test":"range2730","data-amount":"0",style:{position:"relative",gridArea:"range2730",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3033"),className:"range3033","data-test":"range3033","data-amount":"0",style:{position:"relative",gridArea:"range3033",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3336"),className:"range3336 ","data-test":"range3336","data-amount":"0",style:{position:"relative",gridArea:"range3336",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0205"),className:"range0205 ","data-test":"range0205","data-amount":"0",style:{position:"relative",gridArea:"range0205",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0508"),className:"range0508","data-test":"range0508","data-amount":"0",style:{position:"relative",gridArea:"range0508",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0811"),className:"range0811","data-test":"range0811","data-amount":"0",style:{position:"relative",gridArea:"range0811",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1114"),className:"range1114","data-test":"range1114","data-amount":"0",style:{position:"relative",gridArea:"range1114",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1417"),className:"range1417","data-test":"range1417","data-amount":"0",style:{position:"relative",gridArea:"range1417",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1720"),className:"range1720","data-test":"range1720","data-amount":"0",style:{position:"relative",gridArea:"range1720",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2023"),className:"range2023","data-test":"range2023","data-amount":"0",style:{position:"relative",gridArea:"range2023",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2326"),className:"range2326","data-test":"range2326","data-amount":"0",style:{position:"relative",gridArea:"range2326",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2629"),className:"range2629","data-test":"range2629","data-amount":"0",style:{position:"relative",gridArea:"range2629",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2932"),className:"range2932","data-test":"range2932","data-amount":"0",style:{position:"relative",gridArea:"range2932",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3235"),className:"range3235","data-test":"range3235","data-amount":"0",style:{position:"relative",gridArea:"range3235",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0104"),className:"range0104 ","data-test":"range0104","data-amount":"0",style:{position:"relative",gridArea:"range0104",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0407"),className:"range0407","data-test":"range0407","data-amount":"0",style:{position:"relative",gridArea:"range0407",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0710"),className:"range0710","data-test":"range0710","data-amount":"0",style:{position:"relative",gridArea:"range0710",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1013"),className:"range1013","data-test":"range1013","data-amount":"0",style:{position:"relative",gridArea:"range1013",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1316"),className:"range1316","data-test":"range1316","data-amount":"0",style:{position:"relative",gridArea:"range1316",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1619"),className:"range1619","data-test":"range1619","data-amount":"0",style:{position:"relative",gridArea:"range1619",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1922"),className:"range1922","data-test":"range1922","data-amount":"0",style:{position:"relative",gridArea:"range1922",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2225"),className:"range2225","data-test":"range2225","data-amount":"0",style:{position:"relative",gridArea:"range2225",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2528"),className:"range2528","data-test":"range2528","data-amount":"0",style:{position:"relative",gridArea:"range2528",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2831"),className:"range2831","data-test":"range2831","data-amount":"0",style:{position:"relative",gridArea:"range2831",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3134"),className:"range3134","data-test":"range3134","data-amount":"0",style:{position:"relative",gridArea:"range3134",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0105"),className:"range0105","data-test":"range0105","data-amount":"0",style:{position:"relative",gridArea:"range0105",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0206"),className:"range0206","data-test":"range0206","data-amount":"0",style:{position:"relative",gridArea:"range0206",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0408"),className:"range0408","data-test":"range0408","data-amount":"0",style:{position:"relative",gridArea:"range0408",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0509"),className:"range0509","data-test":"range0509","data-amount":"0",style:{position:"relative",gridArea:"range0509",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0711"),className:"range0711","data-test":"range0711","data-amount":"0",style:{position:"relative",gridArea:"range0711",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range0812"),className:"range0812","data-test":"range0812","data-amount":"0",style:{position:"relative",gridArea:"range0812",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1014"),className:"range1014","data-test":"range1014","data-amount":"0",style:{position:"relative",gridArea:"range1014",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1115"),className:"range1115","data-test":"range1115","data-amount":"0",style:{position:"relative",gridArea:"range1115",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1317"),className:"range1317","data-test":"range1317","data-amount":"0",style:{position:"relative",gridArea:"range1317",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1418"),className:"range1418","data-test":"range1418","data-amount":"0",style:{position:"relative",gridArea:"range1418",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1620"),className:"range1620","data-test":"range1620","data-amount":"0",style:{position:"relative",gridArea:"range1620",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1721"),className:"range1721","data-test":"range1721","data-amount":"0",style:{position:"relative",gridArea:"range1721",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range1923"),className:"range1923","data-test":"range1923","data-amount":"0",style:{position:"relative",gridArea:"range1923",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2024"),className:"range2024","data-test":"range2024","data-amount":"0",style:{position:"relative",gridArea:"range2024",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2226"),className:"range2226","data-test":"range2226","data-amount":"0",style:{position:"relative",gridArea:"range2226",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2327"),className:"range2327","data-test":"range2327","data-amount":"0",style:{position:"relative",gridArea:"range2327",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2529"),className:"range2529","data-test":"range2529","data-amount":"0",style:{position:"relative",gridArea:"range2529",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2630"),className:"range2630","data-test":"range2630","data-amount":"0",style:{position:"relative",gridArea:"range2630",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2832"),className:"range2832","data-test":"range2832","data-amount":"0",style:{position:"relative",gridArea:"range2832",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range2933"),className:"range2933","data-test":"range2933","data-amount":"0",style:{position:"relative",gridArea:"range2933",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3135"),className:"range3135","data-test":"range3135","data-amount":"0",style:{position:"relative",gridArea:"range3135",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("ranges","range3236"),className:"range3236","data-test":"range3236","data-amount":"0",style:{position:"relative",gridArea:"range3236",zIndex:"38","--poketColor":"undefined","--poketColorLighten":"undefined","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number36"),className:"pocket number36 btn-normal colorTrue","data-test":"number36","data-amount":"0",style:{gridArea:"number36",zIndex:"37","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"36"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number35"),className:"pocket number35 btn-normal colorTrue","data-test":"number35","data-amount":"0",style:{gridArea:"number35",zIndex:"36","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"35"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number34"),className:"pocket number34 btn-normal colorTrue","data-test":"number34","data-amount":"0",style:{gridArea:"number34",zIndex:"35","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"34"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number33"),className:"pocket number33 btn-normal colorTrue","data-test":"number33","data-amount":"0",style:{gridArea:"number33",zIndex:"34","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"33"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number32"),className:"pocket number32 btn-normal colorTrue","data-test":"number32","data-amount":"0",style:{gridArea:"number32",zIndex:"33","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"32"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number31"),className:"pocket number31 btn-normal colorTrue","data-test":"number31","data-amount":"0",style:{gridArea:"number31",zIndex:"32","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"31"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number30"),className:"pocket number30 btn-normal colorTrue","data-test":"number30","data-amount":"0",style:{gridArea:"number30",zIndex:"31","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"30"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number29"),className:"pocket number29 btn-normal colorTrue","data-test":"number29","data-amount":"0",style:{gridArea:"number29",zIndex:"30","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"29"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number28"),className:"pocket number28 btn-normal colorTrue","data-test":"number28","data-amount":"0",style:{gridArea:"number28",zIndex:"29","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"28"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number27"),className:"pocket number27 btn-normal colorTrue","data-test":"number27","data-amount":"0",style:{gridArea:"number27",zIndex:"28","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"27"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number26"),className:"pocket number26 btn-normal colorTrue","data-test":"number26","data-amount":"0",style:{gridArea:"number26",zIndex:"27","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"26"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number25"),className:"pocket number25 btn-normal colorTrue","data-test":"number25","data-amount":"0",style:{gridArea:"number25",zIndex:"26","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"25"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number24"),className:"pocket number24 btn-normal colorTrue","data-test":"number24","data-amount":"0",style:{gridArea:"number24",zIndex:"25","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"24"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number23"),className:"pocket number23 btn-normal colorTrue","data-test":"number23","data-amount":"0",style:{gridArea:"number23",zIndex:"24","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"23"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number22"),className:"pocket number22 btn-normal colorTrue","data-test":"number22","data-amount":"0",style:{gridArea:"number22",zIndex:"23","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"22"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number21"),className:"pocket number21 btn-normal colorTrue","data-test":"number21","data-amount":"0",style:{gridArea:"number21",zIndex:"22","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"21"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number20"),className:"pocket number20 btn-normal colorTrue","data-test":"number20","data-amount":"0",style:{gridArea:"number20",zIndex:"21","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"20"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number19"),className:"pocket number19 btn-normal colorTrue","data-test":"number19","data-amount":"0",style:{gridArea:"number19",zIndex:"20","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"19"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number18"),className:"pocket number18 btn-normal colorTrue","data-test":"number18","data-amount":"0",style:{gridArea:"number18",zIndex:"19","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"18"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number17"),className:"pocket number17 btn-normal colorTrue","data-test":"number17","data-amount":"0",style:{gridArea:"number17",zIndex:"18","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"17"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number16"),className:"pocket number16 btn-normal colorTrue","data-test":"number16","data-amount":"0",style:{gridArea:"number16",zIndex:"17","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"16"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number15"),className:"pocket number15 btn-normal colorTrue","data-test":"number15","data-amount":"0",style:{gridArea:"number15",zIndex:"16","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"15"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number14"),className:"pocket number14 btn-normal colorTrue","data-test":"number14","data-amount":"0",style:{gridArea:"number14",zIndex:"15","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"14"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number13"),className:"pocket number13 btn-normal colorTrue","data-test":"number13","data-amount":"0",style:{gridArea:"number13",zIndex:"14","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"13"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number12"),className:"pocket number12 btn-normal colorTrue","data-test":"number12","data-amount":"0",style:{gridArea:"number12",zIndex:"13","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"12"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number11"),className:"pocket number11 btn-normal colorTrue","data-test":"number11","data-amount":"0",style:{gridArea:"number11",zIndex:"12","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"11"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number10"),className:"pocket number10 btn-normal colorTrue","data-test":"number10","data-amount":"0",style:{gridArea:"number10",zIndex:"11","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"10"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number9"),className:"pocket number9 btn-normal colorTrue","data-test":"number9","data-amount":"0",style:{gridArea:"number9",zIndex:"10","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"9"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number8"),className:"pocket number8 btn-normal colorTrue","data-test":"number8","data-amount":"0",style:{gridArea:"number8",zIndex:"9","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"8"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number7"),className:"pocket number7 btn-normal colorTrue","data-test":"number7","data-amount":"0",style:{gridArea:"number7",zIndex:"8","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"7"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number6"),className:"pocket number6 btn-normal colorTrue","data-test":"number6","data-amount":"0",style:{gridArea:"number6",zIndex:"7","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"6"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number5"),className:"pocket number5 btn-normal colorTrue","data-test":"number5","data-amount":"0",style:{gridArea:"number5",zIndex:"6","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"5"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number4"),className:"pocket number4 btn-normal colorTrue","data-test":"number4","data-amount":"0",style:{gridArea:"number4",zIndex:"5","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"4"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number3"),className:"pocket number3 btn-normal colorTrue","data-test":"number3","data-amount":"0",style:{gridArea:"number3",zIndex:"4","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"3"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number2"),className:"pocket number2 btn-normal colorTrue","data-test":"number2","data-amount":"0",style:{gridArea:"number2",zIndex:"3","--poketColor":"#030712","--poketColorLighten":"rgb(75, 110, 132)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"2"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number1"),className:"pocket number1 btn-normal colorTrue","data-test":"number1","data-amount":"0",style:{gridArea:"number1",zIndex:"2","--poketColor":"#ae0f05","--poketColorLighten":"rgb(254, 110, 134)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"1"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]}),h.jsxs("button",{disabled:S,onClick:()=>I("numbers","number0"),className:`pocket number0 btn-normal colorTrue ${w?" mb-[5px] ":" mr-[5px]"}`,"data-test":"number0","data-amount":"0",style:{gridArea:"number0",zIndex:"1","--poketColor":"#1da71a","--poketColorLighten":"rgb(105, 194, 103)","--poketColorBlack":"#030712","--poketColorBlackLighten":"rgb(75, 110, 132)"},children:[h.jsx("div",{className:"content btn-normal",children:h.jsx("div",{className:"name btn-normal",children:"0"})}),h.jsx("div",{className:"chips btn-normal",children:h.jsx("div",{className:"wrap btn-normal-sm"})})]})]})]})})]})},rI=()=>{const r=Xx(_e=>_e.dimension),e=Gu(),n=r.width/r.height,i=qa.WIDTH/qa.HEIGHT;let s=n>i?r.height/(qa.HEIGHT+S0):r.width/(qa.WIDTH+S0);const[o,a]=U.useState(!1),[l,u]=U.useState(!0),c=_e=>{u(_e)},[d,f]=U.useState(s),[p,m]=U.useState(!1),[g,x]=U.useState(!1),[b,y]=U.useState(!1),[_,v]=U.useState(!1),[w,E]=U.useState(0),[k,T]=U.useState(0),[C,M]=U.useState(.5),[P,S]=U.useState(0),[O,A]=U.useState(0),[B,G]=U.useState(0),[j,K]=U.useState(0),[R,H]=U.useState(0),[N,L]=U.useState(""),[V,se]=U.useState(!1),ne=()=>{m(!0)},ye=()=>{x(!0)},oe=()=>{x(!1)},ge=()=>{m(!1)},Pe=_e=>{M(_e)},Ue=_e=>{E(w+_e)},pe=_e=>{E(w-_e)},me=()=>{E(0)},xe=_e=>{T(parseInt(_e))},re=_e=>{S(parseInt(_e))},we=_e=>{A(parseInt(_e))},Re=_e=>{G(parseFloat(_e))},ke=_e=>{K(parseFloat(_e))},Ft=_e=>{console.log(_e),H(_e)},Yt=()=>{H(0)},Ls=()=>{se(!0)},Yu=()=>{se(!1)},I=()=>{window.innerWidth<450?L("stacked"):L("")};U.useLayoutEffect(()=>{I()},[]);const Kt=window.matchMedia("(orientation: landscape)");return Kt.addListener(_e=>{_e.matches?f(.5):console.log("Mobile device is not in landscape orientation")}),h.jsxs("div",{className:"overflow-auto dashboard-editor-container roulette-game-container",id:"dashboard",style:{zoom:N?1:e.isMobile()&&Kt.matches?d+.17:d,position:"fixed",width:"100%",height:e.isMobile()&&Kt.matches?"90%":"auto"},children:[p?h.jsx("div",{className:"overlay"+(e.isMobile()&&Kt.matches?"":" hidden")}):"",h.jsx("div",{className:"parent desktop-width",children:h.jsx("div",{className:"container desktop-width"+(N?" stacked":" unstacked"),children:h.jsx("div",{className:"game-wrapper game-wrap-container",children:h.jsx("div",{className:"content-wrapper content-wrap-container"+(e.isMobile()&&Kt.matches?" h-[100vh]":""),children:h.jsx("div",{className:"page-content"+(e.isMobile()&&Kt.matches?" overflow-y-auto":""),children:h.jsxs("div",{"data-test":"game-frame",className:"game-frame game-frame-content game-pan",children:[h.jsxs("div",{className:`content game-frame-content row ${N?" stacked ":" unstacked "} ${e.isMobile()&&Kt.matches?`min-h-[${Math.floor(100/(d+.23))}vh]`:" portrait"}`,children:[N?h.jsx(e_,{}):"",h.jsx(tI,{isStacked:N,IsStartedBet:p,setamountMulti:H,IsStartedAutoBet:g,IsUndo:b,IsClear:_,setIsUndo:y,setIsClear:v,betAmount:w,changedBetUnit:C,StopWin:B,StopLoss:j,changedBetCount:k,changedMulti:R,resetBet:ge,addChip:Ue,removeChip:pe,clearChip:me,selectBetCount:xe,stopAutoBet:oe,changeMulti:Ft,resetMulti:Yt,ChangedwinMulti:P,ChangedlossMulti:O,finished:Ls}),h.jsx(E3,{isStacked:N,amountMulti:R,setamountMulti:H,selectBetUnit:Pe,startBet:ne,startAutoBet:ye,stopAutoBet:oe,totalBet:w,changedBetCount:k,selectBetCount:xe,selWinmulti:re,selLossmulti:we,selectStopWin:Re,selectStopLoss:ke,changeMulti:Ft,IsStartedAutoBet:g,finished:Ls,resetFinished:Yu,setIsUndo:y,setIsClear:v})]}),h.jsx("div",{className:"w-full tabs-wrapper section-history"+(e.isMobile()&&Kt.matches?" ":" hidden"),children:h.jsx("div",{className:"slider variant-dark normal-com",children:h.jsxs("div",{className:"content-wrapper normal-com",children:[h.jsx("button",{name:"ActiveMyBets",disabled:o,className:"history-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(l==!0?" history-selected":""),onClick:()=>c(!0),children:h.jsx("span",{className:"content-or-loader content-loader",children:"My Bets"})}),h.jsx("button",{name:"ActiveBigWins",disabled:o,className:"history-btn btn btn-neutral btn-square w-10 h-10 min-h-10 ms-[6px]"+(l==!1?" history-selected":""),onClick:()=>c(!1),children:h.jsx("span",{className:"content-or-loader content-loader",children:"Big Wins"})})]})})}),h.jsx("div",{className:e.isMobile()&&Kt.matches?" ":" hidden",children:h.jsx(t_,{})})]})})})})})})]})};function nI(){const[r,e]=Xx(iN(o=>[o.setDimension,o.orientation]));Xe(o=>o.isAssetLoading),Xe(o=>o.errorMessage);const n=Xe(o=>o.phase);Xe(o=>o.setToggleValue),Xe(o=>o.setErrorMessage);const i=Xe(o=>o.setBetTime),s=U.useRef(null);return U.useEffect(()=>()=>{lo.reset()},[]),U.useEffect(()=>{if(n==="BET")return s.current=setInterval(()=>{i(.05)},50),()=>{s.current&&clearInterval(s.current)}},[n]),U.useLayoutEffect(()=>{const o=()=>{r(window.innerWidth,window.innerHeight)};return o(),window.addEventListener("resize",o),()=>{window.removeEventListener("resize",o)}},[]),h.jsx(rI,{})}ph.createRoot(document.getElementById("root")).render(h.jsx(Jn.StrictMode,{children:h.jsx("div",{className:"min-w-[100vw] min-h-[100vh] flex justify-center items-center",children:h.jsx(nI,{})})}));
